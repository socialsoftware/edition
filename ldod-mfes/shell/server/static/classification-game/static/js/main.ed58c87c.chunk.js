(this["webpackJsonpclassification-game"]=this["webpackJsonpclassification-game"]||[]).push([[0],{220:function(e,t,a){e.exports=a(445)},225:function(e,t,a){},232:function(e,t,a){},377:function(e,t,a){},439:function(e,t,a){},445:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(17),i=a.n(s),o=(a(225),a(27)),l=a.n(o),c=a(45),u=(a(153),a(63)),d=a(9),m=a(10),h=a(13),p=a(12),g=a(11),f=a(450),v=a(470),E=a(460),b=a(469),y="https://ldod.uc.pt/api",k="https://ldod.uc.pt/ws",x="/topic/ldod-game/",T="LdoD Classification Game",S=function(e){var t=new Headers({"Content-Type":"application/json"});localStorage.getItem("accessToken")&&t.append("Authorization","Bearer "+localStorage.getItem("accessToken"));var a={headers:t};return e=Object.assign({},a,e),fetch(e.url,e).then((function(e){return e.ok?e.json():Promise.reject(e)}))};function O(){if(!localStorage.getItem("accessToken"))return Promise.reject("No access token set.");var e=JSON.parse(atob(localStorage.getItem("accessToken").split(".")[1])),t=new Date(0);return t.setUTCSeconds(e.exp),new Date>t?(localStorage.removeItem("accessToken"),Promise.reject("Token expired.")):S({url:y+"/user",method:"GET"})}var j=r.a.createContext(),I=j.Provider,w=j.Consumer,C=function(e){Object(p.a)(a,e);var t=Object(g.a)(a);function a(e){return Object(d.a)(this,a),t.call(this,e)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(I,{value:this.state},this.props.children)}}]),a}(n.Component),L=(a(446),a(150)),N=(a(447),a(120)),M=(a(232),a(204)),U=N.a.Item,D=function(e){Object(p.a)(a,e);var t=Object(g.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=N.a.create()(A);return r.a.createElement("div",{className:"login-container"},r.a.createElement("h1",{className:"page-title"},"Login"),r.a.createElement("div",{className:"login-content"},r.a.createElement(e,{onLogin:this.props.onLogin})))}}]),a}(n.Component),A=function(e){Object(p.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleSubmit=n.handleSubmit.bind(Object(h.a)(n)),n}return Object(m.a)(a,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.props.form.validateFields((function(e,a){e||function(e){return S({url:y+"/auth/signin",method:"POST",body:JSON.stringify(e)})}(Object.assign({},a)).then((function(e){localStorage.setItem("accessToken",e.accessToken),t.props.onLogin()})).catch((function(e){401===e.status?u.a.error({message:T,description:"Your Username or Password is incorrect. Please try again!"}):u.a.error({message:T,description:"Sorry! Something went wrong. Please try again later!"})}))}))}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement(N.a,{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement(U,null,e("username",{rules:[{required:!0,message:"Please input your LdoD Username!"}]})(r.a.createElement(L.a,{prefix:r.a.createElement(M.a,{glyph:"user"}),size:"large",name:"username",placeholder:"LdoD Username"}))),r.a.createElement(U,null,e("password",{rules:[{required:!0,message:"Please input your LdoD Password!"}]})(r.a.createElement(L.a,{prefix:r.a.createElement(M.a,{glyph:"lock"}),size:"large",name:"password",type:"password",placeholder:"LdoD Password"}))),r.a.createElement(U,null,r.a.createElement("div",{className:"login-form"},r.a.createElement("button",{className:"btn btn-primary form-control",type:"submit"},"Login"))))}}]),a}(n.Component),G=D,P=a(209),R=a(451),V=a(452),F=a(453),B=a(147),W=(a(368),a(208)),K=(a(175),a(19));function H(e){var t=r.a.createElement(K.a,{type:"loading-3-quarters",style:{fontSize:50},spin:!0});return r.a.createElement(W.a,{indicator:t,style:{display:"block",textAlign:"center",marginTop:30}})}var z=a(449),q=a(111),J=function(e){Object(p.a)(a,e);var t=Object(g.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(P.a,{fluid:!0},r.a.createElement(z.a,{style:{backgroundColor:"white"}},r.a.createElement("div",{className:"text-center"},r.a.createElement("i",{className:"fa  fa-spin fa-wrench fa-5x"})),r.a.createElement("h1",{className:"text-center"},"Error 404: Page not found!")),r.a.createElement("div",{className:"text-center"},r.a.createElement(q.a,{bsStyle:"primary",componentClass:f.a,to:"/"},"Go Back ",r.a.createElement(M.a,{glyph:"home"}))))}}]),a}(n.Component),_=function(e){Object(p.a)(a,e);var t=Object(g.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(P.a,{fluid:!0},r.a.createElement(z.a,{style:{backgroundColor:"white"}},r.a.createElement("div",{className:"text-center"},r.a.createElement("i",{className:"fa  fa-spin fa-wrench fa-5x"})),r.a.createElement("h1",{className:"text-center"},"Error 500: Ooops! Something went wrong...")),r.a.createElement("div",{className:"text-center"},r.a.createElement(q.a,{bsStyle:"primary",componentClass:f.a,to:"/"},"Go Back ",r.a.createElement(M.a,{glyph:"home"}))))}}]),a}(n.Component),Y=function(e){Object(p.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={user:null,isLoading:!1,notFound:!1,publicVEs:[]},n.loadUserProfile=n.loadUserProfile.bind(Object(h.a)(n)),n.getUserPublicVirtualEditions=n.getUserPublicVirtualEditions.bind(Object(h.a)(n)),n}return Object(m.a)(a,[{key:"loadUserProfile",value:function(e){var t=this;this.setState({isLoading:!0}),function(e){return S({url:y+"/user/"+e,method:"GET"})}(e).then((function(e){t.setState({user:e,isLoading:!1})})).catch((function(e){404===e.status?t.setState({notFound:!0,isLoading:!1}):t.setState({serverError:!0,isLoading:!1})}))}},{key:"getUserPublicVirtualEditions",value:function(e){var t=this;(function(e){return S({url:y+"/services/"+e+"/public/virtualeditions",method:"GET"})})(e).then((function(e){t.setState({publicVEs:e})}))}},{key:"componentDidMount",value:function(){var e=this.props.match.params.username;this.loadUserProfile(e),this.getUserPublicVirtualEditions(e)}},{key:"componentWillReceiveProps",value:function(e){this.props.match.params.username!==e.match.params.username&&this.loadUserProfile(e.match.params.username)}},{key:"render",value:function(){return this.state.isLoading?r.a.createElement(H,null):this.state.notFound?r.a.createElement(J,null):this.state.serverError?r.a.createElement(_,null):r.a.createElement("div",{className:"profile"},r.a.createElement(P.a,{fluid:!0},this.state.user?r.a.createElement(R.a,null,r.a.createElement(V.a,{mdOffset:2,md:8,lgOffset:3,lg:6},r.a.createElement("h4",{className:"text-center"},this.state.user.firstName," ",this.state.user.lastName),r.a.createElement(F.a,null,"Virtual Editions:",this.state.publicVEs.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(B.a,{bsStyle:"info"},e.title))}))),r.a.createElement("a",{href:"https://ldod.uc.pt/edition/user/".concat(this.state.user.username)},r.a.createElement("em",null,"LdoD Archive")," profile."))):null))}}]),a}(n.Component),Q=(a(377),a(464)),Z=a(454),X=a(455),$=a(463),ee=a(456),te=function(e){Object(p.a)(a,e);var t=Object(g.a)(a);function a(e){return Object(d.a)(this,a),t.call(this,e)}return Object(m.a)(a,[{key:"render",value:function(){var e;if(this.props.currentUser){var t=this.props.currentUser.firstName+"  "+this.props.currentUser.lastName;e=r.a.createElement(Q.a.Collapse,null,r.a.createElement(Z.a,{pullRight:!0},r.a.createElement(X.a,{eventKey:1,componentClass:f.a,href:"/",to:"/"},r.a.createElement(M.a,{glyph:"home",className:"nav-icon"})),r.a.createElement(X.a,{eventKey:2,componentClass:f.a,href:"/about",to:"/about"},"About"),r.a.createElement(X.a,{eventKey:5,componentClass:f.a,href:"/leaderboard",to:"/leaderboard"},"Leaderboard"),r.a.createElement(X.a,{eventKey:6,componentClass:f.a,href:"/feedback",to:"/feedback"},"Feedback"),r.a.createElement($.a,{eventKey:5,title:t,id:"nav-dropdown"},r.a.createElement(ee.a,{eventKey:5.1,componentClass:f.a,href:"/user/".concat(this.props.currentUser.username),to:"/user/".concat(this.props.currentUser.username)},"Profile"),r.a.createElement(ee.a,{eventKey:5.2,onClick:this.props.onLogout},"Logout"))))}else e=r.a.createElement(Q.a.Collapse,null,r.a.createElement(Z.a,{pullRight:!0},r.a.createElement(X.a,{eventKey:1,componentClass:f.a,href:"/login",to:"/login"},"Login"),r.a.createElement(X.a,{eventKey:2,componentClass:f.a,href:"/about",to:"/about"},"About"),r.a.createElement(X.a,{eventKey:3,componentClass:f.a,href:"/feedback",to:"/feedback"},"Feedback")));return r.a.createElement(Q.a,{default:!0,collapseOnSelect:!0},r.a.createElement(Q.a.Header,null,r.a.createElement(Q.a.Brand,null,r.a.createElement(f.a,{to:"/"},"LdoD Classification Game")),r.a.createElement(Q.a.Toggle,null)),e)}}]),a}(n.Component),ae=Object(b.a)(te),ne=(a(396),a(216)),re=a(61),se=(a(398),a(151)),ie=(a(400),a(218)),oe=a(457),le=a(467),ce=a(468),ue=a(458),de=a(47),me=a.n(de),he=function(e){Object(p.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleTag=function(e){var t=e.target,a=t.tag.value;if(a.length<=1)return n.setState({validate:"error"}),void e.preventDefault();n.sendMessage(a),"<br>"+a,t.reset(),n.setState({tags:[].concat(Object(re.a)(n.state.tags),[a])}),e.preventDefault()},n.sendMessage=function(e){try{return n.clientRef.sendMessage("/ldod-game/"+n.props.gameId+"/tags",JSON.stringify({gameId:n.props.gameId,authorId:n.props.userId,msg:e,vote:1,paragraph:n.props.index})),!0}catch(t){return!1}},n.state={tags:[],value:" ",validate:n.props.disabled},n.handleTag=n.handleTag.bind(Object(h.a)(n)),n.getValidationState=n.getValidationState.bind(Object(h.a)(n)),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({socket:r.a.createElement(me.a,{url:k,topics:[x+this.props.gameId+"/tags"],ref:function(t){e.clientRef=t},onMessage:function(t){return e.props.handleMessageTag(t)}})})}},{key:"getValidationState",value:function(){return this.state.value.length<1?"warning":null}},{key:"handleChange",value:function(e){var t=e.target.value;this.setState({value:t})}},{key:"render",value:function(){var e=this,t=[];return this.state.tags.forEach((function(e,a){t.push(r.a.createElement(ie.a,{color:"#e1b12c",key:a},e))})),r.a.createElement("div",null,this.state.socket,r.a.createElement(P.a,null,r.a.createElement(R.a,null,r.a.createElement(V.a,{md:4,mdOffset:4,xs:5},r.a.createElement("form",{id:"form",autoComplete:"off",onSubmit:function(t){e.handleTag(t)}},r.a.createElement(oe.a,{validationState:this.getValidationState()},r.a.createElement(le.a,null,r.a.createElement(ce.a,{disabled:this.props.disabled,placeholder:"Tag this paragraph",id:"tag",type:"text",spellCheck:"true",onChange:this.handleChange.bind(this),autoFocus:!0})),r.a.createElement(ce.a.Feedback,null),r.a.createElement(q.a,{className:"btn btn-primary",disabled:this.props.disabled,type:"submit"},r.a.createElement("span",{className:"glyphicon glyphicon-plus"})))))),r.a.createElement(ue.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("span",{className:"glyphicon glyphicon-tag"})))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("div",null,t)))))))}}]),a}(n.Component),pe=Object(b.a)(he),ge=(a(439),function(e){Object(p.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).sendMessage=function(e,t){try{var a=3!==n.props.round?n.props.index:n.props.limit;return n.clientRef.sendMessage("/ldod-game/"+n.props.gameId+"/votes",JSON.stringify({gameId:n.props.gameId,voterId:n.props.userId,msg:e,vote:t,paragraph:a})),!0}catch(r){return!1}},n.onChange=function(e){return function(t){if(3!==n.props.round)return n.setState({disabled:!0}),void n.sendMessage(e.tag,1);null===n.state.previousVotedTag?(n.setState({previousVotedTag:e.tag}),n.sendMessage(e.tag,1)):(n.sendMessage(e.tag,1),n.sendMessage(n.state.previousVotedTag,-1),n.setState({previousVotedTag:e.tag}))}},n.state={socket:null,votes:[],previousVotedTag:null},n.handleMessageVote=n.handleMessageVote.bind(Object(h.a)(n)),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({socket:r.a.createElement(me.a,{url:k,topics:[x+this.props.gameId+"/votes"],ref:function(t){e.clientRef=t},onMessage:function(t){return e.handleMessageVote(t)}}),votes:this.props.initialTags,seconds:this.props.seconds,topTag:this.props.topTag,winner:this.props.winner}),this.interval=setInterval((function(){return e.tick()}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"componentDidUpdate",value:function(e){this.props.seconds!==e.seconds&&this.setState({seconds:this.props.seconds,topTag:this.props.topTag})}},{key:"tick",value:function(){this.setState((function(e){return{seconds:e.seconds-1}}))}},{key:"handleMessageVote",value:function(e){var t=this.state.votes,a=Object(re.a)(this.state.votes),n=Math.round(parseFloat(e[3])),r={authorId:e[1],tag:e[2],vote:n};for(var s in t)t[s].tag===r.tag&&(a.splice(s,1,r),this.setState({votes:a,topTag:e[4],winner:e[5]}))}},{key:"render",value:function(){var e,t=this,a=[],n=this.state.votes;return 3!==this.props.round?n.forEach((function(e,n){a.push(r.a.createElement("div",{className:"div-votes",key:n},r.a.createElement("div",null,r.a.createElement("label",null,r.a.createElement("span",{className:"title"},e.tag),r.a.createElement("input",{name:"voteGroup",type:"radio",onChange:t.onChange(e),disabled:t.state.disabled})))))})):(e=r.a.createElement("h3",{className:"text-center"},"Top tag: ",this.state.topTag),this.state.votes.forEach((function(e,n){a.push(r.a.createElement("div",{className:"div-votes",key:n},r.a.createElement("div",null,r.a.createElement("label",null,r.a.createElement("span",{className:"title"},e.tag),r.a.createElement("input",{name:"voteGroup",type:"radio",onChange:t.onChange(e),disabled:t.props.hasEnded}),r.a.createElement("span",{className:"vote"},e.vote)))))}))),r.a.createElement("div",null,this.state.socket,e,r.a.createElement(ue.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("span",{className:"glyphicon glyphicon-tag"}),"    ",3!==this.props.round?"Choose which tag is better...":null),3!==this.props.round?r.a.createElement("th",null," You suggested so far:  ",this.props.userSuggestedTags," "):null)),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("div",{className:"div-votes"},a))))))}}]),a}(n.Component)),fe=Object(b.a)(ge),ve=(a(440),a(215)),Ee=a(471),be=a(144),ye=function(e){Object(p.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={isLoading:!1,socket:null,votes:[],seconds:0,hasEnded:!1},n.handleMessageReview=n.handleMessageReview.bind(Object(h.a)(n)),n.getFinalTags=n.getFinalTags.bind(Object(h.a)(n)),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({votes:this.props.initialTags,seconds:this.props.seconds,isLoading:!0,socket:r.a.createElement(me.a,{url:k,topics:[x+this.props.gameId+"/review",x+this.props.gameId+"/sync"],ref:function(t){e.clientRef=t},onConnect:function(){e.getFinalTags()},onMessage:function(t){return e.handleMessageReview(t)}})}),this.interval=setInterval((function(){return e.tick()}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"componentDidUpdate",value:function(e){this.props.seconds!==e.seconds&&this.setState({seconds:this.props.seconds})}},{key:"tick",value:function(){this.setState((function(e){return{seconds:e.seconds-1}}))}},{key:"getFinalTags",value:function(){try{return this.clientRef.sendMessage("/ldod-game/"+this.props.gameId+"/review",JSON.stringify({gameId:this.props.gameId,voterId:this.props.userId,msg:"emptyMsg",vote:"emptyVote",limit:this.props.limit})),this.clientRef.sendMessage("/ldod-game/"+this.props.gameId+"/sync",JSON.stringify({gameId:this.props.gameId,voterId:this.props.userId,msg:"emptyMsg",vote:"emptyVote",limit:this.props.limit})),!0}catch(e){return!1}}},{key:"handleMessageReview",value:function(e){if("continue"!==e[0]){for(var t=[],a=e.pop(),n=Object.keys(a),r=Object.values(a),s=0;s<e.length;s++){var i={tag:e[s].tag,vote:Math.round(parseFloat(e[s].vote))};t.push(i)}this.setState({votes:t,topTag:r[0],winner:n[0]})}else this.setState({isLoading:!1})}},{key:"finishGame",value:function(){this.setState({hasEnded:!0}),this.props.endFragment()}},{key:"render",value:function(){return this.state.isLoading?r.a.createElement("div",null,r.a.createElement(Ee.a,{bsStyle:"info"},r.a.createElement("strong",null,"Quick break before the final step...")),this.state.socket,r.a.createElement(H,null)):r.a.createElement("div",null,r.a.createElement("div",{style:{marginTop:"-45px",display:"flex",alignItems:"center",justifyContent:"center",paddingBottom:"25px"}},r.a.createElement(be,{seconds:45,color:"#2ecc71",size:80,showMilliseconds:!1,onComplete:this.finishGame.bind(this)})),this.props.steps,r.a.createElement(P.a,{fluid:!0},r.a.createElement("h4",{className:"text-center"},"Tags submitted:"),r.a.createElement("div",{className:"well",style:{fontFamily:"georgia",fontSize:"small"}},r.a.createElement(fe,{gameId:this.props.gameId,userId:this.props.userId,seconds:30,round:3,limit:this.props.limit,topTag:this.state.topTag,hasEnded:this.state.hasEnded,initialTags:this.state.votes}),r.a.createElement(ve.a,{dashed:!0}),r.a.createElement("h4",{className:"text-center"},this.props.title),r.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.fullText}}))))}}]),a}(n.Component),ke=Object(b.a)(ye),xe=a(144),Te=se.a.Step,Se=function(e){Object(p.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={title:"",urlId:"",paragraphText:"",tags:[],round:1,seconds:5,disabled:!1,fullText:"",userSuggestedTags:[]},n.connect=n.connect.bind(Object(h.a)(n)),n.handleMessage=n.handleMessage.bind(Object(h.a)(n)),n}return Object(m.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this;e.round!==this.props.round&&e.paragraphText===this.props.paragraphText?this.setState({title:this.props.title,urlId:this.props.urlId,paragraphText:this.props.paragraphText,fullText:this.props.text,seconds:this.props.seconds,round:this.props.round,totalTime:this.props.totalTime,disabled:!1,isLoading:!0,socket:r.a.createElement(me.a,{url:k,topics:[x+this.props.gameId+"/sync"],ref:function(e){a.clientRef=e},onConnect:function(){a.connect()},onMessage:function(e){return a.handleMessage(e)}})}):e.round!==this.props.round&&e.paragraphText!==this.props.paragraphText&&this.setState({tags:[],title:this.props.title,urlId:this.props.urlId,paragraphText:this.props.paragraphText,fullText:this.props.text,seconds:this.props.seconds,round:this.props.round,totalTime:this.props.totalTime,disabled:!1,isLoading:!0,socket:r.a.createElement(me.a,{url:k,topics:[x+this.props.gameId+"/sync"],ref:function(e){a.clientRef=e},onConnect:function(){a.connect()},onMessage:function(e){return a.handleMessage(e)}})})}},{key:"connect",value:function(){try{return this.clientRef.sendMessage("/ldod-game/"+this.props.gameId+"/sync",JSON.stringify({gameId:this.props.gameId,userId:this.props.userId})),!0}catch(e){return!1}}},{key:"handleMessage",value:function(e){"continue"===e[0]&&this.setState({isLoading:!1})}},{key:"handleMessageTag",value:function(e){var t=this.state.tags,a=Object(re.a)(this.state.tags),n=!1,r={fragmentUrlId:e[0],authorId:e[1],tag:e[2],vote:e[3]};for(var s in t)t[s].tag===r.tag&&(a.splice(s,1,r),this.setState({tags:a}),n=!0);r.authorId===localStorage.getItem("currentUser")&&this.setState({userSuggestedTags:[].concat(Object(re.a)(this.state.userSuggestedTags),[r.tag+"   "]),disabled:!0}),n||this.setState({tags:[].concat(Object(re.a)(this.state.tags),[r])})}},{key:"render",value:function(){var e,t=this,a={marginTop:"-45px",display:"flex",alignItems:"center",justifyContent:"center",paddingBottom:"25px"},n=r.a.createElement(se.a,{direction:"horizontal",current:this.props.round-1},r.a.createElement(Te,{title:"Tag"}),r.a.createElement(Te,{title:"Vote"}),r.a.createElement(Te,{title:"Review"})),s=r.a.createElement("div",null,r.a.createElement("h4",{className:"text-center"},this.state.title),r.a.createElement("div",{className:"well",style:{fontFamily:"georgia",fontSize:"medium"}},r.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.paragraphText}})));if(this.state.isLoading)return r.a.createElement("div",null,r.a.createElement(Ee.a,{bsStyle:"info"},r.a.createElement("strong",null,"Syncing before next step...")),this.state.socket,r.a.createElement(H,null));if(1===this.props.round)e=r.a.createElement("div",null,r.a.createElement("div",{style:a},r.a.createElement(xe,{seconds:this.props.seconds,color:"#2ecc71",size:80,showMilliseconds:!1,onComplete:function(){return t.props.chooseNextStep("voting")}})),n,s,r.a.createElement(pe,{gameId:this.props.gameId,userId:this.props.userId,index:this.props.index,handleMessageTag:this.handleMessageTag.bind(this),disabled:this.state.disabled}));else if(2===this.props.round)e=r.a.createElement("div",null,r.a.createElement("div",{style:a},r.a.createElement(xe,{seconds:30.01,color:"#2ecc71",size:80,showMilliseconds:!1,onComplete:function(){return t.props.chooseNextStep("taggingNextParagraph")}})),n,s,r.a.createElement(fe,{seconds:this.props.seconds,gameId:this.props.gameId,userSuggestedTags:this.state.userSuggestedTags,userId:this.props.userId,limit:this.props.limit,index:this.props.index,initialTags:this.state.tags}));else if(3===this.props.round)return r.a.createElement("div",null,r.a.createElement(ke,{gameId:this.props.gameId,userId:this.props.userId,limit:this.props.limit,steps:n,endFragment:this.props.endFragment,totalTime:this.state.totalTime,initialTags:this.state.tags,title:this.state.title,fullText:this.state.fullText}));return r.a.createElement(P.a,{fluid:!0},e)}}]),a}(n.Component),Oe=Object(b.a)(Se),je=a(459),Ie=function(e){Object(p.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={fragment:{},secondAndText:[],text:"",paragraphText:[],index:0,seconds:5,round:0,tags:[],totalTime:0},n.splitIntoParagraph=n.splitIntoParagraph.bind(Object(h.a)(n)),n.nextParagraph=n.nextParagraph.bind(Object(h.a)(n)),n.chooseNextStep=n.chooseNextStep.bind(Object(h.a)(n)),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this.splitIntoParagraph(this.props.fragment.text).text,t=this.splitIntoParagraph(this.props.fragment.text).time,a=this.splitIntoParagraph(this.props.fragment.text).totalTime;this.setState({text:this.props.fragment.text,title:this.props.fragment.title,paragraphText:e,secondAndText:t,urlId:this.props.fragment.urlId,voting:!1,tagging:!0,round:1,totalTime:a})}},{key:"splitIntoParagraph",value:function(e){for(var t=[],a=[],n=e.split("</p>"),r=n,s=/(<([^>]+)>)/gi,i=0,o=0;o<r.length;o++){r[o]=r[o].replace(s,"").trim();var l=r[o].length,c=l>=181?l/4:45;t[o]=c,i+=c}for((r[0].includes("L. do D.")||r[0].length<=13)&&(n.splice(0,1),t.splice(0,1)),o=0;o<n.length;o++)/\S/.test(n[o])&&a.push(n[o]);return{text:a,time:t,totalTime:i}}},{key:"nextParagraph",value:function(){var e=this,t=this.state.index+1;this.state.index<this.state.paragraphText.length-1?this.setState((function(a){return{index:a.index+1,seconds:e.state.secondAndText[t]}})):this.state.index===this.state.paragraphText.length-1&&this.setState((function(e){return{index:0,seconds:e.secondAndText[0],round:e.round+1}}))}},{key:"chooseNextStep",value:function(e){var t=this,a=this.state.index+1;switch(e){case"voting":return void this.setState((function(e){return{round:2,seconds:e.seconds}}));case"taggingNextParagraph":return this.state.index===this.state.paragraphText.length-1?void this.setState((function(e){return{round:3}})):void this.setState((function(e){return{round:1,index:e.index+1,seconds:t.state.secondAndText[a]+.1}}));default:return void console.log("error")}}},{key:"render",value:function(){return r.a.createElement(P.a,{fluid:!0},r.a.createElement(Oe,{title:this.state.title,text:this.state.text,userId:this.props.userId,gameId:this.props.gameId,limit:this.state.paragraphText.length,nextParagraph:this.nextParagraph,paragraphText:this.state.paragraphText[this.state.index],seconds:this.state.secondAndText[this.state.index],index:this.state.index,round:this.state.round,totalTime:this.state.totalTime,chooseNextStep:this.chooseNextStep,endFragment:this.props.endFragment}),3===this.state.round?r.a.createElement("div",null):r.a.createElement(je.a,{min:0,bsStyle:"success",active:!0,now:this.state.index+1,max:this.state.paragraphText.length}))}}]),a}(n.Component),we=Object(b.a)(Ie),Ce=a(144),Le=function(e){Object(p.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={isActive:!1,isStarting:!0,fragment:null,game:null},n.invokeCommand=n.invokeCommand.bind(Object(h.a)(n)),n.endGame=n.endGame.bind(Object(h.a)(n)),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(c.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a=this.props.game.virtualEditionAcronym,n=this.props.game.virtualEditionInterDto.urlId,S({url:y+"/services/edition/"+a+"/inter/"+n,method:"GET"});case 2:t=e.sent,this.setState({fragment:t,game:this.props.game});case 4:case"end":return e.stop()}var a,n}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"endGame",value:function(){var e=Object(c.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a=this.props.gameId,S({url:y+"/services/ldod-game/end/"+a,method:"GET"});case 2:t=e.sent,this.setState({ended:!0,winner:t[0]});case 4:case"end":return e.stop()}var a}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"invokeCommand",value:function(e){switch(e){case"start":return void this.setState({isActive:!0,isStarting:!1});case"end":return this.endGame(),void this.setState({isActive:!0,isStarting:!1});default:return void console.log("error")}}},{key:"render",value:function(){var e=this;return this.state.ended?r.a.createElement(P.a,{fluid:!0},r.a.createElement(z.a,{style:{backgroundColor:"white"}},r.a.createElement("h1",{className:"text-center"},"The winner is: ",this.state.winner)),r.a.createElement("div",{className:"text-center"},r.a.createElement(q.a,{bsStyle:"primary",componentClass:f.a,to:"/leaderboard"},"Check leaderboard for all scores ",r.a.createElement(M.a,{glyph:"stats"})))):this.state.isActive?r.a.createElement(P.a,{fluid:!0},r.a.createElement(we,{fragment:this.state.fragment,userId:this.props.userId,gameId:this.props.gameId,endFragment:function(){return e.invokeCommand("end")}})):this.state.isStarting?r.a.createElement(P.a,{fluid:!0},r.a.createElement(Ee.a,{bsStyle:"info"},r.a.createElement("strong",null,"The game is about to start in: ")),r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement(Ce,{seconds:10,color:"#3498db",size:200,showMilliseconds:!1,onComplete:function(){return e.invokeCommand("start")}}))):void 0}}]),a}(n.Component),Ne=Object(b.a)(Le),Me=function(e){return r.a.createElement(w,null,(function(t){return r.a.createElement(Ue,Object.assign({},e,{context:t}))}))},Ue=function(e){Object(p.a)(a,e);var t=Object(g.a)(a);function a(e,n){var r;return Object(d.a)(this,a),(r=t.call(this,e,n)).state={socket:null,currentUsers:0,game:null,gameId:null,userId:" ",isLoading:!0,dateTime:0},r.connect=r.connect.bind(Object(h.a)(r)),r.onMessageReceive=r.onMessageReceive.bind(Object(h.a)(r)),r}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(c.a)(l.a.mark((function e(){var t,a,n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.match.params.id,a=this.props.context.games.find((function(e){return e.gameExternalId===t})),null!==this.props.context.currentUser){e.next=4;break}return e.abrupt("return");case 4:this.setState({game:a,gameId:t,userId:this.props.context.currentUser.username,dateTime:new Date(a.dateTime),socket:r.a.createElement(me.a,{url:k,topics:[x+t+"/register"],ref:function(e){n.clientRef=e},onConnect:function(){n.connect(t)},onMessage:function(e){return n.onMessageReceive(e)}})});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"connect",value:function(e){try{return this.clientRef.sendMessage("/ldod-game/"+e+"/connect",JSON.stringify({userId:this.props.context.currentUser.username,gameId:e})),this.clientRef.sendMessage("/ldod-game/"+e+"/register",JSON.stringify({userId:this.props.context.currentUser.username,gameId:e})),!0}catch(t){return!1}}},{key:"onMessageReceive",value:function(e){var t=e[0],a=e[1];"ready"!==a?"aborted"===a&&this.setState({isAborted:!0}):this.setState({currentUsers:t,isLoading:!1})}},{key:"loadVirtualEdition",value:function(){var e=Object(c.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.next=3,a=this.props.context.game.virtualEditionAcronym,S({url:y+"/services/edition/"+a+"/index",method:"GET"});case 3:t=e.sent,this.setState({virtualEdition:t});case 5:case"end":return e.stop()}var a}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.isAborted?r.a.createElement(P.a,{fluid:!0},r.a.createElement(z.a,{style:{backgroundColor:"white"}},r.a.createElement("h2",{className:"text-center"},"Not enough players joined this game...")),r.a.createElement("div",{className:"text-center"},r.a.createElement(K.a,{type:"frown",theme:"outlined",style:{fontSize:50}}))):this.state.isLoading?r.a.createElement(P.a,{fluid:!0},r.a.createElement(z.a,{style:{backgroundColor:"white"}},r.a.createElement("h2",{className:"text-center"},"Waiting 1 minute for users to join...")),this.state.socket,r.a.createElement("div",{className:"text-center"},r.a.createElement("i",{className:"fa fa-refresh fa-spin fa-5x fa-fw"}))):r.a.createElement(P.a,{fluid:!0},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(ne.a,{count:this.state.currentUsers,title:"Current online users",style:{backgroundColor:"#2ecc71",fontSize:"15px"}},r.a.createElement("span",{className:"glyphicon glyphicon-user",style:{fontSize:"25px"}})))),r.a.createElement(Ne,{userId:this.state.userId,gameId:this.state.gameId,game:this.state.game}))}}]),a}(n.Component),De=function(e){Object(p.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={users:[],points:[]},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(c.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S({url:y+"/services/ldod-game/leaderboard/",method:"GET"});case 2:t=e.sent,this.setState({users:t[0],points:t[1]});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=[],t=this.state.users,a=this.state.points;return t.forEach((function(t,n){e.push(r.a.createElement("tr",{key:n},r.a.createElement("td",null,n+1),r.a.createElement("td",null," ",r.a.createElement(f.a,{to:"/user/".concat(t)},t)),r.a.createElement("td",null,Math.round(a[n]))))})),r.a.createElement(P.a,null,r.a.createElement(ue.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Username"),r.a.createElement("th",null,"Points"))),r.a.createElement("tbody",null,e)))}}]),a}(n.Component),Ae=a(217),Ge=a(465),Pe=["component","authenticated"],Re=function(e){var t=e.component,a=e.authenticated,n=Object(Ae.a)(e,Pe);return r.a.createElement(E.a,Object.assign({},n,{render:function(e){return null!=a?r.a.createElement(t,Object.assign({},n,e)):r.a.createElement(Ge.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},Ve=a(461),Fe=a(462),Be=function(e){Object(p.a)(a,e);var t=Object(g.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(P.a,{fluid:!0},r.a.createElement(R.a,null,r.a.createElement(V.a,{md:12},r.a.createElement("div",{className:"text-center"},r.a.createElement("h1",null,"Frequently Asked Questions ",r.a.createElement(M.a,{glyph:"question-sign"}))))),r.a.createElement(R.a,null,r.a.createElement(V.a,{md:12},r.a.createElement(Ve.a,{accordion:!0},r.a.createElement(Fe.a,{eventKey:"1"},r.a.createElement(Fe.a.Heading,null,r.a.createElement(Fe.a.Title,{toggle:!0},"What is the ",r.a.createElement("em",null,"LdoD Archive"),"?")),r.a.createElement(Fe.a.Body,{collapsible:!0},r.a.createElement("p",null,"The ",r.a.createElement("em",null,"LdoD Archive")," is a collaborative digital archive of the ",r.a.createElement("em",null,"Book of Disquiet")," by Fernando Pessoa. It contains images of the autograph documents, new transcriptions of those documents and also transcriptions of four editions of the work.",r.a.createElement("br",null),"In addition to reading and comparing transcriptions, the ",r.a.createElement("em",null,"LdoD Archive")," enables users to collaborate in creating virtual editions of the ",r.a.createElement("em",null,"Book of Disquiet"),". It also includes a writing module which, in the future, will allow users to write variations based on fragments from the ",r.a.createElement("em",null,"Book"),". Thus the ",r.a.createElement("em",null,"LdoD Archive")," combines a representational principle with a simulation principle: the first is expressed through the representation of the history and processes of writing and editing the ",r.a.createElement("em",null,"Book"),"; the second is embodied in the fact that users are given the possibility of playing various roles in the literary process (reading, editing, writing), using the flexibility of the digital medium for experimenting with the",r.a.createElement("em",null,"Book of Disquiet")," as a literary machine."))),r.a.createElement(Fe.a,{eventKey:"2"},r.a.createElement(Fe.a.Heading,null,r.a.createElement(Fe.a.Title,{toggle:!0},"What is the the LdoD Classification Game?")),r.a.createElement(Fe.a.Body,{collapsible:!0},"In the scope of a master's thesis developed at Instituto Superior T\xe9cnico that focuses in Crowdsourcing and Gamification in the Ldod Archive, the LdoD Classification game was created.",r.a.createElement("br",null),"The game makes use of the LdoD Archive capabilities, which allows users to create new editions of the Book of Disquiet and share them with the other users.")),r.a.createElement(Fe.a,{eventKey:"3"},r.a.createElement(Fe.a.Heading,null,r.a.createElement(Fe.a.Title,{toggle:!0},"What do I have to do to start playing the LdoD Classification Game?")),r.a.createElement(Fe.a.Body,{collapsible:!0},"In order to play the game you have firstly be a registered user of the ",r.a.createElement("a",{href:"https://ldod.uc.pt/signin"},r.a.createElement("em",null,"LdoD Archive")),", after that you can play in games in which you are a member of the Virtual Edition that is associated with the game or game that are open to every user of the ",r.a.createElement("em",null,"Archive")," . Note that you also need to login on the game platform with your ",r.a.createElement("em",null,"LdoD Archive ")," credentials.")),r.a.createElement(Fe.a,{eventKey:"4"},r.a.createElement(Fe.a.Heading,null,r.a.createElement(Fe.a.Title,{toggle:!0},"How can I create a game for others to play?")),r.a.createElement(Fe.a.Body,{collapsible:!0},"You must be a Manager of a Virtual Edition on the ",r.a.createElement("em",null,"LdoD Archive"),". From the management area of a Virtual Edition you can create games and their settings (open to all users/only members; date and time of the game; small description of the game and which fragment to use in the game).")),r.a.createElement(Fe.a,{eventKey:"5"},r.a.createElement(Fe.a.Heading,null,r.a.createElement(Fe.a.Title,{toggle:!0},"What is the goal of the game?")),r.a.createElement(Fe.a.Body,{collapsible:!0},"The overall objective of the game is to categorize fragments of Virtual Editions in a fun and entertaining way. The game is split into three main rounds explained bellow.")),r.a.createElement(Fe.a,{eventKey:"6"},r.a.createElement(Fe.a.Heading,null,r.a.createElement(Fe.a.Title,{toggle:!0},"What is Round 1 - Submit ?")),r.a.createElement(Fe.a.Body,{collapsible:!0},"In this round, your goal is to read and analyse the paragraph shown on the screen in the given time and submit a tag which you think is adequate to classify what you read.")),r.a.createElement(Fe.a,{eventKey:"7"},r.a.createElement(Fe.a.Heading,null,r.a.createElement(Fe.a.Title,{toggle:!0},"What is Round 2 - Vote?")),r.a.createElement(Fe.a.Body,{collapsible:!0},"In this round, your goal is to vote in which of the tags suggested by the other game participants (and your own suggestion) is the best one. You can only vote once.")),r.a.createElement(Fe.a,{eventKey:"8"},r.a.createElement(Fe.a.Heading,null,r.a.createElement(Fe.a.Title,{toggle:!0},"What is Round 3 - Review?")),r.a.createElement(Fe.a.Body,{collapsible:!0},"This is the last stage of the game, you will have the fragment in full in your screen and the tags that had the most votes in the earlier rounds and you must vote on the best one, however now you can change your vote will the timer is active. But be careful, changing votes constantly makes you lose points. Check the Score question below.")),r.a.createElement(Fe.a,{eventKey:"9"},r.a.createElement(Fe.a.Heading,null,r.a.createElement(Fe.a.Title,{toggle:!0},"How is my score determined?")),r.a.createElement(Fe.a.Body,{collapsible:!0},"The score follows the following formula: Score = s + s-RWT + v-RWT + s-GWT + v-GWT + c, where",r.a.createElement("ul",null,r.a.createElement("li",null,"s, every submitted tag = 1 point"),r.a.createElement("li",null,"s-RWT, you submitted a tag that won a round = 5 points "),r.a.createElement("li",null,"v-RWT, you voted on a tag that won a round = 2 points "),r.a.createElement("li",null,"s-GWT, you submitted the tag that won the ",r.a.createElement("b",null,"game")," = 10 points "),r.a.createElement("li",null,"v-GWT, you voted on the tag that won the ",r.a.createElement("b",null,"game")," = 5 points "),r.a.createElement("li",null,"c, for each vote change in the final round you ",r.a.createElement("b",null,"lose")," 1 point "))))),r.a.createElement("h4",null,"For more information regarding the ",r.a.createElement("em",null,"LdoD Archive")," check ",r.a.createElement("a",{href:"https://ldod.uc.pt/about/faq"},"here"),".",r.a.createElement("br",null),"Other questions regarding the game, please contact us in the ",r.a.createElement(f.a,{to:"/feedback"},"Feedback section"),"."))))}}]),a}(n.Component),We=function(e){Object(p.a)(a,e);var t=Object(g.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(P.a,{fluid:!0},r.a.createElement("iframe",{title:"form",src:"https://docs.google.com/forms/d/e/1FAIpQLSftMgc-GItkGym-mysl8_JpBoIQSU_iLfPV5UeroP0LsAZudQ/viewform?embedded=true",width:"640",height:"2408",frameBorder:"0",marginHeight:"0",marginWidth:"0"},"A carregar..."))}}]),a}(n.Component),Ke=function(e){Object(p.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={currentUser:null,isAuthenticated:!1,isLoading:!1,activeGames:[],enabled:!1},n.handleLogout=n.handleLogout.bind(Object(h.a)(n)),n.loadCurrentUser=n.loadCurrentUser.bind(Object(h.a)(n)),n.handleLogin=n.handleLogin.bind(Object(h.a)(n)),n.getAndSetupGames=n.getAndSetupGames.bind(Object(h.a)(n)),u.a.config({placement:"topRight",top:80,duration:2}),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.loadCurrentUser(),this.getAndSetupGames(),setInterval(function(){this.getAndSetupGames()}.bind(this),6e4)}},{key:"componentWillUnmount",value:function(){}},{key:"loadCurrentUser",value:function(){var e=Object(c.a)(l.a.mark((function e(){var t=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({isLoading:!0}),O().then((function(e){localStorage.setItem("currentUser",e.username),t.setState({currentUser:e,isAuthenticated:!0})})).catch((function(e){t.setState({})}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleLogout",value:function(){localStorage.removeItem("accessToken"),localStorage.clear(),this.setState({currentUser:null,isAuthenticated:!1}),u.a.success({message:T,description:"You're successfully logged out."}),this.props.history.push("/")}},{key:"handleLogin",value:function(){var e=Object(c.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u.a.success({message:T,description:"You're successfully logged in."}),this.props.history.push("/"),e.next=4,this.loadCurrentUser();case 4:return e.next=6,this.getAndSetupGames();case 6:return e.abrupt("return");case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAndSetupGames",value:function(){var e=Object(c.a)(l.a.mark((function e(){var t,a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==localStorage.getItem("currentUser")){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,s=localStorage.getItem("currentUser"),S({url:y+"/services/ldod-game/"+s+"/active",method:"GET"});case 4:if(t=e.sent,a=null!=t[0]?new Date(t[0].dateTime):null,this.setState({activeGames:t,dateTime:a,enabled:!1,isLoading:!1}),null!=t[0]){e.next=9;break}return e.abrupt("return");case 9:n=new Date(t[0].dateTime),r=n.getTime()-(new Date).getTime(),setTimeout(function(){this.setState({enabled:!0}),u.a.info({message:T,description:"New game available!"})}.bind(this),r);case 12:case"end":return e.stop()}var s}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t={fontFamily:"Ubuntu",backgroundColor:"#3498db"},a=this.state.activeGames,n=[];return this.state.isAuthenticated&&a.forEach((function(e,t){var a=e.gameExternalId,s=new Date(e.dateTime),i=new Date,o=s.getHours()===i.getHours()&&s.getMinutes()===i.getMinutes()&&s.getDate()===i.getDate();n.push(r.a.createElement(B.a,{key:t,bsStyle:o?"success":"warning"},o?r.a.createElement("div",null,r.a.createElement(f.a,{to:"/game/".concat(a)},r.a.createElement(M.a,{glyph:"ok"}),"\xa0",r.a.createElement(q.a,{bsStyle:"primary"},"\xa0",e.virtualEditionTitle,":",e.virtualEditionInterDto.title))):r.a.createElement("div",null,r.a.createElement(M.a,{glyph:"lock"})),r.a.createElement("div",null,e.virtualEditionTitle,": ",r.a.createElement("a",{href:"https://ldod.uc.pt/fragments/fragment/"+"".concat(e.virtualEditionInterDto.fragmentId)+"/inter/"+"".concat(e.virtualEditionInterDto.urlId),target:"_blank"},"\xa0",e.virtualEditionInterDto.title)),"- ",s.toLocaleDateString()," ",s.toLocaleString(navigator.language,{hour:"numeric",minute:"2-digit"})))})),r.a.createElement(P.a,{fluid:!0},r.a.createElement(C,null,r.a.createElement(I,{value:{currentUser:this.state.currentUser,games:this.state.activeGames}},this.props.children,r.a.createElement(ae,{isAuthenticated:this.state.isAuthenticated,currentUser:this.state.currentUser,onLogout:this.handleLogout}),r.a.createElement("div",null,r.a.createElement(v.a,null,r.a.createElement(E.a,{exact:!0,path:"/",render:function(){return r.a.createElement("div",null,r.a.createElement(z.a,{style:t},r.a.createElement("h3",{className:"text-center"},"Welcome to the LdoD Game powered by LdoD Archive")),r.a.createElement(R.a,null,r.a.createElement(V.a,{md:12,xs:4},r.a.createElement("h4",{className:"text-center"},"Games:"),r.a.createElement(F.a,null,n))))}}),r.a.createElement(E.a,{path:"/login",render:function(t){return r.a.createElement("div",null,r.a.createElement(G,Object.assign({onLogin:e.handleLogin},t)))}}),r.a.createElement(E.a,{path:"/about",component:Be}),r.a.createElement(Re,{path:"/user/:username",authenticated:this.state.isAuthenticated,currentUser:this.state.currentUser,component:Y}),r.a.createElement(Re,{path:"/game/:id",authenticated:this.state.isAuthenticated,currentUser:this.state.currentUser,component:Me}),r.a.createElement(Re,{path:"/leaderboard",authenticated:this.state.isAuthenticated,currentUser:this.state.currentUser,component:De}),r.a.createElement(Re,{path:"/feedback",authenticated:this.state.isAuthenticated,currentUser:this.state.currentUser,component:We}),r.a.createElement(E.a,{component:J}))))))}}]),a}(n.Component),He=Object(b.a)(Ke),ze=a(466);a(443),a(444);i.a.render(r.a.createElement(ze.a,{basename:"classification-game"},r.a.createElement(He,null)),document.getElementById("root"))}},[[220,1,2]]]);
//# sourceMappingURL=main.ed58c87c.chunk.js.map