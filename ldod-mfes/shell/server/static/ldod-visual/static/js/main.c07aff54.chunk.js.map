{"version":3,"sources":["assets/card-pics-gray/square-golden-gray.png","assets/card-pics-gray/square-gray.png","assets/fragmentload.gif","assets/card-pics-regular/timeline.png","assets/card-pics-regular/word-cloud-singular.png","assets/card-pics-gray/timeline-gray.png","assets/card-pics-gray/word-cloud-singular-gray.png","assets/picnetgraph.png","assets/picsquaregrid.png","assets/pictimeline.png","assets/ldod-icon.png","assets/video-ldod-visual-1.mp4","assets/video-thumbnail.png","assets/available-previous.png","assets/available-next.png","assets/unavailable-previous.png","assets/unavailable-next.png","assets/goldnav/available-next-golden.png","assets/goldnav/available-previous-golden.png","assets/goldnav/unavailable-previous-golden.png","assets/goldnav/unavailable-next-golden.png","assets/loading.gif","services/RepositoryService.js","components/Fragment.js","actions/index.js","constants/action-types.js","constants/history-transitions.js","components/NetworkGraph.js","containers/NetworkGraphContainer.js","components/SquareGrid.js","components/MyWordCloud.js","components/MyHistory.js","components/ActivityMenu.js","components/HistoryMenu.js","components/NavigationButton.js","components/FragmentLoader.js","containers/PublicEditionContainerTable.js","App.js","registerServiceWorker.js","reducers/index.js","store/index.js","index.js","assets/card-pics-regular/netgraph.png","assets/card-pics-regular/square.png","assets/card-pics-regular/square-time.png","assets/card-pics-regular/word-cloud.png","assets/card-pics-gray/square-time-gray.png","assets/card-pics-gray/word-cloud-gray.png","assets/card-pics-regular/square-golden.png","assets/card-pics-gray/netgraph-gray.png"],"names":["module","exports","RepositoryService","editionAcronym","this","setAcronym","config","headers","localStorage","getItem","bodyParameters","key","axios","create","baseURL","timeout","state","acronym","get","interId","heteronym","text","date","taxonomy","post","styles","transition","replaceSpecialChars","word","tempWord","toString","toLowerCase","replace","ConnectedFragment","props","toggleTextSkimmingUpdate","opacity","fragTextMap","HashMap","oldTfIdfDataMap","currentFragmentTfIdfMap","lowestTfIdfValueMap","eliteWordsMap","min","max","truncateCounter","TfIdfRequestCounter","tfidfWordLimit","tfIdfWordLimitValues","lastTfFragId","currentlyDisplayedFragmentId","prevProps","console","log","recommendationIndex","setState","setTimeout","bind","fragmentToRender","stringArray","textToDisplay","outOfLandingPage","src","loadingGif","alt","className","allFragmentsLoaded","recommendationLoaded","toggleTextSkimming","recommendationArray","has","wordsTfIdfMap","lowestTfIdfValue","low","tfIdfLen","len","str","split","w","outOfTag","boldWeight","length","wordToCompare","tfIdf","parseFloat","includes","ReactDOMServer","renderToStaticMarkup","style","fontWeight","color","ReactHtmlParser","join","currentEdition","getFragmentTfIdf","then","response","data","temp","distinctTfIdfValues","stopWords","myMap","tempArray","reverse","tempCounter","map","d","index","Object","keys","set","values","push","obj","align","meta","title","React","Component","Fragment","connect","fragmentIndex","fragments","displayTextSkimming","datesExist","addFragment","fragment","type","payload","setFragmentIndex","setCurrentVisualization","currentVisualization","addHistoryEntry","historyEntry","setAllFragmentsLoaded","setOutOfLandingPage","setHistoryEntryCounter","historyEntryCounter","setRecommendationArray","setRecommendationIndex","setfragmentsHashMap","fragmentsHashMap","setCurrentFragmentMode","currentFragmentMode","setRecommendationLoaded","setVisualizationTechnique","visualizationTechnique","setSemanticCriteria","semanticCriteria","setSemanticCriteriaData","semanticCriteriaData","setSemanticCriteriaDataLoaded","semanticCriteriaDataLoaded","setPotentialVisualizationTechnique","potentialVisualizationTechnique","setPotentialSemanticCriteria","potentialSemanticCriteria","setPotentialSemanticCriteriaData","potentialSemanticCriteriaData","setFragmentsSortedByDate","fragmentsSortedByDate","setDisplayTextSkimming","setCategories","categories","setCurrentCategory","currentCategory","CRIT_CATEGORY","ConnectedNetworkGraph","_handleKeyDownActivity","event","keyCode","toggleInstructions","network","appRef","createRef","nodes","edges","options","minMaxList","show","showInstructions","targetIdActual","lessDistantFragmentDistance","truncateCheckBuffer","graphData","distance","targetIndex","f","id","shape","chosen","margin","size","border","background","highlight","hover","x","y","fixed","j","nrOfNonNullDistances","i","xFactor","yFactor","nodeBorderColor","distancePercentage","titleDistPerc","Math","round","ratio","hex","r","ceil","parseInt","substring","g","b","nodeBackgroundColor","angleSlice","PI","rand","random","valueToDec","edgeLengthFactor","cos","sin","myTitle","hasDateWhileCritDate","hoverBorderColor","originalFragmentSize","from","to","hidden","autoResize","layout","hierarchical","enabled","randomSeed","physics","interaction","dragNodes","dragView","zoomView","navigationButtons","hoverConnectedEdges","handleSelectNode","nodeId","globalViewToRender","onChange","historyVis","historyCriteria","originalFragment","nextFragment","vis","criteria","visualization","start","Date","getTime","document","addEventListener","container","getElementById","Network","height","window","innerHeight","redraw","focus","position","scale","offset","animation","duration","easingFunction","on","params","getElementsByTagName","cursor","orangeCircleText","paddingLeft","paddingRight","purpleCircleText","instructions","Button","bsStyle","bsSize","onClick","NetworkGraph","history","dispatch","ConnectedNetworkGraphContainer","networkGraphData","fragmentsDistanceLoaded","service","targetId","pHeteronymWeight","pTextWeight","pDateWeight","ptaxonomyWeight","getIntersByDistance","receivedArray","prevState","check","graphToRender","NetworkGraphContainer","truncateDate","substr","ConnectedSquareGrid","myCategory","myFragmentArray","potentialCategory","maxRows","floor","sqrt","inversionToggle","nrOfLines","highlightText","supportMessage","conditionalSpace","indexInc","dateLabel","usedShape","myBorderWidth","goldHighlightStyle","padding","borderWidth","borderColor","borderStyle","label","scaling","font","showEdge","arrows","hoverWidth","category","fit","setOptions","redSquareText","purpleSquareText","greySquareText","goldenSquareText","SquareGrid","setGoldenArray","goldenArray","ConnectedMyWordCloud","renderSquareMap","containerHeight","handleClickedWord","hasText","setPotentialCategory","componentToRender","message","myCategories","singleFragmentCategory","minFontSize","value","categoryCount","sort","a","fontSizeMapper","fontSize","display","justifyContent","width","marginBottom","rotate","onWordClick","MyWordCloud","ConnectedMyHistory","properties","actualIndex","refresh","locales","pt","locale","timeline","jsxToRender","handleClick","clearLoadingGif","myHistoryArray","item","historyItems","year","month","day","entryStyle","myDate","content","Timeline","z","n","imedPrevIndex","imedNextIndex","date1","year1","month1","myDate1","date2","year2","month2","myDate2","setWindow","MyHistory","ConnectedActivityMenu","toggleSquareGridEditionOrder","toggleSquareGridDateOrder","toggleSquareGridHeteronym","toggleWordCloudTaxonomy","toggleWordCloudTaxonomySingleFragment","toggleActivityMyHistoryDate","toggleActivityNetworkGraphTextSimilarity","toggleActivityNetworkGraphTaxonomy","handleActivitySelectRetreat","activityToRender","retreatButton","toggleActivityNetworkGraphHeteronym","categoryButtonMessage","networkGraphTaxonomyMessage","categoryButtonStyle","categoryButtonBotMessage","categoryImage","picWordCloud","networkGraphTaxonomyImage","picNetgraph","picNetgraphGray","picWordCloudGray","heteronymButtonStyle","heteronymButtonBotMessage","myHeteronym","heteronymImage","picSquareGoldenGray","picSquareGolden","datesButtonStyle","datesImage","picSquareTime","datesButtonFunction","datesButtonMessage","datesButtonBotMessage","datesSimilarButtonMessage","datesSimilarButtonStyle","datesSimilarImage","picTimelineGray","datesSimilarButtonBotMessage","picTimeline","picSquareTimeGray","wordCloudSingleFragmentMessage","wordCloudSingleFragmentButtonStyle","wordCloudSingleFragmentImage","picWordCloudSingular","wordCloudSingleBotMessage","picWordCloudSingularGray","picSquare","activitySelectable","ActivityMenu","ConnectedHistoryMenu","onInitialDrawComplete","historyCategory","historyPic","createElement","appendChild","createTextNode","img","picNetGraph","picSquareGrid","HistoryMenu","recommendationindex","ConnectedNavigationButton","myId","nextButton","fragmentChangeUpdate","DataSet","borderWidthSelected","multiselect","selectable","selectConnectedEdges","clickedNode","update","unselectAll","ConnectedFragmentLoader","sortedFragmentsByDate","toggleFragmentUpdate","idsDistanceArray","myNewRecommendationArray","frag","myTempObj","myTempHist","setHistory","setDatesExist","getFragments","unorderedFragments","noDateFragments","myFragmentsSortedByDate","frag1","frag2","day1","day2","concat","FragmentLoader","ConnectedPublicEditionContainerTable","addFilterPlaceholder","filters","querySelectorAll","filter","placeholder","handleOnChange","sliderNumberOfInters","editionsReceived","editions","expertEditionArray","handleButtonClick","getPublicEditions","e","hasCategories","numberOfInters","sendSelectedEdition","editionButtonList","availableEditionsCounter","titleMaxChars","numberOfIntersList","minNumberOfInters","maxNumberOfInters","expertObj","decodeEntities","nrFragments","navButton","tempOrderedExpertEdition","orderedCounter","categoryMessage","availableCategories","block","Number","apply","columns","Header","accessor","resizable","minWidth","filterable","filterMethod","row","column","pivotId","String","auxWord","auxFilter","undefined","toUpperCase","textAlign","Cell","Filter","target","assign","ReactTableDefaults","showPagination","defaultPageSize","pageSize","defaultSorted","desc","defaultSortMethod","sliderNum","labelsObj","ldodThumbnail","controls","autoplay","ldodVideo","expertEditionsCards","ldodIcon","Modal","Footer","tooltip","orientation","labels","PublicEditionContainerTable","ConnectedApp","_handleKeyDown","inReadingMenu","nextButtonAction","previousButtonAction","handleShowGlobalView","handleShowConfig","handleShowHistoric","handleToggleTextSkimming","toggleShowReadingMenuInstructions","goBackToTop","buttonToolBarToRender","goldenSquareArray","goldenIndex","goldenId","nextGoldenSquareIndex","previousGoldenSquareIndex","idleTimer","onAction","_onAction","onActive","_onActive","onIdle","_onIdle","handlePreviousGoldenButton","handleNextGoldenButton","forcePageReload","handleEditionSelectRetreat","handleFirstActivitySelectRetreat","previousFragmentButtonStyle","nextFragmentButtonStyle","showConfig","showGlobalView","showHistoric","showLanding","showLandingActivity","toggleUpdateFragmentsReceived","showEditionSelection","editionSelected","fadeIn","fadeInterval","fadeDelay","mouseOverMenuButtons","hiddenFromIdle","previousGoldenButtonClass","nextGoldenButtonClass","showReadingMenuIntructions","opacityHide","opacityShow","opacityOnText","opacityBarelyVisible","categoryButtonFunction","landingActivityToRender","handleCloseGlobalView","handleCloseConfig","handleCloseHistoric","handleCloseModals","handleCloseLanding","setMouseOverMenuButtons","setMouseOutMenuButtons","handleShowLandingActivitySquareEditionOrder","handleShowLandingActivitySquareDateOrder","handleShowLandingActivityWordCloudCategory","handleToggleFragmentsReceived","handleEditionsReceived","handleEditionSelected","addNewHistoryEntry","navArrowWidth","availablePreviousArrowButton","availablePreviousArrow","unavailablePreviousArrowButton","unavailablePreviousArrow","availableNextArrowButton","availableNextArrow","unavailableNextArrowButton","unavailableNextArrow","navArrowWidthGolden","availablePreviousArrowButtonGolden","availablePreviousArrowGolden","unavailablePreviousArrowButtonGolden","unavailablePreviousArrowGolden","availableNextArrowButtonGolden","availableNextArrowGolden","unavailableNextArrowButtonGolden","unavailableNextArrowGolden","scroll","scrollToTop","delay","smooth","scrollY","location","reload","setInterval","toggleTextSkimmingButtonMessage","fragLoader","previousNavButton","previousNavButtonGold","nextNavButton","nextNavButtonGold","editionTitleToDisplay","editionAcronymToDisplay","changeEdButton","readingMenuIntructions","progressBar","goBackToTopButton","textSkimmingButtonJsx","bannerClassName","onMouseOver","onMouseLeave","goldenSelectionCritCondition","tempObj","goldenPreviousLabel","goldenNextLabel","goldenPreviousButtonArrow","goldenNextButtonArrow","OverlayTrigger","placement","overlay","Tooltip","ButtonToolbar","onWheel","ref","element","debounce","url","Helmet","rel","href","property","tyle","fontFamily","dialogClassName","Body","onHide","closeButton","Title","App","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","catch","error","initialState","rootReducer","action","store","createStore","ReactDOM","render","URL","process","origin","fetch","status","indexOf","ready","unregister","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.c07aff54.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/square-golden-gray.cf940d7c.png\";","module.exports = __webpack_public_path__ + \"static/media/square-gray.cd1fa8d3.png\";","module.exports = __webpack_public_path__ + \"static/media/fragmentload.d89eab85.gif\";","module.exports = __webpack_public_path__ + \"static/media/timeline.fdf40b50.png\";","module.exports = __webpack_public_path__ + \"static/media/word-cloud-singular.baa08eac.png\";","module.exports = __webpack_public_path__ + \"static/media/timeline-gray.6eefbc29.png\";","module.exports = __webpack_public_path__ + \"static/media/word-cloud-singular-gray.e88c5f2e.png\";","module.exports = __webpack_public_path__ + \"static/media/picnetgraph.41b02b38.png\";","module.exports = __webpack_public_path__ + \"static/media/picsquaregrid.50e7c91d.png\";","module.exports = __webpack_public_path__ + \"static/media/pictimeline.e32f7dc7.png\";","module.exports = __webpack_public_path__ + \"static/media/ldod-icon.585ca04c.png\";","module.exports = __webpack_public_path__ + \"static/media/video-ldod-visual-1.faca86d1.mp4\";","module.exports = __webpack_public_path__ + \"static/media/video-thumbnail.b74f6e3f.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAARl0lEQVR4nO3dPXYVxwKF0dIbDjEMwxmkHpxTyDwMiJmOXoBlC9C9t//q79Teaykxwq6gF+frbvlSCgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA1T31PgCc9PeJ3/vHZaeAizw/P1/+73x68kc9v3NVMKMzo3+PIKA7AUArrgpmUWv03yIE6EYA0IqrgtG1HP5fCQGaEwC04qpgVD2H/1dCgGYEAK38r/cB4A0jjX8p450H4DRZyGj2ju33V1/fNnz/+1LKu1dfe3kaQFWeANCKq4KRbB3/16P/9cR/76n8FwQfd/w+EUA1AoBWXBWMYOvwfynnR/+WD2VfCIgAqhAAtOKqYASPAqDm8P9qTwiIAC4nAGjFVUFPW+78P5dS/qp9kDf8WUr5tOH7RACXEgC04qqgl5HH/8XWpwEigMsIAFpxVdDDDOP/2panASKASwgAWvE5ALQ22/iX8uMsnx98j88KAKYiAGhpxvF/IQKAKJ4L0cpIP+l/htcBVOUVAK24Kmjh0fiPetd/iwigGgFAK14BUFva+JfidQAQQABQU+L4vxABwNQEALUkj/8LEQBMSwBQwwrj/0IEAFMSAFxtpfF/IQKA6QgArrTi+L8QAcBUBABXWXn8X4gAYBoCgCsY//+IAGAKAoCzjP/vRAAwPAHAGcb/NhEADE0AcJTxf0wEAMMSABxh/LcTAcCQBAB7Gf/9RAAwHAHAlYz/bSIAGIoAYI97A2X8HxMBwDAEAFvdG6YvxfhvJQKAIQgAtng0SN+bnCKHCAC6EwCc9bmU8rX3ISYkAoCuBACPeO9fjwgAuhEAHOW9/zVEANCFAOCee8Pjvf91RADQnADgiC/Fe/+riQCgKQHALe7+2xMBQDMCgL3c/dclAoAmBAB7ufuvTwQA1QkA3nJrXL4Xd/+tiACgKgHAHu7+2xIBQDUCgD0EQHsiAKhCALDHt94HWJQIAC4nAGAOIgC4lACAeYgA4DICAOYiAoBLCACYjwgAThMAMCcRAJwiAGBeIgA4TADA3EQAcIgAgPmJAGA3AQAZRACwiwCAHCIA2EwAsMf73gfgIREAbCIA2ONd7wOwiQgAHhIA7CEA5iECgLsEAG/548Y/f1dKeWp5EE4RAcBNAoC9/BzAXEQA8CYBwF5eA8xHBAC/EQDs9bGU8qH3IdhNBAA/EQDccuvnAErxFGBWIgD4lwDgCE8B5iUCgFKKAOA+TwEyiQBAAHDYx1LKn70PwWEiABYnAHjk3lOAT8WrgJmJAFiYAOAsrwLmJgJgUQKALe49BfAqYH4iABYkANjq0asAETA3EQCLEQBcRQTMTwTAQgQAe9x7ClCKCEggAmARAoC9REA+EQALEAAcIQLyiQAIJwA4SgTkEwEQTABwhgjIJwIglADgLBGQTwRAIAHAFURAPhEAYQQAVxEB+UQABBEAXEkE5BMBEEIAcDURkE8EQAABQA0iIJ8IgMkJAGoRAflEAExMAFCTCMgnAmBSAoDaREA+EQATEgC0IALyiQCYjACgFRGQTwTARAQALYmAfCIAJiEAaE0E5BMBMAEBQA8iIJ8IgMEJAHoRAflEAAxMANCTCMgnAmBQAoDeREA+EQADEgCMQATkEwEwGAHAKERAPhEAAxEAjEQE5BMBMAgBwGhEQD4RAAMQAIxIBOQTAdCZAGBUIiCfCICOBAAjEwH5RAB0IgAYnQjIJwKgAwHADERAPhEAjQkAZiEC8okAaEgAMBMRkE8EQCMCgNmIgHwiABoQAMxIBOQTAVCZAGBWIiCfCICKBAAzEwH5RABUIgCYnQjIJwKgAgFAAhGQTwTAxQQAKURAPhEAFxIAJBEB+UQAXEQAkEYE5BMBcAEBQCIRkE8EwEkCgFQiIJ8IgBMEAMlEQD4RAAcJANKJgHwiAA4QAKxABOQTAbCTAGAVIiCfCIAdBAArEQH5RABsJABYjQjIJwJgAwHAikRAPhEADwgAViUC8okAuEMAsDIRkE8EwA0CgNWJgHwiAN4gAEAErEAEwC8EAPwgAvKJAHhFAMB/REA+EQD/EADwMxGQTwRAEQDwFhGQTwSwPAEAbxMB+UQASxMAcJsIyCcCWJYAgPtEQD4RwJIEADwmAvKJAJYjAGAbEZBPBLAUAQDbiYB8IoBlCADYRwTkEwEsQQDAfiIgnwggngCAY0RAPhFANAEAx4mAfCKAWAIAzhEB+UQAkQQAnCcC8okA4ggAuIYIyCcCiCIA4DoiIJ8IIIYAgGuJgHwigAgCAK4nAvKJAKYnAKAOEZBPBDA1AQD1iIB8IoBpCQCoSwTkEwFMSQBAfSIgnwhgOgIA2hAB+UQAUxEA0I4IyCcCmIYAgLZEQD4RwBQEALQnAvKJAIYnAKAPEZBPBDA0AQD9iIB8IoBhCQDoSwTkEwEMSQBAfyIgnwhgOAIAxiAC8okAhiIAYBwiIN/DCHh6ehIBNCEAYCwiIJ8IYAgCAMYjAvKJALoTADAmEZBPBNCVAIBxiYB8IoBuBACMTQTkEwF0IQBgfCIgnwigOQEAcxAB+UQATQkAmIcIyCcCaEYAwFxEQD4RQBMCAOYjAvKJAKoTADAnEZBPBFCVAIB5iYB8IoBqBADMTQTkEwFUIQBgfiIg35a/Shh2EQCQQQTkuxsBngKwlwCAHCIg31+llC+3flEEsIcAgCwiIN/3e78oAthKAEAeEZDta/HzAFxAAEAmEZDNzwNwmgCAXCIg292fB4BHBABkEwHZbv48gKcAPCIAIJ8IyPW1eArAQQIA1iACcnkKwCECANYhAjJ5CsAhAgDWIgIy3f1sAHiLAID1iIA8X8uNCPAagFsEAKxJBOTxFIBdBACsSwRkEQDsIgBgbSIgx7feB2AuAgAQAbAgAQCUsi0CPrQ4CNCGAABePIqAd01OATQhAIDX7kWAAIAgAgD41a0IeFdKeWp5EKAeAQAACxIAwK9ufXLc91LKc8uDAPUIAOC1ex8b64NmIIgAAF48+sx4AQBBBABQyuPx/1x+/IUzQAgBAGwZ/79aHIRT3vc+AHMRALA245/D5zSwiwCAdRn/LAKAXQQArMn4Z3kqNwLg+fn50Uc8sygBAOsx/nm8/2c3AQBrMf6ZPP5nNwEA6zD+mT6UUj72PgTzEQCwBuOf6+bdv/f/3CMAIJ/xz+Xun8MEAGQz/tnc/XOYAIBcxj/bn8XdPycIAMhk/LN9KKV8uvWL7v7ZQgBAHuOfz//2x2kCALIY/3x3H/27+2crAQA5jH++P4tH/1xEAEAG45/v7vjDXgIA5mf88z0cf3f/7CUAYG7GP5/xpwoBAPMy/vmMP9UIAJiT8c9n/KlKAMB8jH8+4091AgDmYvzzGX+aEAAwD+Ofz/jTjACAORj/fMafpgQAjM/45zP+NCcAYGzGP5/xpwsBAOMy/vmMP90IABiT8c9n/OlKAMB4jH8+4093AgDGYvzzGX+GIABgHMY/n/FnGAIAxmD88z0c/1KK8acZAQD9Gf98xp/hCADoy/jnM/4MSQBAP8Y/n/FnWAIA+jD++Yw/QxMA0J7xz2f8GZ4AgLaMfz7jzxQEALRj/PMZf6YhAKAN45/P+DMVAQD1Gf98xp/pCACoy/jnM/5MSQBAPcY/n/FnWgIA6jD++Yw/UxMAcD3jn8/4Mz0BANcy/vmMPxEEAFzH+Ocz/sQQAHAN45/P+BNFAMB5xj+f8SeOAIBzjH8+408kAQDHGf98xp9YAgCOMf75jD/RBADsZ/zzGX/iCQDYx/jnM/4sQQDAdsY/n/FnGQIAtjH++Yw/SxEA8Jjxz2f8WY4AgPuMfz7jz5IEANxm/PMZf5YlAOBtxj+f8WdpAgB+Z/zzGX+WJwDgZ8Y/n/GHIgDgNeOfz/jDPwQA/GD88xl/eEUAgPFfgfGHXwgAVmf88xl/eIMAYGXGP5/xhxsEAKsy/vmMP9whAFiR8c9n/OEBAcBqjH8+4w8bCABWYvzzGX/YSACwCuOfz/jDDgKAFRj/fMYfdhIApDP++Yw/HCAASGb88xl/OEgAkMr45zP+cIIAIJHxz2f84SQBQBrjn8/4wwUEAEmMfz7jDxcRAKQw/vmMP1xIAJDA+Ocz/nAxAcDsjH8+4w8VCABmZvzzGX+oRAAwK+Ofz/hDRQKAGRn/fMYfKhMAzMb45zP+0IAAYCbGP5/xh0YEALMw/vmMPzQkAJiB8c9n/KExAcDojH8+4w8dCABGZvzzGX/oRAAwKuOfz/hDRwKAERn/fMYfOhMAjMb45zP+MAABwEiMfz7jD4MQAIzC+Ocz/jAQAcAIjH8+4w+DEQD0ZvzzGX8YkACgJ+Ofz/jDoAQAvRj/fMYfBiYA6MH45zP+MDgBQGvGP5/xhwkIAFoy/vmMP0xCANCK8c9n/GEiAoAWjH8+4w+TEQDUZvzzGX+YkACgJuOfz/jDpAQAtRj/fMYfJiYAqMH45zP+MDkBwNWMfz7jDwEEAFcy/vmMP4QQAFzF+Ocz/hBEAHAF45/P+EMYAcBZxj+f8YdAAoAzjH8+4w+hBABHGf98xh+CCQCOMP75jD+EEwDsZfzzGX9YgADgSsZ/fsYfFiEA2OPe3b/xn5/xh4UIALa6N/5fivGfnfGHxQgAtnj03v97k1NQi/GHBQkAzvpcSvna+xAcZvxhUQKAR7z3z2X8YWECgKO895+b8YfFCQDuuXf3773/vIw/IAA45Evx3n9Wxh8opQgAbnP3n8f4A/8SAOzl7n9Oxh/4iQBgL3f/8zH+wG8EAG+59fj/e3H3PxvjD7xJALCHu/+5GH/gJgHAHgJgHsYfuEsAsMe33gdgE+MPPCQAIIvxBzYRAJDD+AObCQDIYPyBXQQAzM/4A7sJAJib8QcOEQAwL+MPHCYAYE7GHzhFAMB8jD9wmgCAuRh/4BICAOZh/IHLCAD2eN/7AAsz/sClBAB7vOt9gEUZf+ByAoA9BEB7xh+oQgDwlluD8q6U8tTyIIsz/kA1AoC9/BxAG8YfqEoAsJfXAPUZf6A6AcBeH0spH3ofIpjxB5oQANxyb2Q8BajD+APNCACO8BTgesYfaEoAcI+nAG0Yf6A5AcBRH8uP4eIc4w90IQB45N74fCpeBZxh/IFuBABneRVwjPEHuhIAbHFviLwK2M/4A90JALZ69CpABGxj/IEhCACuIgIeM/7AMAQAezwaJxFwm/EHhiIA2EsE7Gf8geEIAI4QAdsZf2BIAoCjRMBjxh8YlgDgDBFwm/EHhiYAOEsE/M74A8MTAFxBBPzH+ANTEABcRQQYf2AiAoArrRwBxh+YigDgaitGgPEHpiMAqGGlCDD+wJQEALWsEAHGH5iWAKCm5Agw/sDUBAC1JUaA8QemJwBoISkCjD8QQQDQSkIEGH8ghgCgpZkjwPgDUZ56H4Al/f3g17+UUr6XUr42OMsWxp9mnp+fL/93Pj35o57fuSro5VEElFLK51LKX7UPcseHUsq7UsrHB99n/LmMAKAVVwU9jRwBW+76SzH+XEwA0Iqrgt62REDLVwJb7/pLMf5UIABoxVXBCLZEQCl1Q2DP8Jdi/KlEANCKq4JRbI2AUn5EwMvXmRh4KqW8L/uGvxTjT0UCgFZcFYxmTwiU8nMMfNvw/S+D//K1l/GnKgFAK64KRrQ3Alow/DQhAGjFBwExotHGdrTzAJwmCxldz6cBhp/mPAGgFVcFs2gZAoafbgQArbgqmFGtGDD8dCcAaMVVwezOxIDBZzgCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYDH/B25Hsi/7uk91AAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"static/media/available-next-golden.f18bc289.png\";","module.exports = __webpack_public_path__ + \"static/media/available-previous-golden.16f04f84.png\";","module.exports = __webpack_public_path__ + \"static/media/unavailable-previous-golden.1d9b2a39.png\";","module.exports = __webpack_public_path__ + \"static/media/unavailable-next-golden.d54cfc78.png\";","module.exports = __webpack_public_path__ + \"static/media/loading.951c2859.gif\";","import axios from 'axios';\r\n\r\nexport class RepositoryService {\r\n  constructor(editionAcronym) {\r\n\r\n    //this.axios.setHeader('accept-encoding', 'null');\r\n\r\n    this.setAcronym = editionAcronym;\r\n\r\n    this.config = {\r\n      headers: {\r\n        'Authorization': \"bearer\" + localStorage.getItem('accessToken')\r\n      }\r\n    };\r\n\r\n    this.bodyParameters = {\r\n      key: \"value\"\r\n    }\r\n\r\n    this.axios = axios.create({\r\n      baseURL: 'https://ldod.uc.pt',\r\n      //baseURL: 'http://localhost:8080',\r\n      timeout: 100000,\r\n      headers: {\r\n        'X-Custom-Header': 'BlendedWorkflow',\r\n        'Authorization': 'Bearer' + localStorage.getItem('accessToken'),\r\n        'Content-type': 'application/json;charset=utf-8',\r\n        'responseEncoding': 'utf8'\r\n      }\r\n    });\r\n\r\n    this.state = {\r\n      //acronym: \"LdoD-Arquivo\"\r\n      //acronym: \"LdoD-test\"\r\n      //acronym: \"LdoD-Twitter\"\r\n      //acronym: \"LdoD-ReCritica\" p testar word cloud com menos items\r\n      acronym: \"LdoD-Mallet\"\r\n    };\r\n  }\r\n\r\n  // Specifications\r\n  getFragments() {\r\n    return this.axios.get(\"/virtualeditions/acronym/\" + this.setAcronym + \"/fragments\");\r\n  }\r\n\r\n  getTranscriptions() {\r\n    return this.axios.get(\"/virtualeditions/acronym/\" + this.setAcronym + \"/transcriptions\");\r\n  }\r\n\r\n  getIntersByDistance(interId, heteronym, text, date, taxonomy) {\r\n    return this.axios.post('/recommendation/' + interId + '/intersByDistance', {\r\n      'heteronymWeight': heteronym,\r\n      'textWeight': text,\r\n      'dateWeight': date,\r\n      'taxonomyWeight': taxonomy\r\n    });\r\n  }\r\n\r\n  //http://localhost:8080/virtualeditions/acronym/LdoD-test/interId/281861523767368/tfidf\r\n  getFragmentTfIdf(interId) {\r\n    return this.axios.get(\"/virtualeditions/acronym/\" + this.setAcronym + \"/interId/\" + interId + \"/tfidf\");\r\n  }\r\n\r\n  //http://localhost:8080/virtualeditions/public\r\n  //https://ldod.uc.pt/virtualeditions/public/\r\n  getPublicEditions() {\r\n    return this.axios.get(\"/virtualeditions/public/\");\r\n  }\r\n\r\n}\r\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport './Fragment.css';\r\nimport {RepositoryService} from \"../services/RepositoryService\";\r\nimport HashMap from \"hashmap\";\r\nimport ReactHtmlParser, {processNodes, convertNodeToElement, htmlparser2} from 'react-html-parser';\r\nimport ReactDOMServer from 'react-dom/server';\r\nimport loadingGif from '../assets/loading.gif';\r\n\r\nconst styles = {\r\n  transition: 'all 0.12s ease-out'\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    fragmentIndex: state.fragmentIndex,\r\n    fragments: state.fragments,\r\n    allFragmentsLoaded: state.allFragmentsLoaded,\r\n    outOfLandingPage: state.outOfLandingPage,\r\n    recommendationArray: state.recommendationArray,\r\n    recommendationIndex: state.recommendationIndex,\r\n    recommendationLoaded: state.recommendationLoaded,\r\n    displayTextSkimming: state.displayTextSkimming,\r\n    datesExist: state.datesExist\r\n  };\r\n};\r\n\r\nfunction replaceSpecialChars(word) {\r\n  let tempWord = word.toString().toLowerCase();\r\n  if (tempWord !== null) {\r\n\r\n    tempWord = tempWord.replace(/ç/gi, 'c')\r\n\r\n    tempWord = tempWord.replace(/á/gi, 'a')\r\n    tempWord = tempWord.replace(/à/gi, 'a')\r\n    tempWord = tempWord.replace(/ã/gi, 'a')\r\n    tempWord = tempWord.replace(/â/gi, 'a')\r\n\r\n    tempWord = tempWord.replace(/é/gi, 'e')\r\n    tempWord = tempWord.replace(/è/gi, 'e')\r\n    tempWord = tempWord.replace(/ê/gi, 'e')\r\n\r\n    tempWord = tempWord.replace(/í/gi, 'i')\r\n    tempWord = tempWord.replace(/ì/gi, 'i')\r\n    tempWord = tempWord.replace(/î/gi, 'i')\r\n\r\n    tempWord = tempWord.replace(/ò/gi, 'o')\r\n    tempWord = tempWord.replace(/ó/gi, 'o')\r\n    tempWord = tempWord.replace(/õ/gi, 'o')\r\n    tempWord = tempWord.replace(/ô/gi, 'o')\r\n\r\n    tempWord = tempWord.replace(/ù/gi, 'u')\r\n    tempWord = tempWord.replace(/ú/gi, 'u')\r\n    tempWord = tempWord.replace(/û/gi, 'u')\r\n\r\n    tempWord = tempWord.replace(/\\!/gi, '')\r\n    tempWord = tempWord.replace(/\\?/gi, '')\r\n    tempWord = tempWord.replace(/\\,/gi, '')\r\n    tempWord = tempWord.replace(/\\./gi, '')\r\n\r\n    //console.log(\"replaceSpecialChars \" + tempWord)\r\n  }\r\n  return tempWord;\r\n}\r\n\r\nexport class ConnectedFragment extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      toggleTextSkimmingUpdate: false,\r\n      opacity: 1\r\n    };\r\n\r\n    this.fragTextMap = new HashMap();\r\n\r\n    this.oldTfIdfDataMap = new HashMap();\r\n    this.currentFragmentTfIdfMap = new HashMap();\r\n    this.lowestTfIdfValueMap = new HashMap();\r\n\r\n    this.eliteWordsMap = new HashMap();\r\n\r\n    this.min = 1000;\r\n    this.max = 0.000001;\r\n    this.truncateCounter = 0;\r\n    this.TfIdfRequestCounter = 0;\r\n\r\n    this.tfidfWordLimit = 4;\r\n    this.tfIdfWordLimitValues = [];\r\n    this.lastTfFragId = \"\";\r\n    this.currentlyDisplayedFragmentId = \"\";\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    console.log(\"fragment.js: componentDidUpdate 1\");\r\n    if (this.props.recommendationIndex !== prevProps.recommendationIndex) {\r\n      console.log(\"fragment.js: componentDidUpdate 2\");\r\n      this.setState({opacity: 0});\r\n\r\n      setTimeout(function() {\r\n        this.setState({opacity: 1});\r\n      }.bind(this), 150);\r\n\r\n    }\r\n  }\r\n\r\n  render() {\r\n\r\n    (\"Fragment.js: render()\")\r\n\r\n    let fragmentToRender;\r\n    let textToDisplay = (<div/>);\r\n    if (this.props.outOfLandingPage) {\r\n      textToDisplay = (<div><img src={loadingGif} alt=\"loading...Fragment.js\" className=\"loadingGifCentered\"/>\r\n      </div>);\r\n    }\r\n    let stringArray;\r\n\r\n    if (this.props.allFragmentsLoaded && this.props.outOfLandingPage && this.props.recommendationLoaded) {\r\n\r\n      // console.log(\"XPTZ DATE: \" + this.props.recommendationArray[this.props.recommendationIndex].meta.date);\r\n      // console.log(\"XPTZ DATE EXISTS: \" + this.props.datesExist)\r\n\r\n      if (this.props.toggleTextSkimming) {\r\n        console.log(\"Fragment.js: => app.js wants toggleTextSkimming active!\");\r\n\r\n        this.currentlyDisplayedFragmentId = this.props.recommendationArray[this.props.recommendationIndex].interId;\r\n\r\n        if (!this.oldTfIdfDataMap.has(this.currentlyDisplayedFragmentId)) {\r\n          console.log(\"Fragment.js: !this.oldTfIdfDataMap.has(this.currentlyDisplayedFragmentId) => New TFIDF info needed, requesting TF-IDF for fragId \" + this.currentlyDisplayedFragmentId);\r\n\r\n          const service = new RepositoryService(this.props.currentEdition.acronym);\r\n\r\n          service.getFragmentTfIdf(this.currentlyDisplayedFragmentId).then(response => {\r\n\r\n            console.log(\"TF-IDF received for fragId \" + this.currentlyDisplayedFragmentId);\r\n            console.log(response.data);\r\n\r\n            let distinctTfIdfValues = 0;\r\n            let temp;\r\n\r\n            let stopWords = [\r\n              \"e\",\r\n              \"a\",\r\n              \"to\",\r\n              \"of\",\r\n              \"the\",\r\n              \"is\",\r\n              \"or\"\r\n            ];\r\n\r\n            console.log(\"===========================\");\r\n\r\n            let myMap = new HashMap();\r\n\r\n            let tempArray = response.data;\r\n            tempArray = tempArray.reverse();\r\n\r\n            // console.log(\"ble: \" + tempArray[0].word)\r\n            // console.log(\"ble: \" + tempArray[0].distance)\r\n            //\r\n            // for (var property in tempArray[0]) {\r\n            //   console.log(\"ble property: \" + property + \" | \" + Object.getOwnPropertyNames(tempArray[0]))  Outputs: foo, fiz or fiz, foo\r\n            // }\r\n\r\n            let tempCounter = 0;\r\n\r\n            tempArray.map(function(d, index) {\r\n              if (!stopWords.includes(Object.keys(d)[0].toString())) {\r\n\r\n                myMap.set(Object.keys(d)[0].toLowerCase(), Object.values(d)[0]);\r\n\r\n                if (tempCounter < this.tfidfWordLimit) {\r\n                  this.tfIdfWordLimitValues.push(Object.keys(d)[0].toLowerCase())\r\n                  tempCounter++;\r\n                }\r\n\r\n                Object.values(d)[0] = (Object.values(d)[0]);\r\n\r\n                if (temp !== Object.values(d)[0]) {\r\n                  temp = Object.values(d)[0];\r\n                  distinctTfIdfValues++;\r\n                }\r\n\r\n                console.log(\"response tf-idf data: \" + Object.keys(d)[0].toLowerCase() + \" \" + Object.values(d)[0]);\r\n              } else {\r\n                console.log(\"ignoring TF-IDF stopword: \" + Object.keys(d)[0]);\r\n              }\r\n            }.bind(this));\r\n\r\n            this.eliteWordsMap.set(this.currentlyDisplayedFragmentId, this.tfIdfWordLimitValues);\r\n            this.tfIdfWordLimitValues = [];\r\n            this.tfIdfWordLimitValues = [];\r\n\r\n            let obj = {\r\n              low: Object.values(tempArray[0])[0],\r\n              len: distinctTfIdfValues\r\n            }\r\n\r\n            this.lowestTfIdfValueMap.set(this.currentlyDisplayedFragmentId, obj);\r\n\r\n            this.oldTfIdfDataMap.set(this.currentlyDisplayedFragmentId, myMap);\r\n\r\n            this.TfIdfRequestCounter = this.TfIdfRequestCounter + 1;\r\n\r\n            this.setState({\r\n              toggleTextSkimmingUpdate: !this.state.toggleTextSkimmingUpdate\r\n            });\r\n\r\n          });\r\n\r\n        } else {\r\n          console.log(\"Fragment.js: => TF-IDF info already loaded. Using TF-IDF info in hashmap.\");\r\n          console.log(this.oldTfIdfDataMap.get(this.currentlyDisplayedFragmentId));\r\n\r\n          let dataMap;\r\n          let wordsTfIdfMap = this.oldTfIdfDataMap.get(this.currentlyDisplayedFragmentId);\r\n\r\n          let lowestTfIdfValue = this.lowestTfIdfValueMap.get(this.currentlyDisplayedFragmentId).low;\r\n          let tfIdfLen = this.lowestTfIdfValueMap.get(this.currentlyDisplayedFragmentId).len;\r\n\r\n          console.log(\"TF-IDF xxx LOWEST VALUE: \" + lowestTfIdfValue);\r\n          console.log(\"TF-IDF Xxx LEN: \" + tfIdfLen);\r\n\r\n          var str = this.props.recommendationArray[this.props.recommendationIndex].text;\r\n\r\n          //stringArray = str.split(\" \");\r\n          stringArray = str.split(\"<\");\r\n          stringArray = str.split(\">\");\r\n          stringArray = str.split(\",\");\r\n          stringArray = str.split(\".\");\r\n          stringArray = str.split(/(\\s+)/);\r\n          //console.log(str);\r\n          //stringArray = str.split(/ (?=[^>]*(?:<|$))/);\r\n\r\n          //stringArray = str.match(/<\\s*(\\w+\\b)(?:(?!<\\s*\\/\\s*\\1\\b)[\\s\\S])*<\\s*\\/\\s*\\1\\s*>|\\S+/g);\r\n\r\n          //console.log(\"ZZZZZZZZZZZZZZZZZZZZ \")\r\n          //console.log(stringArray);\r\n\r\n          let outOfTag = true;\r\n          let boldWeight = 1;\r\n          let w;\r\n          for (w = 0; w < stringArray.length; w++) {\r\n\r\n            if (stringArray[w] === \"<\") {\r\n              outOfTag = false;\r\n            } else if (stringArray[w] === \">\") {\r\n              outOfTag = true;\r\n            }\r\n\r\n            let wordToCompare = replaceSpecialChars(stringArray[w].toLowerCase());\r\n\r\n            if (wordsTfIdfMap.has(wordToCompare) && outOfTag && wordToCompare !== \"e\" && wordToCompare !== \"a\") {\r\n\r\n              // if (parseFloat(wordsTfIdfMap.get(wordToCompare)) !== lowestTfIdfValue || tfIdfLen == 1) {\r\n\r\n              let tfIdf = parseFloat(wordsTfIdfMap.get(replaceSpecialChars(stringArray[w].toLowerCase())));\r\n\r\n              // console.log(\"tf idf debug: wordToCompare: \" + wordToCompare)\r\n\r\n              // console.log(\"tf idf debug: tfIdfWordLimitValues: \" + this.tfIdfWordLimitValues)\r\n\r\n              // console.log(\"tf idf debug: (tfIdfWordLimitValues.indexOf(wordToCompare) !== -1): \" + (\r\n              // this.tfIdfWordLimitValues.indexOf(wordToCompare) !== -1))\r\n\r\n              if (outOfTag && this.eliteWordsMap.get(this.currentlyDisplayedFragmentId).includes(wordToCompare)) {\r\n\r\n                console.log(\"TF-IDF FOUND WORD: \" + stringArray[w]);\r\n                console.log(\"(this.eliteWordsMap.get(this.currentlyDisplayedFragmentId) \" + this.eliteWordsMap.get(this.currentlyDisplayedFragmentId) + \"| word2compare: \" + wordToCompare)\r\n\r\n                if (tfIdf < this.min) {\r\n                  this.min = tfIdf\r\n                }\r\n                if (tfIdf > this.max) {\r\n                  this.max = tfIdf\r\n                }\r\n\r\n                // boldWeight = 300 + (parseFloat((tfIdf * 10000)) * 599) / parseFloat((this.eliteWordsMap.get(this.currentlyDisplayedFragmentId)[0] * 10000))\r\n                //\r\n                // boldWeight = parseFloat(boldWeight);\r\n\r\n                let weights = [300, 400, 500, 600];\r\n\r\n                let top4words = this.eliteWordsMap.get(this.currentlyDisplayedFragmentId);\r\n\r\n                // let t;\r\n                // for (t = 0; t < this.tfidfWordLimit; t++) {\r\n                //   if (tfIdf == wordsTfIdfMap.get(top4words[t])) {\r\n                //     boldWeight = 300 + weights[t];\r\n                //   }\r\n                // }\r\n\r\n                boldWeight = 800; //boldweight deixou de responder granularmente com a variable font\r\n\r\n                //boldWeight = 300 + (tfIdf * 10000);\r\n\r\n                console.log(\"TfIdf for word \" + stringArray[w] + \": \" + tfIdf + \" | boldWeight: \" + boldWeight + \" \" + this.eliteWordsMap.get(this.currentlyDisplayedFragmentId)[0]);\r\n\r\n                // if (boldWeight > 899) {\r\n                //   boldWeight = 899;\r\n                //   console.log(\"truncating to 899\")\r\n                //   this.truncateCounter = this.truncateCounter + 1;\r\n                // }\r\n\r\n                stringArray[w] = ReactDOMServer.renderToStaticMarkup((<span style={{\r\n                    fontWeight: \"bold\",\r\n                    color: \"SteelBlue\"\r\n                  }}>\r\n                  {stringArray[w]}\r\n                </span>));\r\n\r\n                stringArray[w] = stringArray[w].toString();\r\n\r\n              } else if (!outOfTag) {\r\n                stringArray[w] = ReactHtmlParser(stringArray[w]);\r\n              }\r\n            }\r\n          }\r\n\r\n          textToDisplay = ReactHtmlParser(stringArray.join(''));\r\n\r\n        }\r\n\r\n      } else {\r\n        console.log(\"Fragment.js: text skimming is disabled. should reset to normal font.\")\r\n        textToDisplay = ReactHtmlParser(this.props.recommendationArray[this.props.recommendationIndex].text)\r\n      }\r\n\r\n      fragmentToRender = (<div className=\"box\" style={styles}>\r\n\r\n        <div style={{\r\n            ...styles,\r\n            opacity: this.state.opacity\r\n          }}>\r\n\r\n          <div className=\"fragmentTitle\">\r\n            <h1 align=\"center\">\r\n              <b>\r\n                {this.props.recommendationArray[this.props.recommendationIndex].meta.title}\r\n              </b>\r\n            </h1>\r\n          </div>\r\n\r\n          <br/>\r\n          <div className=\"fragmentText\">{textToDisplay}</div>\r\n        </div>\r\n      </div>);;\r\n    } else if (this.props.outOfLandingPage) {\r\n      fragmentToRender = (<div><img src={loadingGif} alt=\"loading...fragment.js\" className=\"loadingGifCentered\"/>\r\n      </div>);\r\n    }\r\n\r\n    return (<div>{fragmentToRender}</div>);\r\n  }\r\n}\r\nconst Fragment = connect(mapStateToProps)(ConnectedFragment);\r\nexport default Fragment;/*\n\n      <br/>\n\n      <p></p>\n\n      <span style={{\n          fontWeight: 0\n        }}>\n        Isto leva bold com valor a 0\n      </span>\n\n      <br/>\n\n      <span style={{\n          fontWeight: 1\n        }}>\n        Isto leva bold com valor a 1\n      </span>\n\n      <br/>\n\n      <span style={{\n          fontWeight: 5\n        }}>\n        Isto leva bold com valor a 5\n      </span>\n\n      <br/>\n\n      <span style={{\n          fontWeight: 100\n        }}>\n        Isto leva bold com valor a 100\n      </span>\n\n      <br/>\n\n      <span style={{\n          fontWeight: 150\n        }}>\n        Isto leva bold com valor a 150\n      </span>\n\n      <br/>\n\n      <span style={{\n          fontWeight: 200\n        }}>\n        Isto leva bold com valor a 200\n      </span>\n\n      <br/>\n\n      <span style={{\n          fontWeight: 250\n        }}>\n        Isto leva bold com valor a 250\n      </span>\n\n      <br/>\n\n      <span style={{\n          fontWeight: 300\n        }}>\n        Isto leva bold com valor a 300\n      </span>\n\n      <br/>\n\n      <span style={{\n          fontWeight: 350\n        }}>\n        Isto leva bold com valor a 350\n      </span>\n\n      <br/>\n\n      <span style={{\n          fontWeight: 400\n        }}>\n        Isto leva bold com valor a 400\n      </span>\n\n      <br/>\n\n      <span style={{\n          fontWeight: 450\n        }}>\n        Isto leva bold com valor a 450\n      </span>\n\n      <br/>\n\n      <span style={{\n          fontWeight: 500\n        }}>\n        Isto leva bold com valor a 500\n      </span>\n\n      <br/>\n\n      <span style={{\n          fontWeight: 550\n        }}>\n        Isto leva bold com valor a 550\n      </span>\n\n      <br/>\n\n      <span style={{\n          fontWeight: 600\n        }}>\n        Isto leva bold com valor a 600\n      </span>\n\n      <br/>\n\n      <span style={{\n          fontWeight: 650\n        }}>\n        Isto leva bold com valor a 650\n      </span>\n\n      <br/>\n\n      <span style={{\n          fontWeight: 700\n        }}>\n        Isto leva bold com valor a 700\n      </span>\n\n      <br/>\n\n      <span style={{\n          fontWeight: 750\n        }}>\n        Isto leva bold com valor a 750\n      </span>\n\n      <br/>\n\n      <span style={{\n          fontWeight: 800\n        }}>\n        Isto leva bold com valor a 800\n      </span>\n\n      <br/>\n\n      <span style={{\n          fontWeight: 850\n        }}>\n        Isto leva bold com valor a 850\n      </span>\n\n      <br/>\n\n      <span style={{\n          fontWeight: 900\n        }}>\n        Isto leva bold com valor a 900\n      </span>\n\n      <br/>\n\n      <span style={{\n          fontWeight: 950\n        }}>\n        Isto leva bold com valor a 950\n      </span>\n\n      <br/>\n\n      <span style={{\n          fontWeight: 999\n        }}>\n        Isto leva bold com valor a 999\n      </span>\n\n      <br/>\n\n      <span style={{\n          fontWeight: 1000\n        }}>\n        Isto leva bold com valor a 1000\n      </span>\n\n      <p></p>\n\n      <p>{this.props.recommendationArray[this.props.recommendationIndex].interId}</p>\n\n      <p>{this.props.recommendationArray[this.props.recommendationIndex].meta.date}</p>\n\n      */\r\n","import {ADD_FRAGMENT} from \"../constants/action-types\";\r\nimport {SET_FRAGMENT_INDEX} from \"../constants/action-types\";\r\nimport {SET_CURRENT_VISUALIZATION} from \"../constants/action-types\";\r\nimport {ADD_HISTORY_ENTRY} from \"../constants/action-types\";\r\nimport {SET_ALL_FRAGMENTS_LOADED} from \"../constants/action-types\";\r\nimport {SET_OUT_OF_LANDING_PAGE} from \"../constants/action-types\";\r\nimport {SET_HISTORY_ENTRY_COUNTER} from \"../constants/action-types\"\r\nimport {SET_RECOMMENDATION_ARRAY} from \"../constants/action-types\";\r\nimport {SET_RECOMMENDATION_INDEX} from \"../constants/action-types\";\r\nimport {SET_FRAGMENTS_HASHMAP} from \"../constants/action-types\";\r\nimport {SET_CURRENT_FRAGMENT_MODE} from \"../constants/action-types\";\r\nimport {SET_RECOMMENDATION_LOADED} from \"../constants/action-types\";\r\nimport {SET_VISUALIZATION_TECHNIQUE} from \"../constants/action-types\";\r\nimport {SET_SEMANTIC_CRITERIA} from \"../constants/action-types\";\r\nimport {SET_SEMANTIC_CRITERIA_DATA} from \"../constants/action-types\";\r\nimport {SET_SEMANTIC_CRITERIA_DATA_LOADED} from \"../constants/action-types\";\r\nimport {SET_POTENTIAL_VISUALIZATION_TECHNIQUE} from \"../constants/action-types\";\r\nimport {SET_POTENTIAL_SEMANTIC_CRITERIA} from \"../constants/action-types\";\r\nimport {SET_POTENTIAL_SEMANTIC_CRITERIA_DATA} from \"../constants/action-types\";\r\nimport {SET_FRAGMENTS_SORTED_BY_DATE} from \"../constants/action-types\";\r\nimport {SET_DISPLAY_TEXT_SKIMMING} from \"../constants/action-types\";\r\nimport {SET_CATEGORIES} from \"../constants/action-types\";\r\nimport {SET_CURRENT_CATEGORY} from \"../constants/action-types\";\r\nimport {SET_POTENTIAL_CATEGORY} from \"../constants/action-types\";\r\nimport {SET_HISTORY} from \"../constants/action-types\";\r\nimport {SET_DATES_EXIST} from \"../constants/action-types\";\r\nimport {SET_GOLDEN_ARRAY} from \"../constants/action-types\";\r\n\r\nexport const addFragment = fragment => ({type: ADD_FRAGMENT, payload: fragment});\r\n\r\nexport const setFragmentIndex = fragmentIndex => ({type: SET_FRAGMENT_INDEX, payload: fragmentIndex});\r\n\r\nexport const setCurrentVisualization = currentVisualization => ({type: SET_CURRENT_VISUALIZATION, payload: currentVisualization});\r\n\r\nexport const addHistoryEntry = historyEntry => ({type: ADD_HISTORY_ENTRY, payload: historyEntry});\r\n\r\nexport const setAllFragmentsLoaded = allFragmentsLoaded => ({type: SET_ALL_FRAGMENTS_LOADED, payload: allFragmentsLoaded});\r\n\r\nexport const setOutOfLandingPage = outOfLandingPage => ({type: SET_OUT_OF_LANDING_PAGE, payload: outOfLandingPage});\r\n\r\nexport const setHistoryEntryCounter = historyEntryCounter => ({type: SET_HISTORY_ENTRY_COUNTER, payload: historyEntryCounter});\r\n\r\nexport const setRecommendationArray = recommendationArray => ({type: SET_RECOMMENDATION_ARRAY, payload: recommendationArray});\r\n\r\nexport const setRecommendationIndex = recommendationIndex => ({type: SET_RECOMMENDATION_INDEX, payload: recommendationIndex});\r\n\r\nexport const setfragmentsHashMap = fragmentsHashMap => ({type: SET_FRAGMENTS_HASHMAP, payload: fragmentsHashMap});\r\n\r\nexport const setCurrentFragmentMode = currentFragmentMode => ({type: SET_CURRENT_FRAGMENT_MODE, payload: currentFragmentMode});\r\n\r\nexport const setRecommendationLoaded = recommendationLoaded => ({type: SET_RECOMMENDATION_LOADED, payload: recommendationLoaded});\r\n\r\nexport const setVisualizationTechnique = visualizationTechnique => ({type: SET_VISUALIZATION_TECHNIQUE, payload: visualizationTechnique});\r\n\r\nexport const setSemanticCriteria = semanticCriteria => ({type: SET_SEMANTIC_CRITERIA, payload: semanticCriteria});\r\n\r\nexport const setSemanticCriteriaData = semanticCriteriaData => ({type: SET_SEMANTIC_CRITERIA_DATA, payload: semanticCriteriaData});\r\n\r\nexport const setSemanticCriteriaDataLoaded = semanticCriteriaDataLoaded => ({type: SET_SEMANTIC_CRITERIA_DATA_LOADED, payload: semanticCriteriaDataLoaded});\r\n\r\nexport const setPotentialVisualizationTechnique = potentialVisualizationTechnique => ({type: SET_POTENTIAL_VISUALIZATION_TECHNIQUE, payload: potentialVisualizationTechnique});\r\n\r\nexport const setPotentialSemanticCriteria = potentialSemanticCriteria => ({type: SET_POTENTIAL_SEMANTIC_CRITERIA, payload: potentialSemanticCriteria});\r\n\r\nexport const setPotentialSemanticCriteriaData = potentialSemanticCriteriaData => ({type: SET_POTENTIAL_SEMANTIC_CRITERIA_DATA, payload: potentialSemanticCriteriaData});\r\n\r\nexport const setFragmentsSortedByDate = fragmentsSortedByDate => ({type: SET_FRAGMENTS_SORTED_BY_DATE, payload: fragmentsSortedByDate});\r\n\r\nexport const setDisplayTextSkimming = displayTextSkimming => ({type: SET_DISPLAY_TEXT_SKIMMING, payload: displayTextSkimming});\r\n\r\nexport const setCategories = categories => ({type: SET_CATEGORIES, payload: categories});\r\n\r\nexport const setCurrentCategory = currentCategory => ({type: SET_CURRENT_CATEGORY, payload: currentCategory});\r\n\r\nexport const setPotentialCategory = potentialCategory => ({type: SET_POTENTIAL_CATEGORY, payload: potentialCategory});\r\n\r\nexport const setHistory = history => ({type: SET_HISTORY, payload: history});\r\n\r\nexport const setDatesExist = datesExist => ({type: SET_DATES_EXIST, payload: datesExist});\r\n\r\nexport const setGoldenArray = goldenArray => ({type: SET_GOLDEN_ARRAY, payload: goldenArray});\r\n","export const ADD_FRAGMENT = \"ADD_FRAGMENT\";\r\nexport const SET_FRAGMENT_INDEX = \"SET_FRAGMENT_INDEX\";\r\nexport const SET_CURRENT_VISUALIZATION = \"SET_CURRENT_VISUALIZATION\";\r\nexport const ADD_HISTORY_ENTRY = \"ADD_HISTORY_ENTRY\";\r\nexport const SET_ALL_FRAGMENTS_LOADED = \"SET_ALL_FRAGMENTS_LOADED\";\r\nexport const SET_OUT_OF_LANDING_PAGE = \"SET_OUT_OF_LANDING_PAGE\";\r\nexport const SET_HISTORY_ENTRY_COUNTER = \"SET_HISTORY_ENTRY_COUNTER\";\r\nexport const SET_RECOMMENDATION_ARRAY = \"SET_RECOMMENDATION_ARRAY\";\r\nexport const SET_RECOMMENDATION_INDEX = \"SET_RECOMMENDATION_INDEX\";\r\nexport const SET_FRAGMENTS_HASHMAP = \"SET_FRAGMENTS_HASHMAP\";\r\nexport const SET_CURRENT_FRAGMENT_MODE = \"SET_CURRENT_FRAGMENT_MODE\";\r\nexport const SET_RECOMMENDATION_LOADED = \"SET_RECOMMENDATION_LOADED\";\r\n\r\nexport const SET_VISUALIZATION_TECHNIQUE = \"SET_VISUALIZATION_TECHNIQUE\";\r\nexport const SET_SEMANTIC_CRITERIA = \"SET_SEMANTIC_CRITERIA\";\r\nexport const SET_SEMANTIC_CRITERIA_DATA = \"SET_SEMANTIC_CRITERIA_DATA\";\r\nexport const SET_SEMANTIC_CRITERIA_DATA_LOADED = \"SET_SEMANTIC_CRITERIA_DATA_LOADED\";\r\n\r\nexport const SET_POTENTIAL_VISUALIZATION_TECHNIQUE = \"SET_POTENTIAL_VISUALIZATION_TECHNIQUE\";\r\nexport const SET_POTENTIAL_SEMANTIC_CRITERIA = \"SET_POTENTIAL_SEMANTIC_CRITERIA\";\r\nexport const SET_POTENTIAL_SEMANTIC_CRITERIA_DATA = \"SET_POTENTIAL_SEMANTIC_CRITERIA_DATA\";\r\n\r\nexport const SET_FRAGMENTS_SORTED_BY_DATE = \"SET_FRAGMENTS_SORTED_BY_DATE\";\r\n\r\nexport const SET_DISPLAY_TEXT_SKIMMING = \"SET_DISPLAY_TEXT_SKIMMING\";\r\n\r\nexport const SET_CATEGORIES = \"SET_CATEGORIES\";\r\nexport const SET_CURRENT_CATEGORY = \"SET_CURRENT_CATEGORY\";\r\nexport const SET_POTENTIAL_CATEGORY = \"SET_POTENTIAL_CATEGORY\";\r\n\r\nexport const SET_HISTORY = \"SET_HISTORY\";\r\n\r\nexport const SET_DATES_EXIST = \"SET_DATES_EXIST\"\r\n\r\nexport const SET_GOLDEN_ARRAY = \"SET_GOLDEN_ARRAY\"\r\n","export const BY_HISTORIC = \"BY_HISTORIC\";\r\nexport const BY_NEXTBUTTON = \"BY_NEXTBUTTON\";\r\nexport const BY_PREVIOUSBUTTON = \"BY_PREVIOUSBUTTON\";\r\nexport const BY_SQUAREGRID_EDITIONORDER = \"BY_SQUAREGRID_EDITIONORDER\";\r\nexport const BY_NETWORK_TEXTSIMILARITY = \"BY_NETWORK_TEXTSIMILARITY\";\r\n\r\nexport const CRIT_EDITION_ORDER = \"CRIT_EDITION_ORDER\";\r\nexport const CRIT_TEXT_SIMILARITY = \"CRIT_TEXT_SIMILARITY\";\r\nexport const CRIT_CHRONOLOGICAL_ORDER = \"CRIT_CHRONOLOGICAL_ORDER\";\r\nexport const CRIT_HETERONYM = \"CRIT_HETERONYM\";\r\nexport const CRIT_TAXONOMY = \"CRIT_TAXONOMY\";\r\nexport const CRIT_WORD_RELEVANCE = \"CRIT_WORD_RELEVANCE\";\r\nexport const CRIT_CATEGORY = \"CRIT_CATEGORY\";\r\nexport const CRIT_SINGLE_FRAGMENT_CATEGORY = \"CRIT_SINGLE_FRAGMENT_CATEGORY\";\r\n\r\nexport const VIS_NETWORK_GRAPH = \"VIS_NETWORK_GRAPH\";\r\nexport const VIS_SQUARE_GRID = \"VIS_SQUARE_GRID\";\r\nexport const VIS_WORD_CLOUD = \"VIS_WORD_CLOUD\";\r\nexport const VIS_TEXT_SKIMMING = \"VIS_TEXT_SKIMMING\";\r\nexport const VIS_TIMELINE = \"VIS_TIMELINE\";\r\n","import {Network} from \"vis\";\r\nimport React, {Component, createRef} from \"react\";\r\nimport {setFragmentIndex} from \"../actions/index\";\r\nimport {connect} from \"react-redux\";\r\nimport \"./NetworkGraph.css\";\r\nimport {\r\n  setCurrentVisualization,\r\n  addHistoryEntry,\r\n  setHistoryEntryCounter,\r\n  fragmentIndex,\r\n  setRecommendationArray,\r\n  setRecommendationIndex,\r\n  setCurrentFragmentMode,\r\n  setRecommendationLoaded,\r\n  setSemanticCriteriaDataLoaded,\r\n  setVisualizationTechnique,\r\n  setSemanticCriteria,\r\n  setSemanticCriteriaData\r\n} from \"../actions/index\";\r\nimport {VIS_NETWORK_GRAPH, BY_NETWORK_TEXTSIMILARITY, CRIT_TEXT_SIMILARITY, CRIT_CHRONOLOGICAL_ORDER} from \"../constants/history-transitions\";\r\nimport {Button, Popover, OverlayTrigger, Overlay} from \"react-bootstrap\";\r\nimport NetworkGraphContainer from \"../containers/NetworkGraphContainer\";\r\nimport HashMap from \"hashmap\";\r\nimport {RepositoryService} from \"../services/RepositoryService\";\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    fragments: state.fragments,\r\n    fragmentIndex: state.fragmentIndex,\r\n    currentVisualization: state.currentVisualization,\r\n    history: state.history,\r\n    historyEntryCounter: state.historyEntryCounter,\r\n    fragmentsHashMap: state.fragmentsHashMap,\r\n    recommendationArray: state.recommendationArray,\r\n    recommendationIndex: state.recommendationIndex,\r\n    currentFragmentMode: state.currentFragmentMode,\r\n    recommendationLoaded: state.recommendationLoaded,\r\n    semanticCriteriaDataLoaded: state.semanticCriteriaDataLoaded,\r\n    visualizationTechnique: state.visualizationTechnique,\r\n    semanticCriteria: state.semanticCriteria,\r\n    potentialVisualizationTechnique: state.potentialVisualizationTechnique,\r\n    potentialSemanticCriteria: state.potentialSemanticCriteria\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    setFragmentIndex: fragmentIndex => dispatch(setFragmentIndex(fragmentIndex)),\r\n    setCurrentVisualization: currentVisualization => dispatch(setCurrentVisualization(currentVisualization)),\r\n    addHistoryEntry: historyEntry => dispatch(addHistoryEntry(historyEntry)),\r\n    setHistoryEntryCounter: historyEntryCounter => dispatch(setHistoryEntryCounter(historyEntryCounter)),\r\n    setRecommendationArray: recommendationArray => dispatch(setRecommendationArray(recommendationArray)),\r\n    setRecommendationIndex: recommendationIndex => dispatch(setRecommendationIndex(recommendationIndex)),\r\n    setCurrentFragmentMode: currentFragmentMode => dispatch(setCurrentFragmentMode(currentFragmentMode)),\r\n    setRecommendationLoaded: recommendationLoaded => dispatch(setRecommendationLoaded(recommendationLoaded)),\r\n    setSemanticCriteriaDataLoaded: semanticCriteriaDataLoaded => dispatch(setSemanticCriteriaDataLoaded(semanticCriteriaDataLoaded)),\r\n    setVisualizationTechnique: visualizationTechnique => dispatch(setVisualizationTechnique(visualizationTechnique)),\r\n    setSemanticCriteria: semanticCriteria => dispatch(setSemanticCriteria(semanticCriteria)),\r\n    setSemanticCriteriaData: semanticCriteriaData => dispatch(setSemanticCriteriaData(semanticCriteriaData))\r\n  };\r\n};\r\n\r\nfunction truncateText(text, length) {\r\n  if (text.length <= length) {\r\n    return text;\r\n  }\r\n\r\n  return text.substr(0, length) + \"\\u2026\";\r\n}\r\n\r\nclass ConnectedNetworkGraph extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.network = {};\r\n    this.appRef = createRef();\r\n    this.nodes = [];\r\n    this.edges = [];\r\n    this.options = [];\r\n    this.minMaxList = [];\r\n    this.recommendationArray = [];\r\n\r\n    this.state = {\r\n      show: false,\r\n      showInstructions: false\r\n    };\r\n\r\n    //console.log(this.props.graphData)\r\n    //console.log(\"my graph data length: \" + this.props.graphData.length);\r\n    //this.props.graphData.map(d => console.log(\"my graphData id: \" + d.interId + \" distance: \" + d.distance + \" title: \" + this.props.fragmentsHashMap.get(d.interId).meta.title));\r\n\r\n    const maxFragsAnalyzedPercentage = 1.0;\r\n    let mostDistantFragmentDistance = 1 //this.props.graphData[this.props.graphData.length - 1].distance;\r\n    let lessDistantFragmentDistance = 1\r\n    const graphHeight = 500;\r\n\r\n    let truncateCheckBuffer = [];\r\n    let truncateFloor = 20;\r\n\r\n    this.props.graphData.map(function(d) {\r\n\r\n      if ((d.distance / mostDistantFragmentDistance * 100) < truncateFloor && d.distance !== 0) {\r\n        //console.log(\"my graphData id: \" + d.interId + \" |distance: \" + d.distance + \" |title: \" + this.props.fragmentsHashMap.get(d.interId).meta.title + \" |distance percentage: \" + d.distance / mostDistantFragmentDistance * 100)\r\n        truncateCheckBuffer.push(d)\r\n      }\r\n    }.bind(this));\r\n\r\n    this.targetIndex = 0;\r\n\r\n    this.props.graphData.map(function(f, index) {\r\n      if (f.interId == targetIdActual) {\r\n        this.targetIndex = index\r\n      }\r\n    }.bind(this));\r\n\r\n    let targetIdActual\r\n    if (this.props.fragments[this.props.fragmentIndex].interId) {\r\n      targetIdActual = this.props.fragments[this.props.fragmentIndex].interId;\r\n    }\r\n    if (this.props.currentFragmentMode) {\r\n      targetIdActual = this.props.recommendationArray[this.props.recommendationIndex].interId;\r\n    }\r\n\r\n    let originalFragmentSize = 6; //Math.floor(this.props.graphData.length * 0.05); 60; Math.max(5, Math.floor(this.props.graphData.length * 0.01));\r\n    //BUILD atual FRAGMENT NODE\r\n    let obj;\r\n    obj = {\r\n      id: this.props.graphData[this.targetIndex].interId,\r\n      //label: \"\",//this.props.fragments[this.props.fragmentIndex].meta.title,\r\n      shape: \"dot\",\r\n      chosen: false,\r\n      margin: 5, //só funciona com circle...\r\n      size: originalFragmentSize,\r\n      color: {\r\n        border: \"#DC143C\",\r\n        background: \"#FF7F50\",\r\n        highlight: {\r\n          color: \"#DC143C\",\r\n          background: \"#FF7F50\"\r\n        },\r\n        hover: {\r\n          border: \"#DC143C\",\r\n          background: \"#FF7F50\"\r\n        }\r\n      },\r\n      title: this.props.fragmentsHashMap.get(targetIdActual).meta.title,\r\n      x: 0,\r\n      y: 0,\r\n      fixed: true\r\n    };\r\n\r\n    this.nodes.push(obj);\r\n    this.recommendationArray.push(this.props.fragmentsHashMap.get(this.props.graphData[0].interId));\r\n    //this.props.graphData.map((f, index) => console.log(\"Distance: \" + f.distance + \" index:\" + index));\r\n\r\n    //BUILD REMAINING FRAGMENTS' NODES\r\n\r\n    let nrOfNonNullDistances = 0;\r\n\r\n    let j;\r\n    for (j = 0; j < this.props.graphData.length; j++) {\r\n\r\n      if (j !== this.targetIndex) {\r\n\r\n        let tempPercentage = this.props.graphData[j].distance / mostDistantFragmentDistance * 100;\r\n\r\n        if (this.props.graphData[j].distance !== 0) {\r\n          nrOfNonNullDistances++;\r\n        }\r\n\r\n        if (this.props.graphData[j].distance < lessDistantFragmentDistance) {\r\n          lessDistantFragmentDistance = this.props.graphData[j].distance;\r\n        }\r\n\r\n      }\r\n    }\r\n\r\n    let nrOfNullDistances = this.props.graphData.length - nrOfNonNullDistances;\r\n    //console.log(\"Number of values with 0 distance: \" + nrOfNullDistances);\r\n    //console.log(\"Number of values bellow mask2 \" + nrValuesSubMask2);\r\n\r\n    let xFactor = 0;\r\n    let yFactor = 0;\r\n    var i;\r\n    for (i = 1; i < this.props.graphData.length; i++) {\r\n\r\n      this.recommendationArray.push(this.props.fragmentsHashMap.get(this.props.graphData[i].interId));\r\n\r\n      //blue\r\n      let nodeBorderColor = \"#2B7CE9\";\r\n\r\n      let totalAxes = 200; //The number of different axes\r\n\r\n      let absoluteDistance = this.props.graphData[i].distance;\r\n      let distancePercentage = this.props.graphData[i].distance / mostDistantFragmentDistance * 100;\r\n\r\n      let titleDistPerc = Math.round((100 - distancePercentage) * 100) / 100;\r\n\r\n      // test for closer values\r\n      // if (distancePercentage < 90)\r\n      //   distancePercentage = 20\r\n\r\n      //gradient\r\n      var color1 = '061019'; // 194163 <- azul escuro #061019 -> azul ainda mais escuro\r\n      var color2 = 'bcffff'; //\"#DC143C\"<-vermelho border 50ffff<-azul claro FF7F50<-laranja bcffff<-azul ainda + claro\r\n      var ratio = ((distancePercentage) / 100)\r\n      //  console.log(\"ratio: \" + ratio)\r\n      var hex = function(x) {\r\n        x = x.toString(16);\r\n        return (x.length == 1)\r\n          ? '0' + x\r\n          : x;\r\n      };\r\n\r\n      var r = Math.ceil(parseInt(color1.substring(0, 2), 16) * ratio + parseInt(color2.substring(0, 2), 16) * (1 - ratio));\r\n      var g = Math.ceil(parseInt(color1.substring(2, 4), 16) * ratio + parseInt(color2.substring(2, 4), 16) * (1 - ratio));\r\n      var b = Math.ceil(parseInt(color1.substring(4, 6), 16) * ratio + parseInt(color2.substring(4, 6), 16) * (1 - ratio));\r\n\r\n      var middle = hex(r) + hex(g) + hex(b);\r\n\r\n      let nodeBackgroundColor = \"#\" + middle; //pickHex(\"#3379B5\", '#265B89', distancePercentage) \"#D2E5FF\";\r\n\r\n      let mySize = originalFragmentSize * 0.5;\r\n\r\n      let angleSlice = Math.PI * 2 / totalAxes; //The width in radians of each \"slice\"\r\n\r\n      //console.log(\"NetworkGraph.js: The number of different axes: \" + totalAxes);\r\n\r\n      let rand = Math.random() * (360 - 1) + 1;\r\n\r\n      // test for closer values\r\n      // if (distancePercentage < 90)\r\n      //   distancePercentage = 20\r\n\r\n      //console.log(\"lessDistantFragmentDistance * 100: \" + lessDistantFragmentDistance * 100)\r\n\r\n      let valueToDec = 4 - (lessDistantFragmentDistance * 100);\r\n\r\n      let edgeLengthFactor = (5 * lessDistantFragmentDistance) + 4; //10000;\r\n\r\n      xFactor = (distancePercentage + valueToDec) * edgeLengthFactor * Math.cos(angleSlice * rand - Math.PI / 2);\r\n\r\n      yFactor = (distancePercentage + valueToDec) * edgeLengthFactor * Math.sin(angleSlice * rand - Math.PI / 2);\r\n\r\n      //purple\r\n      if (!this.props.currentFragmentMode && this.props.graphData[i].interId === this.props.recommendationArray[this.props.recommendationIndex].interId) {\r\n        nodeBorderColor = \"#4B0082\";\r\n        nodeBackgroundColor = \"#8A2BE2\";\r\n      }\r\n\r\n      // let titleDistPerc = parseFloat(distancePercentage).toFixed(2);\r\n\r\n      let myTitle = this.props.fragmentsHashMap.get(this.props.graphData[i].interId).meta.title + \" | Semelhança: \" + (\r\n      titleDistPerc) + \"%\"\r\n      let hasDateWhileCritDate = true;\r\n      if (this.props.currentFragmentMode && this.props.potentialSemanticCriteria == CRIT_CHRONOLOGICAL_ORDER && this.props.fragmentsHashMap.get(this.props.graphData[i].interId).meta.date !== null) {\r\n        myTitle = this.props.fragmentsHashMap.get(this.props.graphData[i].interId).meta.title + \" | Data: \" + this.props.fragmentsHashMap.get(this.props.graphData[i].interId).meta.date;\r\n\r\n      } else if (this.props.currentFragmentMode && this.props.potentialSemanticCriteria == CRIT_CHRONOLOGICAL_ORDER && !this.props.fragmentsHashMap.get(this.props.graphData[i].interId).meta.date) {\r\n        myTitle = this.props.fragmentsHashMap.get(this.props.graphData[i].interId).meta.title + \" | Data: Sem data\";\r\n        hasDateWhileCritDate = false;\r\n      } else if (!this.props.currentFragmentMode && this.props.semanticCriteria == CRIT_CHRONOLOGICAL_ORDER && this.props.fragmentsHashMap.get(this.props.graphData[i].interId).meta.date !== null) {\r\n        myTitle = this.props.fragmentsHashMap.get(this.props.graphData[i].interId).meta.title + \" | Data: \" + this.props.fragmentsHashMap.get(this.props.graphData[i].interId).meta.date;\r\n\r\n      } else if (!this.props.currentFragmentMode && this.props.semanticCriteria == CRIT_CHRONOLOGICAL_ORDER && !this.props.fragmentsHashMap.get(this.props.graphData[i].interId).meta.date) {\r\n        myTitle = this.props.fragmentsHashMap.get(this.props.graphData[i].interId).meta.title + \" | Data: Sem data\";\r\n        hasDateWhileCritDate = false;\r\n      }\r\n\r\n      let hoverBorderColor = \"#DC143C\" // red\r\n      if (!this.props.currentFragmentMode) {\r\n        hoverBorderColor = \"#4B0082\" //purple\r\n      }\r\n\r\n      obj = {\r\n        id: this.props.graphData[i].interId,\r\n        //label: \"\",\r\n        shape: \"dot\",\r\n        margin: 5, //só funciona com circle...\r\n        size: mySize,\r\n        color: {\r\n          border: nodeBorderColor,\r\n          background: nodeBackgroundColor,\r\n          hover: {\r\n            border: hoverBorderColor,\r\n            background: nodeBackgroundColor\r\n          },\r\n          highlight: {\r\n            color: nodeBorderColor,\r\n            background: nodeBackgroundColor\r\n          }\r\n        },\r\n        title: myTitle, //this.props.fragmentsHashMap.get(this.props.graphData[i].interId).meta.title, + \" \" + this.props.graphData[i].distance,  + \" || \" + truncateText(myText, 60)\r\n        fixed: true,\r\n        x: xFactor,\r\n        y: yFactor\r\n      };\r\n\r\n      if (hasDateWhileCritDate) {\r\n        this.nodes.push(obj);\r\n      }\r\n    }\r\n\r\n    //BUILD EDGES\r\n    for (i = 1; i < this.props.graphData.length * maxFragsAnalyzedPercentage; i++) {\r\n\r\n      obj = {\r\n        from: this.props.graphData[0].interId,\r\n        to: this.props.graphData[i].interId,\r\n        hidden: true\r\n      };\r\n\r\n      this.edges.push(obj);\r\n    }\r\n\r\n    this.options = {\r\n      autoResize: true,\r\n      //height: \"500\",\r\n      //width: \"800\",\r\n\r\n      layout: {\r\n        hierarchical: {\r\n          enabled: false\r\n        },\r\n        randomSeed: 1\r\n      },\r\n      physics: {\r\n        enabled: false\r\n      },\r\n      interaction: {\r\n        dragNodes: false,\r\n        dragView: true,\r\n        zoomView: true,\r\n        hover: true,\r\n        navigationButtons: true,\r\n        hoverConnectedEdges: false\r\n      }\r\n    };\r\n\r\n    this.handleSelectNode = this.handleSelectNode.bind(this);\r\n\r\n    this.toggleInstructions = this.toggleInstructions.bind(this);\r\n\r\n  }\r\n\r\n  toggleInstructions() {\r\n    this.setState({\r\n      showInstructions: !this.state.showInstructions\r\n    });\r\n  }\r\n\r\n  handleSelectNode(event) {\r\n    const nodeId = event.nodes[0];\r\n\r\n    if (nodeId && nodeId !== this.props.recommendationArray[this.props.recommendationIndex].interId) {\r\n\r\n      var i;\r\n      for (i = 0; i < this.props.recommendationArray.length; i++) {\r\n\r\n        if (this.props.recommendationArray[i].interId === nodeId) {\r\n          //console.log(\"clicking on nodeId \" + this.recommendationArray[i].interId + \" of title \" + this.recommendationArray[i].meta.title)\r\n          let targetId = this.props.fragments[this.props.fragmentIndex].interId;\r\n          if (this.props.currentFragmentMode) {\r\n            targetId = this.props.recommendationArray[this.props.recommendationIndex].interId;\r\n          }\r\n\r\n          const globalViewToRender = (<NetworkGraphContainer onChange={this.props.onChange}/>);\r\n          this.props.setCurrentVisualization(globalViewToRender);\r\n\r\n          //HISTORY ENTRY HISTORY ENTRY HISTORY ENTRY HISTORY ENTRY\r\n          let obj;\r\n          let historyVis = this.props.visualizationTechnique;\r\n          let historyCriteria = this.props.semanticCriteria;\r\n          if (this.props.currentFragmentMode) {\r\n            historyVis = this.props.potentialVisualizationTechnique;\r\n            historyCriteria = this.props.potentialSemanticCriteria;\r\n          }\r\n          obj = {\r\n            id: this.props.historyEntryCounter,\r\n            originalFragment: this.props.recommendationArray[this.props.recommendationIndex],\r\n            nextFragment: this.props.recommendationArray[i],\r\n            vis: historyVis,\r\n            criteria: historyCriteria,\r\n            visualization: globalViewToRender,\r\n            recommendationArray: this.props.recommendationArray,\r\n            recommendationIndex: i,\r\n            fragmentIndex: this.props.fragmentIndex, //bug... o fragindex do proximo vai mudar ou nao consoante current ou not current. ou nao. se not current mode fica igual.\r\n            start: new Date().getTime()\r\n          };\r\n\r\n          this.props.setRecommendationIndex(i);\r\n          this.props.setRecommendationArray(this.props.recommendationArray);\r\n\r\n          if (this.props.currentFragmentMode) {\r\n            var j;\r\n            for (j = 0; j < this.props.fragments.length; j++) {\r\n              if (this.props.fragments[j].interId === nodeId) {\r\n                //console.log(\"networkgraph: because of currentFragmentMode, setFragmentIndex is now: \" + j)\r\n                this.props.setFragmentIndex(j);\r\n                this.props.setRecommendationIndex(0);\r\n                obj.fragmentIndex = j;\r\n                obj.recommendationIndex = 0;\r\n                let temp = [];\r\n                temp.push(this.props.fragmentsHashMap.get(nodeId));\r\n                obj.recommendationArray = temp;\r\n                this.props.setRecommendationArray(temp);\r\n\r\n              }\r\n            }\r\n          }\r\n          this.props.setVisualizationTechnique(this.props.potentialVisualizationTechnique);\r\n          this.props.setSemanticCriteria(this.props.potentialSemanticCriteria);\r\n          this.props.addHistoryEntry(obj);\r\n          this.props.setHistoryEntryCounter(this.props.historyEntryCounter + 1)\r\n\r\n          //bug - apenas calcular array de recomendações caso estejamos em nova atividade\r\n          if (this.props.currentFragmentMode) {\r\n            this.props.setRecommendationLoaded(false);\r\n          }\r\n\r\n          //HISTORY ENTRY HISTORY ENTRY HISTORY ENTRY HISTORY ENTRY\r\n        }\r\n        //this.props.setFragmentIndex(i);\r\n\r\n      }\r\n      //console.log(\"NETWORKGRAPH: recommendation index actual: \" + this.props.recommendationIndex)\r\n\r\n      this.props.onChange();\r\n\r\n    }\r\n  }\r\n\r\n  _handleKeyDownActivity = (event) => {\r\n\r\n    var I_KEY = 73;\r\n\r\n    switch (event.keyCode) {\r\n      case I_KEY:\r\n        this.toggleInstructions();\r\n        break;\r\n      default:\r\n        break;\r\n\r\n    }\r\n\r\n  }\r\n\r\n  componentDidMount() {\r\n    document.addEventListener(\"keydown\", this._handleKeyDownActivity);\r\n    const data = {\r\n      nodes: this.nodes,\r\n      edges: this.edges\r\n    };\r\n\r\n    var container = document.getElementById('networkvis');\r\n    this.network = new Network(container, data, this.options);\r\n    //this.network.on(\"hoverNode\", this.handleHoverNode);\r\n\r\n    //this.network.stabilize(1);\r\n    //this.network.stabilize(30);\r\n    var height = Math.round(window.innerHeight * 0.65) + 'px'; // The DOM way\r\n\r\n    container.style.height = height\r\n    this.network.redraw();\r\n    //this.network.fit();\r\n\r\n    var moveToOptions = {\r\n      position: {\r\n        x: 0,\r\n        y: 0\r\n      }, // position to animate to (Numbers)\r\n      scale: 2.5, // scale to animate to  (Number)\r\n      offset: {\r\n        x: 0,\r\n        y: 0\r\n      }, // offset from the center in DOM pixels (Numbers)\r\n      animation: { // animation object, can also be Boolean\r\n        duration: 1000, // animation duration in milliseconds (Number)\r\n        easingFunction: \"easeInCubic\" // Animation easing function, available are:\r\n      } // linear, easeInQuad, easeOutQuad, easeInOutQuad,\r\n    } // easeInCubic, easeOutCubic, easeInOutCubic,\r\n    // easeInQuart, easeOutQuart, easeInOutQuart,\r\n    // easeInQuint, easeOutQuint, easeInOutQuint\r\n\r\n    let targetId = this.props.fragments[this.props.fragmentIndex].interId;\r\n    if (this.props.currentFragmentMode) {\r\n      targetId = this.props.recommendationArray[this.props.recommendationIndex].interId;\r\n    }\r\n    this.network.focus(this.props.graphData[this.targetIndex].interId, moveToOptions)\r\n    this.network.on(\"selectNode\", this.handleSelectNode);\r\n    //console.log(\"randomSeed: \" + this.network.getSeed());\r\n\r\n    this.network.on(\"hoverNode\", function(params) {\r\n      //this.network.canvas.body.container.style.cursor = 'pointer'\r\n      document.getElementById('networkvis').getElementsByTagName(\"canvas\")[0].style.cursor = 'pointer'\r\n    });\r\n    this.network.on(\"blurNode\", function(params) {\r\n      document.getElementById('networkvis').getElementsByTagName(\"canvas\")[0].style.cursor = 'default'\r\n    });\r\n\r\n  }\r\n\r\n  render() {\r\n\r\n    let orangeCircleText = (<span style={{\r\n        background: \"#FF7F50\",\r\n        paddingLeft: '3px',\r\n        paddingRight: '3px',\r\n        border: \"#FF7F50\",\r\n        color: 'white'\r\n      }}>\r\n      <b>círculo laranja</b>\r\n    </span >);\r\n\r\n    let purpleCircleText = (<span style={{\r\n        background: \"#8A2BE2\",\r\n        paddingLeft: '3px',\r\n        paddingRight: '3px',\r\n        border: \"#8A2BE2\",\r\n        color: 'white'\r\n      }}>\r\n      <b>círculo roxo</b>\r\n    </span >);\r\n\r\n    let instructions = (<div className=\"instructionsButton\">\r\n      <Button bsStyle=\"default\" bsSize=\"small\" onClick={this.toggleInstructions}>\r\n        Mostrar instruções [i]\r\n      </Button>\r\n    </div>)\r\n\r\n    if (this.state.showInstructions) {\r\n      instructions = (<div>\r\n        <div className=\"instructionsText\">\r\n          <p>\r\n            Neste grafo de rede, cada círculo representa um fragmento da edição do{\" \"}\r\n            <i>Livro do Desassossego</i>{\" \"}\r\n            que selecionou.\r\n          </p>\r\n\r\n          <lu>\r\n            <li>\r\n              Selecione um fragmento novo ao clicar num dos círculos em torno do {orangeCircleText}.\r\n            </li>\r\n            <li>\r\n              Quanto mais próximos estiverem do {orangeCircleText}\r\n              (correspondente ao fragmento sob o qual realizou ou está a realizar uma nova atividade), mais semelhantes serão segundo o critério desta atividade.\r\n            </li>\r\n            <li>\r\n              O círculo mais próximo será sempre do fragmento que, dentro do conjunto de todos os fragmentos da edição, é o que é relativamente mais semelhante, seja 5% ou 100% semelhante.\r\n            </li>\r\n            <li>\r\n              Quanto mais alta a semelhança em percentagem, mais claro será o azul do círculo.\r\n            </li>\r\n            <li>\r\n              Um {purpleCircleText}\r\n              representará o fragmento que está a ler atualmente caso navegue para um fragmento diferente do fragmento inicial (o {orangeCircleText}).\r\n            </li>\r\n\r\n            <li>\r\n              Para navegar pelo grafo, pode usar os botões de navegação na parte do inferior do grafo, ou simplesmente arrastar o grafo com o botão esquerdo do rato ou fazer zoom-in ou zoom-out com a roda do rato.\r\n            </li>\r\n          </lu>\r\n\r\n        </div>\r\n\r\n        <div className=\"instructionsButton\">\r\n          <Button bsStyle=\"default\" bsSize=\"small\" onClick={this.toggleInstructions}>\r\n            Esconder instruções [i]\r\n          </Button>\r\n        </div>\r\n\r\n        <br/>\r\n\r\n      </div>)\r\n    }\r\n\r\n    return (<div>\r\n\r\n      {instructions}\r\n\r\n      <div className=\"graphNetwork\" id=\"networkvis\"></div>\r\n\r\n    </div>);\r\n  }\r\n}\r\n\r\nconst NetworkGraph = connect(mapStateToProps, mapDispatchToProps)(ConnectedNetworkGraph);\r\n\r\nexport default NetworkGraph;\r\n","import React, {Component} from \"react\";\r\nimport {RepositoryService} from \"../services/RepositoryService\";\r\nimport NetworkGraph from \"../components/NetworkGraph\";\r\nimport {setCurrentVisualization} from \"../actions/index\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n  VIS_SQUARE_GRID,\r\n  VIS_NETWORK_GRAPH,\r\n  VIS_WORD_CLOUD,\r\n  BY_SQUAREGRID_EDITIONORDER,\r\n  CRIT_EDITION_ORDER,\r\n  CRIT_CHRONOLOGICAL_ORDER,\r\n  CRIT_TEXT_SIMILARITY,\r\n  CRIT_HETERONYM,\r\n  CRIT_TAXONOMY,\r\n  CRIT_WORD_RELEVANCE\r\n} from \"../constants/history-transitions\";\r\nimport loadingGif from '../assets/loading.gif';\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    fragments: state.fragments,\r\n    fragmentIndex: state.fragmentIndex,\r\n    currentVisualization: state.currentVisualization,\r\n    recommendationArray: state.recommendationArray,\r\n    recommendationIndex: state.recommendationIndex,\r\n    currentFragmentMode: state.currentFragmentMode,\r\n    potentialSemanticCriteria: state.potentialSemanticCriteria,\r\n    semanticCriteriaData: state.semanticCriteriaData\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    setCurrentVisualization: currentVisualization => dispatch(setCurrentVisualization(currentVisualization))\r\n  };\r\n};\r\n\r\nclass ConnectedNetworkGraphContainer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      networkGraphData: [],\r\n      fragmentsDistanceLoaded: false\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.currentFragmentMode) {\r\n      const service = new RepositoryService();\r\n      let targetId = this.props.fragments[this.props.fragmentIndex].interId;\r\n\r\n      if (this.props.currentFragmentMode) {\r\n        //console.log(\"NETWORKGRAPHCONTAINER: CALCULATING NETWORK GRAPH DISTANCES FOR CURRENT FRAGMENT AND NOT!! THE PICKED FRAGMENT %%%%%%%%%%%%%%%%%%%%%\")\r\n        targetId = this.props.recommendationArray[this.props.recommendationIndex].interId;\r\n      }\r\n\r\n      let pHeteronymWeight = \"0.0\";\r\n      let pTextWeight = \"0.0\";\r\n      let pDateWeight = \"0.0\";\r\n      let ptaxonomyWeight = \"0.0\";\r\n\r\n      if (this.props.potentialSemanticCriteria == CRIT_HETERONYM) {\r\n        pHeteronymWeight = \"1.0\";\r\n        //console.log(\"NETWoRKGRAPHCONTAINER: pHeteronymWeight = 1.0\");\r\n      } else if (this.props.potentialSemanticCriteria == CRIT_TEXT_SIMILARITY) {\r\n        pTextWeight = \"1.0\";\r\n        //console.log(\"NETWoRKGRAPHCONTAINER: pTextWeight = 1.0\");\r\n      } else if (this.props.potentialSemanticCriteria == CRIT_CHRONOLOGICAL_ORDER) {\r\n        pDateWeight = \"1.0\";\r\n        //console.log(\"NETWoRKGRAPHCONTAINER: pDateWeight = 1.0\");\r\n      } else if (this.props.potentialSemanticCriteria == CRIT_TAXONOMY) {\r\n        ptaxonomyWeight = \"1.0\";\r\n        //console.log(\"NETWoRKGRAPHCONTAINER: ptaxonomyWeight = 1.0\");\r\n      }\r\n\r\n      let idsDistanceArray = [];\r\n      let myNewRecommendationArray = [];\r\n      service.getIntersByDistance(targetId, pHeteronymWeight, pTextWeight, pDateWeight, ptaxonomyWeight).then(response => {\r\n        console.log(\"NetworkGraphContainer.js: Distances received.\");\r\n\r\n        let receivedArray = response.data;\r\n\r\n        receivedArray.map(f => {\r\n          f.distance = (1 - f.distance)\r\n        });\r\n\r\n        //receivedArray.map(f => console.log(\"receivedArray: \" + f.distance));\r\n\r\n        this.setState({networkGraphData: receivedArray});\r\n        this.setState(prevState => ({\r\n          fragmentsDistanceLoaded: !prevState.check\r\n        }));\r\n\r\n      });\r\n    } else {\r\n      console.log(\"NetworkGraphContainer: skipping service call since distances are already calculated\");\r\n      this.setState({networkGraphData: this.props.semanticCriteriaData});\r\n      this.setState(prevState => ({\r\n        fragmentsDistanceLoaded: !prevState.check\r\n      }));\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let graphToRender;\r\n\r\n    if (this.state.fragmentsDistanceLoaded) {\r\n      graphToRender = (<NetworkGraph graphData={this.state.networkGraphData} onChange={this.props.onChange}/>);\r\n    } else {\r\n      graphToRender = (<div>\r\n        <img src={loadingGif} alt=\"loading...netgraph\" className=\"loadingGifCentered\"/>\r\n        <p align=\"center\">A carregar fragmentos semelhantes...</p>\r\n        <p align=\"center\">Se demorar demasiado tempo, atualize a página e volte a tentar.</p>\r\n      </div>);\r\n    }\r\n\r\n    return <div>{graphToRender}</div>;\r\n  }\r\n}\r\n\r\nconst NetworkGraphContainer = connect(mapStateToProps, mapDispatchToProps)(ConnectedNetworkGraphContainer);\r\n\r\nexport default NetworkGraphContainer;\r\n","import {Network} from \"vis\";\r\nimport React, {Component, createRef} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport \"./SquareGrid.css\";\r\nimport {\r\n  setFragmentIndex,\r\n  setCurrentVisualization,\r\n  addHistoryEntry,\r\n  setOutOfLandingPage,\r\n  setHistoryEntryCounter,\r\n  setRecommendationArray,\r\n  setRecommendationIndex,\r\n  setVisualizationTechnique,\r\n  setSemanticCriteria,\r\n  setCurrentCategory,\r\n  setGoldenArray\r\n} from \"../actions/index\";\r\nimport {\r\n  VIS_SQUARE_GRID,\r\n  BY_SQUAREGRID_EDITIONORDER,\r\n  CRIT_EDITION_ORDER,\r\n  CRIT_CHRONOLOGICAL_ORDER,\r\n  CRIT_CATEGORY,\r\n  CRIT_HETERONYM\r\n} from \"../constants/history-transitions\";\r\nimport HashMap from \"hashmap\";\r\nimport {Button} from \"react-bootstrap\";\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    fragments: state.fragments,\r\n    fragmentIndex: state.fragmentIndex,\r\n    currentVisualization: state.currentVisualization,\r\n    history: state.history,\r\n    historyEntryCounter: state.historyEntryCounter,\r\n    recommendationArray: state.recommendationArray,\r\n    recommendationIndex: state.recommendationIndex,\r\n    currentFragmentMode: state.currentFragmentMode,\r\n    outOfLandingPage: state.outOfLandingPage,\r\n    visualizationTechnique: state.visualizationTechnique,\r\n    semanticCriteria: state.semanticCriteria,\r\n    allFragmentsLoaded: state.allFragmentsLoaded,\r\n    potentialVisualizationTechnique: state.potentialVisualizationTechnique,\r\n    potentialSemanticCriteria: state.potentialSemanticCriteria,\r\n    fragmentsSortedByDate: state.fragmentsSortedByDate,\r\n    currentCategory: state.currentCategory,\r\n    potentialCategory: state.potentialCategory\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    setFragmentIndex: fragmentIndex => dispatch(setFragmentIndex(fragmentIndex)),\r\n    setCurrentVisualization: currentVisualization => dispatch(setCurrentVisualization(currentVisualization)),\r\n    addHistoryEntry: historyEntry => dispatch(addHistoryEntry(historyEntry)),\r\n    setOutOfLandingPage: outOfLandingPage => dispatch(setOutOfLandingPage(outOfLandingPage)),\r\n    setHistoryEntryCounter: historyEntryCounter => dispatch(setHistoryEntryCounter(historyEntryCounter)),\r\n    setRecommendationArray: recommendationArray => dispatch(setRecommendationArray(recommendationArray)),\r\n    setRecommendationIndex: recommendationIndex => dispatch(setRecommendationIndex(recommendationIndex)),\r\n    setVisualizationTechnique: visualizationTechnique => dispatch(setVisualizationTechnique(visualizationTechnique)),\r\n    setSemanticCriteria: semanticCriteria => dispatch(setSemanticCriteria(semanticCriteria)),\r\n    setCurrentCategory: currentCategory => dispatch(setCurrentCategory(currentCategory)),\r\n    setGoldenArray: goldenArray => dispatch(setGoldenArray(goldenArray))\r\n  };\r\n};\r\n\r\nfunction truncateText(text, length) {\r\n  if (text.length <= length) {\r\n    return text;\r\n  }\r\n\r\n  return text.substr(0, length) + \"\\u2026\";\r\n}\r\n\r\nfunction truncateDate(date) {\r\n  date = date.split('-');\r\n  let year = parseInt(date[0]);\r\n\r\n  return date.toString().substr(2, 2);\r\n}\r\n\r\nclass ConnectedSquareGrid extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.network = {};\r\n    this.appRef = createRef();\r\n    this.nodes = [];\r\n    this.edges = [];\r\n    this.options = [];\r\n    this.minMaxList = [];\r\n\r\n    this.myCategory = \"\";\r\n\r\n    this.state = {\r\n      showInstructions: false\r\n    };\r\n\r\n    this.myFragmentArray = this.props.fragments;\r\n    if (this.props.currentFragmentMode && this.props.potentialSemanticCriteria == CRIT_CHRONOLOGICAL_ORDER) {\r\n      this.myFragmentArray = this.props.fragmentsSortedByDate;\r\n    } else if (!this.props.currentFragmentMode && this.props.semanticCriteria == CRIT_CHRONOLOGICAL_ORDER) {\r\n      this.myFragmentArray = this.props.fragmentsSortedByDate;\r\n    }\r\n\r\n    if (this.props.currentFragmentMode && this.props.potentialSemanticCriteria == CRIT_CATEGORY) {\r\n      this.myCategory = this.props.potentialCategory;\r\n    } else if (!(this.props.currentFragmentMode) && this.props.semanticCriteria == CRIT_CATEGORY) {\r\n      this.myCategory = this.props.currentCategory;\r\n    }\r\n\r\n    console.log(\"1 MAGNIFICENT DEBUG MY CATEGORY BEGGINING OF SQ: \" + this.myCategory)\r\n\r\n    const maxFragsAnalyzedPercentage = 1.0;\r\n    const edgeLengthFactor = 10000;\r\n    const originalFragmentSize = 30;\r\n    const remainingNodeFactor = 1.0;\r\n    const maxRows = Math.floor(Math.sqrt(this.props.fragments.length * 2));\r\n    const nodeTranslationSpacing = originalFragmentSize * 3;\r\n    let inversionToggle = false;\r\n    this.nrOfLines = 1;\r\n\r\n    //BUILD FRAGMENTS' NODES for SQUAREMAP\r\n    let obj;\r\n    var i;\r\n    let xFactor = 0;\r\n    let yFactor = 0;\r\n    this.highlightText = \"\";\r\n    this.supportMessage = \"\";\r\n    this.conditionalSpace = \"\";\r\n\r\n    for (i = 0; i < this.myFragmentArray.length; i++) {\r\n\r\n      let indexInc = i + 1;\r\n\r\n      let myTitle = this.myFragmentArray[i].meta.title + \" (\" + indexInc + \"/\" + this.myFragmentArray.length + \")\";\r\n      //const myText = this.myFragmentArray[i].text;\r\n\r\n      //blue\r\n      let nodeBorderColor = \"#2B7CE9\";\r\n      let nodeBackgroundColor = \"#D2E5FF\";\r\n\r\n      //grey if date is a criteria and fragment has no date\r\n\r\n      let dateExistsAndChronologicalCriteria = false;\r\n      let dateLabel = \"\";\r\n      let usedShape = \"square\"\r\n      //grey\r\n      if (this.props.currentFragmentMode && this.props.potentialSemanticCriteria == CRIT_CHRONOLOGICAL_ORDER && this.myFragmentArray[i].meta.date == null) {\r\n        dateExistsAndChronologicalCriteria = true;\r\n        nodeBorderColor = \"#101010\";\r\n        nodeBackgroundColor = \"#505050\";\r\n\r\n      } else if ((!(this.props.currentFragmentMode) && this.props.semanticCriteria == CRIT_CHRONOLOGICAL_ORDER && this.myFragmentArray[i].meta.date == null)) {\r\n        dateExistsAndChronologicalCriteria = true;\r\n        nodeBorderColor = \"#101010\";\r\n        nodeBackgroundColor = \"#505050\";\r\n      }\r\n\r\n      if (this.props.currentFragmentMode && this.props.potentialSemanticCriteria == CRIT_CHRONOLOGICAL_ORDER && this.myFragmentArray[i].meta.date !== null) {\r\n        myTitle = this.myFragmentArray[i].meta.title + \" | Data: \" + this.myFragmentArray[i].meta.date;\r\n        dateLabel = truncateDate(this.myFragmentArray[i].meta.date);\r\n        usedShape = \"box\"\r\n      } else if (this.props.currentFragmentMode && this.props.potentialSemanticCriteria == CRIT_CHRONOLOGICAL_ORDER && !this.myFragmentArray[i].meta.date) {\r\n        myTitle = this.myFragmentArray[i].meta.title + \" | Data: Sem data\";\r\n      } else if (!this.props.currentFragmentMode && this.props.semanticCriteria == CRIT_CHRONOLOGICAL_ORDER && this.myFragmentArray[i].meta.date !== null) {\r\n        myTitle = this.myFragmentArray[i].meta.title + \" | Data: \" + this.myFragmentArray[i].meta.date;\r\n        dateLabel = truncateDate(this.myFragmentArray[i].meta.date);\r\n        usedShape = \"box\"\r\n      } else if (!this.props.currentFragmentMode && this.props.semanticCriteria == CRIT_CHRONOLOGICAL_ORDER && !this.myFragmentArray[i].meta.date) {\r\n        myTitle = this.myFragmentArray[i].meta.title + \" | Data: Sem data\";\r\n      }\r\n\r\n      if (this.props.currentFragmentMode && this.props.potentialSemanticCriteria == CRIT_CATEGORY && this.myFragmentArray[i].meta.categories.length !== 0) {\r\n        myTitle = this.myFragmentArray[i].meta.title + \" | Categorias: \" + this.myFragmentArray[i].meta.categories;\r\n      } else if (!(this.props.currentFragmentMode) && this.props.semanticCriteria == CRIT_CATEGORY && this.myFragmentArray[i].meta.categories.length !== 0) {\r\n        myTitle = this.myFragmentArray[i].meta.title + \" | Categorias: \" + this.myFragmentArray[i].meta.categories;\r\n      } else if (this.props.currentFragmentMode && this.props.potentialSemanticCriteria == CRIT_CATEGORY && this.myFragmentArray[i].meta.categories.length == 0) {\r\n        myTitle = this.myFragmentArray[i].meta.title + \" | Categorias: Sem categorias.\"\r\n      } else if (!(this.props.currentFragmentMode) && this.props.semanticCriteria == CRIT_CATEGORY && this.myFragmentArray[i].meta.categories.length == 0) {\r\n        myTitle = this.myFragmentArray[i].meta.title + \" | Categorias: Sem categorias.\"\r\n      }\r\n\r\n      let myBorderWidth = 1;\r\n      const newBorderW = 3;\r\n      let goldHighlightStyle = {\r\n        background: \"#FFD700\",\r\n        padding: 2,\r\n        color: \"black\",\r\n        borderWidth: 3,\r\n        borderColor: \"#DAA520\",\r\n        borderStyle: 'solid'\r\n      }\r\n\r\n      //  #DAA520 goldenrod escuro\r\n      // #FFD700 gold\r\n      if (this.props.currentFragmentMode && this.props.potentialSemanticCriteria == CRIT_CATEGORY && this.myFragmentArray[i].meta.categories.includes(this.props.potentialCategory)) {\r\n        this.conditionalSpace = \" \";\r\n        nodeBorderColor = \"#DAA520\";\r\n        nodeBackgroundColor = \"#FFD700\";\r\n        myBorderWidth = newBorderW;;\r\n        this.supportMessage = (<span>\r\n          <b>Categoria selecionada:\r\n          </b>\r\n        </span >);\r\n        this.highlightText = (<span style={goldHighlightStyle}>\r\n          <b>{this.props.potentialCategory}</b>\r\n        </span >);\r\n      } else if (!(this.props.currentFragmentMode) && this.props.semanticCriteria == CRIT_CATEGORY && this.myFragmentArray[i].meta.categories.includes(this.props.currentCategory)) {\r\n        this.conditionalSpace = \" \";\r\n        nodeBorderColor = \"#DAA520\";\r\n        nodeBackgroundColor = \"#FFD700\";\r\n        myBorderWidth = newBorderW;;\r\n        this.supportMessage = (<span>\r\n          <b>Categoria selecionada:\r\n          </b>\r\n        </span >);\r\n        this.highlightText = (<span style={goldHighlightStyle}>\r\n          <b>{this.props.currentCategory}</b>\r\n        </span >);\r\n      } else if (this.props.currentFragmentMode && this.props.potentialSemanticCriteria == CRIT_HETERONYM && this.myFragmentArray[i].meta.heteronym == this.props.recommendationArray[this.props.recommendationIndex].meta.heteronym) {\r\n        this.conditionalSpace = \" \";\r\n        nodeBorderColor = \"#DAA520\";\r\n        nodeBackgroundColor = \"#FFD700\";\r\n        myBorderWidth = newBorderW;;\r\n        this.supportMessage = (<span>\r\n          <b>Heterónimo selecionado:\r\n          </b>\r\n        </span >);\r\n        this.highlightText = (<span style={goldHighlightStyle}>\r\n          <b>{this.myFragmentArray[i].meta.heteronym}</b>\r\n        </span >);\r\n      } else if (!(this.props.currentFragmentMode) && this.props.semanticCriteria == CRIT_HETERONYM && this.myFragmentArray[i].meta.heteronym == this.props.fragments[this.props.fragmentIndex].meta.heteronym) {\r\n        this.conditionalSpace = \" \";\r\n        nodeBorderColor = \"#DAA520\";\r\n        nodeBackgroundColor = \"#FFD700\";\r\n        myBorderWidth = newBorderW;;\r\n        this.supportMessage = (<span>\r\n          <b>Heterónimo selecionado:\r\n          </b>\r\n        </span >);\r\n        this.highlightText = (<span style={goldHighlightStyle}>\r\n          <b>{this.myFragmentArray[i].meta.heteronym}</b>\r\n        </span >);\r\n      }\r\n\r\n      //purple\r\n      if (!this.props.currentFragmentMode && this.myFragmentArray[i].interId === this.props.recommendationArray[this.props.recommendationIndex].interId) {\r\n\r\n        if (nodeBorderColor == \"#DAA520\") { //golden\r\n          nodeBackgroundColor = \"#8A2BE2\"; //only purple background\r\n          myBorderWidth = newBorderW;;\r\n        } else {\r\n          nodeBorderColor = \"#4B0082\";\r\n          nodeBackgroundColor = \"#8A2BE2\";\r\n          myBorderWidth = newBorderW;;\r\n        }\r\n      }\r\n\r\n      //red\r\n      if (this.props.outOfLandingPage && !this.props.currentFragmentMode && this.myFragmentArray[i].interId === this.props.fragments[this.props.fragmentIndex].interId) {\r\n\r\n        if (nodeBorderColor == \"#DAA520\") { //golden\r\n          nodeBackgroundColor = \"#FF7F50\"; //only red background\r\n          myBorderWidth = newBorderW;;\r\n        } else {\r\n          nodeBorderColor = \"#DC143C\"\r\n          nodeBackgroundColor = \"#FF7F50\"\r\n          myBorderWidth = newBorderW;;\r\n        }\r\n      }\r\n\r\n      //red para tornar vermelho o que será vermelho em nova atividade em vez de considerar o da antiga\r\n      if (this.props.outOfLandingPage && this.props.currentFragmentMode && this.myFragmentArray[i].interId === this.props.recommendationArray[this.props.recommendationIndex].interId) {\r\n        if (nodeBorderColor == \"#DAA520\") { //golden\r\n          nodeBackgroundColor = \"#FF7F50\"; //only red background\r\n          myBorderWidth = newBorderW;;\r\n        } else {\r\n          nodeBorderColor = \"#DC143C\"\r\n          nodeBackgroundColor = \"#FF7F50\"\r\n          myBorderWidth = newBorderW;;\r\n        }\r\n      }\r\n\r\n      let hoverBorderColor = \"#DC143C\" // red\r\n      if (!this.props.currentFragmentMode) {\r\n        hoverBorderColor = \"#4B0082\" //purple\r\n      }\r\n\r\n      obj = {\r\n        id: this.myFragmentArray[i].interId,\r\n        label: dateLabel,\r\n        shape: usedShape,\r\n        margin: 13, //só funciona com circle,box...\r\n        size: originalFragmentSize * remainingNodeFactor,\r\n        scaling: {\r\n          // min: 20,\r\n          label: {\r\n            enabled: true,\r\n            // min: 20,\r\n            // max: 70\r\n          }\r\n        },\r\n        font: {\r\n          size: 35\r\n        },\r\n        fixed: true,\r\n        chosen: true,\r\n        borderWidth: myBorderWidth,\r\n        color: {\r\n          border: nodeBorderColor,\r\n          background: nodeBackgroundColor,\r\n          highlight: {\r\n            border: '#FFD700',\r\n            background: '#DAA520'\r\n          },\r\n          hover: {\r\n            border: hoverBorderColor,\r\n            background: nodeBackgroundColor\r\n          }\r\n\r\n        },\r\n        title: myTitle, //\"<div><h1><b>\" + myTitle + \"</b></h1></div>\",  + \" || \" + truncateText(myText, 60),\r\n        x: xFactor,\r\n        y: yFactor\r\n      };\r\n\r\n      if (inversionToggle) {\r\n        xFactor = xFactor - nodeTranslationSpacing;\r\n      } else {\r\n        xFactor = xFactor + nodeTranslationSpacing;\r\n      }\r\n\r\n      if ((i + 1) % maxRows === 0 && i != 0) {\r\n\r\n        if (inversionToggle) {\r\n          xFactor = 0\r\n        } else {\r\n          xFactor = xFactor - nodeTranslationSpacing;\r\n        }\r\n        yFactor = yFactor + nodeTranslationSpacing;\r\n        inversionToggle = !inversionToggle;\r\n        this.nrOfLines = this.nrOfLines + 1;\r\n      }\r\n\r\n      this.nodes.push(obj);\r\n    }\r\n\r\n    //BUILD EDGES\r\n    for (i = 0; i < this.myFragmentArray.length - 1; i++) {\r\n\r\n      let showEdge = (this.props.currentFragmentMode && this.props.potentialSemanticCriteria == CRIT_CHRONOLOGICAL_ORDER && this.myFragmentArray[i + 1].meta.date == null) || (!(this.props.currentFragmentMode) && this.props.semanticCriteria == CRIT_CHRONOLOGICAL_ORDER && this.myFragmentArray[i + 1].meta.date == null)\r\n\r\n      obj = {\r\n        from: this.myFragmentArray[i].interId,\r\n        to: this.myFragmentArray[i + 1].interId,\r\n        length: 1,\r\n        hidden: showEdge,\r\n        arrows: 'to',\r\n        hoverWidth: 0,\r\n        chosen: false\r\n      };\r\n\r\n      this.edges.push(obj);\r\n    }\r\n\r\n    this.options = {\r\n      //autoResize: true,\r\n      //height: \"500\",\r\n      //width: \"800\",\r\n\r\n      layout: {\r\n        hierarchical: {\r\n          enabled: false\r\n        },\r\n        randomSeed: 1\r\n      },\r\n      physics: {\r\n        enabled: false\r\n      },\r\n      interaction: {\r\n        dragNodes: false,\r\n        dragView: false,\r\n        zoomView: false,\r\n        hover: true,\r\n        hoverConnectedEdges: false\r\n      }\r\n    };\r\n\r\n    //this.props.setRecommendationArray(this.myFragmentArray);\r\n\r\n    this.handleSelectNode = this.handleSelectNode.bind(this);\r\n\r\n    this.toggleInstructions = this.toggleInstructions.bind(this);\r\n\r\n  }\r\n\r\n  toggleInstructions() {\r\n    this.setState({\r\n      showInstructions: !this.state.showInstructions\r\n    });\r\n  }\r\n\r\n  handleSelectNode(event) {\r\n    const nodeId = event.nodes[0];\r\n    if (nodeId) {\r\n      //alert(nodeId);\r\n      // this.props.setSemanticCriteria(this.props.potentialSemanticCriteria);\r\n      var i;\r\n      for (i = 0; i < this.myFragmentArray.length; i++) {\r\n        if (this.myFragmentArray[i].interId === nodeId) {\r\n\r\n          console.log(\"MAGNIFICENT DEBUG0: \" + this.myCategory)\r\n          console.log(\"MAGNIFICENT DEBUG0.1: \" + this.props.currentCategory)\r\n\r\n          if (this.props.currentFragmentMode && this.props.potentialSemanticCriteria == CRIT_HETERONYM) {\r\n            this.myCategory = this.props.recommendationArray[this.props.recommendationIndex].meta.heteronym;\r\n            this.props.setCurrentCategory(this.myCategory);\r\n          } else if (!this.props.currentFragmentMode && this.props.semanticCriteria == CRIT_HETERONYM) {\r\n            this.myCategory = this.props.fragments[this.props.fragmentIndex].meta.heteronym;\r\n            this.props.setCurrentCategory(this.myCategory);\r\n          } else if (this.props.currentFragmentMode && this.props.potentialSemanticCriteria == CRIT_CATEGORY) {\r\n            this.props.setCurrentCategory(this.myCategory);\r\n          } else if (!this.props.currentFragmentMode && this.props.semanticCriteria == CRIT_CATEGORY) {\r\n            this.props.setCurrentCategory(this.myCategory);\r\n          }\r\n\r\n          console.log(\"MAGNIFICENT DEBUG1: \" + this.myCategory)\r\n          console.log(\"MAGNIFICENT DEBUG1.1: \" + this.props.currentCategory)\r\n\r\n          const globalViewToRender = (<SquareGrid onChange={this.props.onChange}/>);\r\n          this.props.setCurrentVisualization(globalViewToRender);\r\n          //HISTORY ENTRY HISTORY ENTRY HISTORY ENTRY HISTORY ENTRY\r\n          let obj;\r\n          let historyVis = this.props.visualizationTechnique;\r\n          let historyCriteria = this.props.semanticCriteria;\r\n          if (this.props.currentFragmentMode) {\r\n            historyVis = this.props.potentialVisualizationTechnique;\r\n            historyCriteria = this.props.potentialSemanticCriteria;\r\n          }\r\n          obj = {\r\n            id: this.props.historyEntryCounter,\r\n            originalFragment: this.myFragmentArray[this.props.fragmentIndex],\r\n            nextFragment: this.myFragmentArray[i],\r\n            vis: historyVis,\r\n            criteria: historyCriteria,\r\n            visualization: globalViewToRender,\r\n            recommendationArray: this.myFragmentArray, //mudar para quando o cirterio for difernete,\r\n            recommendationIndex: i,\r\n            fragmentIndex: this.props.fragmentIndex,\r\n            start: new Date().getTime(),\r\n            category: this.myCategory\r\n          };\r\n\r\n          if (this.props.potentialSemanticCriteria == CRIT_CATEGORY && !this.props.currentFragmentMode) {\r\n            this.props.setCurrentCategory(this.myCategory);\r\n          } else if (this.props.potentialSemanticCriteria == CRIT_HETERONYM && !this.props.currentFragmentMode) {\r\n            this.props.setCurrentCategory(this.myCategory);\r\n          }\r\n\r\n          console.log(\"MAGNIFICENT DEBUG2: \" + this.myCategory)\r\n          console.log(\"MAGNIFICENT DEBUG2.1: \" + this.props.currentCategory)\r\n\r\n          //this.props.setFragmentIndex(i);\r\n          if (this.props.currentFragmentMode) {\r\n            var j;\r\n            for (j = 0; j < this.props.fragments.length; j++) {\r\n              if (this.props.fragments[j].interId === nodeId) {\r\n                console.log(\"squareGrid: because of currentFragmentMode, setFragmentIndex is now: \" + j)\r\n                this.props.setFragmentIndex(j);\r\n                obj.fragmentIndex = j;\r\n              }\r\n            }\r\n          }\r\n          this.props.addHistoryEntry(obj);\r\n          this.props.setHistoryEntryCounter(this.props.historyEntryCounter + 1)\r\n          //HISTORY ENTRY HISTORY ENTRY HISTORY ENTRY HISTORY ENTRY\r\n\r\n          //maybe fixed by if condition\r\n          if (this.props.currentFragmentMode) {\r\n            this.props.setVisualizationTechnique(this.props.potentialVisualizationTechnique);\r\n            this.props.setSemanticCriteria(this.props.potentialSemanticCriteria);\r\n          }\r\n\r\n          this.props.setRecommendationArray(this.myFragmentArray);\r\n\r\n          this.props.setRecommendationIndex(i);\r\n\r\n          this.props.setOutOfLandingPage(true);\r\n\r\n          console.log(\"MAGNIFICENT DEBUG3: \" + this.myCategory)\r\n          console.log(\"MAGNIFICENT DEBUG3.1: \" + this.props.currentCategory)\r\n\r\n          this.props.onChange();\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  _handleKeyDownActivity = (event) => {\r\n\r\n    var I_KEY = 73;\r\n\r\n    switch (event.keyCode) {\r\n      case I_KEY:\r\n        this.toggleInstructions();\r\n        break;\r\n      default:\r\n        break;\r\n\r\n    }\r\n\r\n  }\r\n\r\n  componentDidMount() {\r\n    document.addEventListener(\"keydown\", this._handleKeyDownActivity);\r\n\r\n    if (this.props.allFragmentsLoaded) {\r\n      const data = {\r\n        nodes: this.nodes,\r\n        edges: this.edges\r\n      };\r\n\r\n      var container = document.getElementById('gridvis');\r\n      this.network = new Network(container, data, this.options);\r\n      var height = Math.round(window.innerHeight * 0.80) + 'px'; // The DOM way\r\n      if (this.props.fragments.length < 100) {\r\n        height = Math.round(window.innerHeight * 0.6) + 'px'; // The DOM way\r\n      }\r\n      container.style.height = height\r\n\r\n      // container.style.height = this.nrOfLines * 50 + 'px'\r\n      this.network.redraw();\r\n      this.network.fit();\r\n      this.network.on(\"selectNode\", this.handleSelectNode);\r\n      this.network.on(\"stabilizationIterationsDone\", function() {\r\n        this.network.setOptions({physics: false});\r\n      });\r\n\r\n      this.network.on(\"hoverNode\", function(params) {\r\n        //this.network.canvas.body.container.style.cursor = 'pointer'\r\n        document.getElementById('gridvis').getElementsByTagName(\"canvas\")[0].style.cursor = 'pointer'\r\n      });\r\n      this.network.on(\"blurNode\", function(params) {\r\n        document.getElementById('gridvis').getElementsByTagName(\"canvas\")[0].style.cursor = 'default'\r\n      });\r\n\r\n    }\r\n  }\r\n\r\n  render() {\r\n\r\n    let redSquareText = (<span style={{\r\n        background: \"#FF7F50\",\r\n        paddingLeft: '3px',\r\n        paddingRight: '3px',\r\n        border: \"#FF7F50\",\r\n        color: 'white'\r\n      }}>\r\n      <b>quadrado laranja</b>\r\n    </span >);\r\n\r\n    let purpleSquareText = (<span style={{\r\n        background: \"#8A2BE2\",\r\n        paddingLeft: '3px',\r\n        paddingRight: '3px',\r\n        border: \"#8A2BE2\",\r\n        color: 'white'\r\n      }}>\r\n      <b>quadrado roxo</b>\r\n    </span >);\r\n\r\n    let greySquareText = (<span style={{\r\n        background: \"#505050\",\r\n        paddingLeft: '3px',\r\n        paddingRight: '3px',\r\n        border: \"#101010\",\r\n        color: 'white'\r\n      }}>\r\n      <b>quadrados cinzentos</b>\r\n    </span >);\r\n\r\n    let goldenSquareText = (<span style={{\r\n        background: \"#DAA520\",\r\n        paddingLeft: '3px',\r\n        paddingRight: '3px',\r\n        border: \"#DAA520\",\r\n        color: 'white'\r\n      }}>\r\n      <b>quadrados amarelos</b>\r\n    </span >);\r\n\r\n    let instructions = (<div className=\"instructionsButton\">\r\n      <Button bsStyle=\"default\" bsSize=\"small\" onClick={this.toggleInstructions}>\r\n        Mostrar instruções [i]\r\n      </Button>\r\n    </div>)\r\n\r\n    if (this.state.showInstructions) {\r\n      instructions = (<div>\r\n        <div className=\"instructionsText\">\r\n          <p>\r\n            Neste mapa, cada quadrado representa um fragmento da edição do {\" \"}\r\n            <i>Livro do Desassossego</i>{\" \"}\r\n            que selecionou.\r\n          </p>\r\n\r\n          <p>\r\n            Selecione um fragmento para leitura ao clicar num dos quadrados do mapa.\r\n          </p>\r\n\r\n          <ul>\r\n            <li>\r\n              Um {redSquareText}\r\n              representará o fragmento sob o qual realizou ou está a realizar uma nova atividade.\r\n            </li>\r\n            <li>\r\n              Um {purpleSquareText}\r\n              representará o fragmento que está a ler durante a atividade atual caso navegue para um fragmento diferente do fragmento inicial que escolheu ao selecionar uma nova atividade (o {redSquareText}).\r\n            </li>\r\n            <li>\r\n              Caso esteja a realizar uma atividade que envolva datas, os {greySquareText}\r\n              representarão fragmentos sem data, enquanto os quadrados com um número representam os últimos dois dígitos do ano em que o fragmento foi escrito ou publicado - um fragmento de 1930 terá o respetivo quadrado com o número 30.\r\n            </li>\r\n            <li>\r\n              Por fim, caso esteja a realizar uma atividade que envolva categorias ou heterónimos, os {goldenSquareText}\r\n              representarão os fragmentos correspondentes à categoria ou heterónimo.\r\n            </li>\r\n          </ul>\r\n\r\n        </div>\r\n\r\n        <div className=\"instructionsButton\">\r\n          <Button bsStyle=\"default\" bsSize=\"small\" onClick={this.toggleInstructions}>\r\n            Esconder instruções [i]\r\n          </Button>\r\n        </div>\r\n\r\n        <br/>\r\n\r\n      </div>)\r\n    }\r\n\r\n    return (<div>\r\n      {instructions}\r\n\r\n      <div>\r\n        <h4 align=\"center\">{this.supportMessage}{this.conditionalSpace}{this.highlightText}</h4>\r\n      </div>\r\n\r\n      <div className=\"graphGrid\" id=\"gridvis\"></div>\r\n\r\n    </div>);\r\n  }\r\n\r\n}\r\n\r\nconst SquareGrid = connect(mapStateToProps, mapDispatchToProps)(ConnectedSquareGrid);\r\n\r\nexport default SquareGrid;\r\n","import WordCloud from 'react-d3-cloud';\r\nimport React, {Component, createRef} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport \"./MyWordCloud.css\";\r\nimport {\r\n  setFragmentIndex,\r\n  setCurrentVisualization,\r\n  addHistoryEntry,\r\n  setOutOfLandingPage,\r\n  setHistoryEntryCounter,\r\n  setRecommendationArray,\r\n  setRecommendationIndex,\r\n  setVisualizationTechnique,\r\n  setSemanticCriteria,\r\n  setCurrentCategory,\r\n  setPotentialCategory\r\n} from \"../actions/index\";\r\nimport {VIS_SQUARE_GRID, BY_SQUAREGRID_EDITIONORDER, CRIT_EDITION_ORDER, CRIT_CHRONOLOGICAL_ORDER, CRIT_CATEGORY} from \"../constants/history-transitions\";\r\nimport HashMap from \"hashmap\";\r\nimport SquareGrid from \"../components/SquareGrid\";\r\nimport {Button} from \"react-bootstrap\";\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    fragments: state.fragments,\r\n    fragmentIndex: state.fragmentIndex,\r\n    currentVisualization: state.currentVisualization,\r\n    history: state.history,\r\n    historyEntryCounter: state.historyEntryCounter,\r\n    recommendationArray: state.recommendationArray,\r\n    recommendationIndex: state.recommendationIndex,\r\n    currentFragmentMode: state.currentFragmentMode,\r\n    outOfLandingPage: state.outOfLandingPage,\r\n    visualizationTechnique: state.visualizationTechnique,\r\n    semanticCriteria: state.semanticCriteria,\r\n    allFragmentsLoaded: state.allFragmentsLoaded,\r\n    potentialVisualizationTechnique: state.potentialVisualizationTechnique,\r\n    potentialSemanticCriteria: state.potentialSemanticCriteria,\r\n    fragmentsSortedByDate: state.fragmentsSortedByDate,\r\n    categories: state.categories,\r\n    currentCategory: state.currentCategory,\r\n    potentialCategory: state.potentialCategory\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    setFragmentIndex: fragmentIndex => dispatch(setFragmentIndex(fragmentIndex)),\r\n    setCurrentVisualization: currentVisualization => dispatch(setCurrentVisualization(currentVisualization)),\r\n    addHistoryEntry: historyEntry => dispatch(addHistoryEntry(historyEntry)),\r\n    setOutOfLandingPage: outOfLandingPage => dispatch(setOutOfLandingPage(outOfLandingPage)),\r\n    setHistoryEntryCounter: historyEntryCounter => dispatch(setHistoryEntryCounter(historyEntryCounter)),\r\n    setRecommendationArray: recommendationArray => dispatch(setRecommendationArray(recommendationArray)),\r\n    setRecommendationIndex: recommendationIndex => dispatch(setRecommendationIndex(recommendationIndex)),\r\n    setVisualizationTechnique: visualizationTechnique => dispatch(setVisualizationTechnique(visualizationTechnique)),\r\n    setSemanticCriteria: semanticCriteria => dispatch(setSemanticCriteria(semanticCriteria)),\r\n    setCurrentCategory: currentCategory => dispatch(setCurrentCategory(currentCategory)),\r\n    setPotentialCategory: potentialCategory => dispatch(setPotentialCategory(potentialCategory))\r\n  };\r\n};\r\n\r\nclass ConnectedMyWordCloud extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      renderSquareMap: false,\r\n      containerHeight: 0,\r\n      showInstructions: false\r\n    };\r\n\r\n    this.handleClickedWord = this.handleClickedWord.bind(this);\r\n\r\n    this.toggleInstructions = this.toggleInstructions.bind(this);\r\n\r\n  }\r\n\r\n  toggleInstructions() {\r\n    this.setState({\r\n      showInstructions: !this.state.showInstructions\r\n    });\r\n  }\r\n\r\n  handleClickedWord(word) {\r\n\r\n    if (word.hasText) {\r\n\r\n      this.props.setPotentialCategory(word.text);\r\n\r\n      //console.log(word);\r\n      //alert(word.text);\r\n      //console.log(\"MyWordCloud.js | clicked word properties: \" + word);\r\n      this.setState({renderSquareMap: true});\r\n      //this.props.onChange();\r\n\r\n    }\r\n\r\n  }\r\n\r\n  _handleKeyDownActivity = (event) => {\r\n\r\n    var I_KEY = 73;\r\n\r\n    switch (event.keyCode) {\r\n      case I_KEY:\r\n        this.toggleInstructions();\r\n        break;\r\n      default:\r\n        break;\r\n\r\n    }\r\n\r\n  }\r\n\r\n  componentDidMount() {\r\n    //const height = document.getElementById('container').clientHeight;\r\n    //this.setState({containerHeight: height});\r\n    document.addEventListener(\"keydown\", this._handleKeyDownActivity);\r\n  }\r\n\r\n  render() {\r\n\r\n    let instructions = (<div className=\"instructionsButton\">\r\n      <Button bsStyle=\"default\" bsSize=\"small\" onClick={this.toggleInstructions}>\r\n        Mostrar instruções [i]\r\n      </Button>\r\n    </div>)\r\n\r\n    let message = \"Esta edição não tem categorias para fazer esta atividade.\";\r\n    let data = [];\r\n    let componentToRender;\r\n\r\n    let myCategories = this.props.categories;\r\n\r\n    if (this.props.singleFragmentCategory) {\r\n      console.log(\"ZZZZZZZZZZZZZZZZZZZZZCATEGORY\")\r\n      myCategories = this.props.recommendationArray[this.props.recommendationIndex].meta.categories\r\n    }\r\n\r\n    //console.log(\"MyWordCloud.js:\")\r\n    //console.log(this.props.categories);\r\n    //console.log(this.props.categories.length);\r\n    if (this.props.categories.length > 0) {\r\n\r\n      message = \"Esta é uma nuvem de palavras das categorias desta edição. Para explorar fragmentos que pertençam a uma destas categorias, clique com o botão esquerdo do rato numa delas para ser remetido para outro mapa.\"\r\n      if (this.props.singleFragmentCategory) {\r\n        message = \"Esta é uma nuvem de palavras das categorias do fragmento atual. Para explorar fragmentos que pertençam a esta(s) categoria(s), clique com o botão esquerdo do rato numa delas para ser remetido para outro mapa.\"\r\n      }\r\n\r\n      let minFontSize = 20;\r\n      let maxFontSize = 40;\r\n\r\n      if (myCategories.length < 10) {\r\n        minFontSize = maxFontSize\r\n      }\r\n\r\n      let obj;\r\n\r\n      let i;\r\n      for (i = 0; i < myCategories.length; i++) {\r\n        if (this.props.singleFragmentCategory) {\r\n          obj = {\r\n            text: myCategories[i],\r\n            value: 1\r\n          };\r\n        } else {\r\n          obj = {\r\n            text: myCategories[i].category,\r\n            value: myCategories[i].categoryCount\r\n          };\r\n        }\r\n        data.push(obj);\r\n      }\r\n\r\n      data.sort(function(a, b) {\r\n        return b.value - a.value\r\n      });\r\n      //console.log(data)\r\n\r\n      //console.log(\"this.props.categories.length: \" + this.props.categories.length);\r\n\r\n      const fontSizeMapper = function(word) {\r\n        let fontSize = (word.value / myCategories.length) * maxFontSize;\r\n        if (fontSize > maxFontSize) {\r\n          //console.log(\"WORDCLOUD: TRUNCATING TO maxFontSize: \" + word.text)\r\n          return maxFontSize\r\n        } else if (fontSize < minFontSize) {\r\n          //console.log(\"WORDCLOUD: TRUNCATING TO minFontSize: \" + word.text)\r\n          return minFontSize\r\n        }\r\n        if (this.props.singleFragmentCategory) {\r\n          return maxFontSize;\r\n        }\r\n        //console.log(\"WORDCLOUD: returning fontsize \" + fontSize + \" for word : \" + word.text)\r\n        return fontSize;\r\n      }.bind(this); //Math.log2(word.value) * 5;\r\n\r\n      const rotate = 0; //word => word.value % 360;\r\n      const height = 700;\r\n      const width = 700;\r\n      const padding = 2;\r\n      const font = 'Impact';\r\n\r\n      if (this.state.showInstructions) {\r\n        instructions = (<div>\r\n          <div className=\"instructionsText\">\r\n\r\n            <p>\r\n              {message}\r\n            </p>\r\n\r\n          </div>\r\n\r\n          <div className=\"instructionsButton\">\r\n            <Button bsStyle=\"default\" bsSize=\"small\" onClick={this.toggleInstructions}>\r\n              Esconder instruções [i]\r\n            </Button>\r\n          </div>\r\n\r\n          <br/>\r\n\r\n        </div>)\r\n\r\n      }\r\n\r\n      if (this.state.renderSquareMap && !(this.outOfLandingPage)) {\r\n        componentToRender = (<SquareGrid onChange={this.props.onChange}/>)\r\n      } else {\r\n        componentToRender = (<div>\r\n\r\n          {instructions}\r\n\r\n          <div style={{\r\n              display: 'flex',\r\n              justifyContent: 'center',\r\n              height: {\r\n                height\r\n              },\r\n              width: {\r\n                width\r\n              },\r\n              marginBottom: \"35px\"\r\n              //background: 'black'\r\n            }}>\r\n            <WordCloud data={data} fontSizeMapper={fontSizeMapper} rotate={rotate} onWordClick={this.handleClickedWord} font={font}/>\r\n          </div>\r\n\r\n        </div>)\r\n      }\r\n\r\n    }\r\n\r\n    return (<div className=\"cloud-activity\">{componentToRender}</div>);\r\n  }\r\n}\r\n\r\nconst MyWordCloud = connect(mapStateToProps, mapDispatchToProps)(ConnectedMyWordCloud);\r\n\r\nexport default MyWordCloud;\r\n","import {Network, Timeline, DataSet} from \"vis\";\r\nimport React, {Component} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n  VIS_SQUARE_GRID,\r\n  VIS_NETWORK_GRAPH,\r\n  VIS_WORD_CLOUD,\r\n  BY_SQUAREGRID_EDITIONORDER,\r\n  CRIT_EDITION_ORDER,\r\n  CRIT_CHRONOLOGICAL_ORDER,\r\n  CRIT_TEXT_SIMILARITY,\r\n  CRIT_HETERONYM,\r\n  CRIT_TAXONOMY,\r\n  CRIT_WORD_RELEVANCE,\r\n  CRIT_CATEGORY\r\n} from \"../constants/history-transitions\";\r\nimport {\r\n  setFragmentIndex,\r\n  setCurrentVisualization,\r\n  addHistoryEntry,\r\n  setOutOfLandingPage,\r\n  setHistoryEntryCounter,\r\n  setRecommendationArray,\r\n  setRecommendationIndex,\r\n  setVisualizationTechnique,\r\n  setSemanticCriteria,\r\n  setSemanticCriteriaDataLoaded,\r\n  setCurrentCategory\r\n} from \"../actions/index\";\r\nimport \"./MyHistory.css\";\r\nimport loadingGif from '../assets/loading.gif';\r\nimport {Button} from \"react-bootstrap\";\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    fragments: state.fragments,\r\n    fragmentIndex: state.fragmentIndex,\r\n    currentVisualization: state.currentVisualization,\r\n    allFragmentsLoaded: state.allFragmentsLoaded,\r\n    recommendationArray: state.recommendationArray,\r\n    recommendationIndex: state.recommendationIndex,\r\n    outOfLandingPage: state.outOfLandingPage,\r\n    currentFragmentMode: state.currentFragmentMode,\r\n    visualizationTechnique: state.visualizationTechnique,\r\n    semanticCriteria: state.semanticCriteria,\r\n    potentialVisualizationTechnique: state.potentialVisualizationTechnique,\r\n    potentialSemanticCriteria: state.potentialSemanticCriteria,\r\n    displayTextSkimming: state.displayTextSkimming,\r\n    categories: state.categories,\r\n    history: state.history,\r\n    datesExist: state.datesExist,\r\n    historyEntryCounter: state.historyEntryCounter,\r\n    currentCategory: state.currentCategory,\r\n    fragmentsSortedByDate: state.fragmentsSortedByDate\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    setFragmentIndex: fragmentIndex => dispatch(setFragmentIndex(fragmentIndex)),\r\n    setCurrentVisualization: currentVisualization => dispatch(setCurrentVisualization(currentVisualization)),\r\n    addHistoryEntry: historyEntry => dispatch(addHistoryEntry(historyEntry)),\r\n    setOutOfLandingPage: outOfLandingPage => dispatch(setOutOfLandingPage(outOfLandingPage)),\r\n    setHistoryEntryCounter: historyEntryCounter => dispatch(setHistoryEntryCounter(historyEntryCounter)),\r\n    setRecommendationArray: recommendationArray => dispatch(setRecommendationArray(recommendationArray)),\r\n    setRecommendationIndex: recommendationIndex => dispatch(setRecommendationIndex(recommendationIndex)),\r\n    setVisualizationTechnique: visualizationTechnique => dispatch(setVisualizationTechnique(visualizationTechnique)),\r\n    setSemanticCriteria: semanticCriteria => dispatch(setSemanticCriteria(semanticCriteria)),\r\n    setSemanticCriteriaDataLoaded: semanticCriteriaDataLoaded => dispatch(setSemanticCriteriaDataLoaded(semanticCriteriaDataLoaded)),\r\n    setCurrentCategory: currentCategory => dispatch(setCurrentCategory(currentCategory))\r\n  };\r\n};\r\n\r\nclass ConnectedMyHistory extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.properties = [];\r\n\r\n    this.actualIndex = 0;\r\n\r\n    var height = Math.round(window.innerHeight * 0.7) + 'px';\r\n\r\n    this.state = {\r\n      refresh: false,\r\n      showInstructions: false\r\n    };\r\n\r\n    this.options = {\r\n      locales: {\r\n        // create a new locale (text strings should be replaced with localized strings)\r\n        pt: {}\r\n      },\r\n\r\n      // use the new locale\r\n      locale: 'pt',\r\n      height: height\r\n    };\r\n    this.timeline = [];\r\n    this.jsxToRender = [];\r\n\r\n    this.loadingGif = (<div>\r\n      <img src={loadingGif} alt=\"loading...myhistory\" className=\"loadingGifCentered\"/>\r\n      <p align=\"center\">A carregar atividade...</p>\r\n    </div>);\r\n\r\n    this.handleClick = this.handleClick.bind(this);\r\n\r\n    this.clearLoadingGif = this.clearLoadingGif.bind(this);\r\n\r\n    this.myHistoryArray = [];\r\n\r\n    this.toggleInstructions = this.toggleInstructions.bind(this);\r\n\r\n  }\r\n\r\n  toggleInstructions() {\r\n    this.setState({\r\n      showInstructions: !this.state.showInstructions\r\n    });\r\n  }\r\n\r\n  handleClick(event) {\r\n    console.log(event)\r\n    const nodeId = event.item;\r\n    if (nodeId) {\r\n      //alert(nodeId);\r\n      // this.props.setSemanticCriteria(this.props.potentialSemanticCriteria);\r\n      var i;\r\n      for (i = 0; i < this.myHistoryArray.length; i++) {\r\n        if (this.myHistoryArray[i].interId === nodeId) {\r\n\r\n          const globalViewToRender = (<MyHistory onChange={this.props.onChange}/>);\r\n          this.props.setCurrentVisualization(globalViewToRender);\r\n          //HISTORY ENTRY HISTORY ENTRY HISTORY ENTRY HISTORY ENTRY\r\n          let obj;\r\n          let historyVis = this.props.visualizationTechnique;\r\n          let historyCriteria = this.props.semanticCriteria;\r\n          if (this.props.currentFragmentMode) {\r\n            historyVis = this.props.potentialVisualizationTechnique;\r\n            historyCriteria = this.props.potentialSemanticCriteria;\r\n          }\r\n          obj = {\r\n            id: this.props.historyEntryCounter,\r\n            originalFragment: this.myHistoryArray[i], //this.props.recommendationArray[this.props.fragmentIndex],\r\n            nextFragment: this.myHistoryArray[i],\r\n            vis: historyVis,\r\n            criteria: historyCriteria,\r\n            visualization: globalViewToRender,\r\n            recommendationArray: this.myHistoryArray, //mudar para quando o cirterio for difernete,\r\n            recommendationIndex: i,\r\n            fragmentIndex: this.props.fragmentIndex,\r\n            start: new Date().getTime(),\r\n            category: \"\"\r\n          };\r\n\r\n          //aqui é para fazer set do fragindex caso seja uma nova atividade. caso contrario fica igual.\r\n          if (this.props.currentFragmentMode) {\r\n            var j;\r\n            for (j = 0; j < this.props.fragments.length; j++) {\r\n              if (this.props.fragments[j].interId === nodeId) {\r\n                console.log(\"squareGrid: because of currentFragmentMode, setFragmentIndex is now: \" + j)\r\n                this.props.setFragmentIndex(j);\r\n                obj.fragmentIndex = j;\r\n              }\r\n            }\r\n          }\r\n          this.props.addHistoryEntry(obj);\r\n          this.props.setHistoryEntryCounter(this.props.historyEntryCounter + 1)\r\n          //HISTORY ENTRY HISTORY ENTRY HISTORY ENTRY HISTORY ENTRY\r\n          this.props.setVisualizationTechnique(this.props.potentialVisualizationTechnique);\r\n          this.props.setSemanticCriteria(this.props.potentialSemanticCriteria);\r\n          this.props.setRecommendationArray(this.myHistoryArray);\r\n          this.props.setRecommendationIndex(i);\r\n          this.props.onChange();\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  _handleKeyDownActivity = (event) => {\r\n\r\n    var I_KEY = 73;\r\n\r\n    switch (event.keyCode) {\r\n      case I_KEY:\r\n        this.toggleInstructions();\r\n        break;\r\n      default:\r\n        break;\r\n\r\n    }\r\n\r\n  }\r\n\r\n  componentDidMount() {\r\n    document.addEventListener(\"keydown\", this._handleKeyDownActivity);\r\n\r\n    var historyItems = [];\r\n\r\n    this.timeline = [];\r\n\r\n    this.props.fragmentsSortedByDate.map(f => {\r\n\r\n      if (f.meta.date !== null) {\r\n        let date = f.meta.date.split('-');\r\n        let year = parseInt(date[0]);\r\n        let month = parseInt(date[1]);\r\n        let day = parseInt(date[2]);\r\n\r\n        let entryStyle = \"\" //default\r\n\r\n        //purple\r\n        if (!this.props.currentFragmentMode && f.interId === this.props.recommendationArray[this.props.recommendationIndex].interId) {\r\n          entryStyle = \"color: white; background-color: #8A2BE2; border-color: #4B0082;\"\r\n        }\r\n        //red\r\n        if (!this.props.currentFragmentMode && f.interId === this.props.fragments[this.props.fragmentIndex].interId) {\r\n          entryStyle = \"color: white; background-color: #FF7F50; border-color: #DC143C;\"\r\n        }\r\n        //red para tornar vermelho o que será vermelho em nova atividade em vez de considerar o da antiga\r\n        if (this.props.currentFragmentMode && f.interId === this.props.recommendationArray[this.props.recommendationIndex].interId) {\r\n          entryStyle = \"color: white; background-color: #FF7F50; border-color: #DC143C;\"\r\n        }\r\n\r\n        let myDate = new Date(year, month - 1, day);\r\n        console.log(\"MyHistory: Added date \" + myDate + \" |title: \" + f.meta.title)\r\n\r\n        let item = {\r\n          id: f.interId,\r\n          content: \"<p>\" + f.meta.title + \"</p><p>\" + \" (\" + f.meta.date + \")\" + \"</p>\",\r\n          start: myDate,\r\n          style: entryStyle\r\n        };\r\n        console.log(\"item id: \" + item.id);\r\n        historyItems.push(item);\r\n        this.myHistoryArray.push(f);\r\n      }\r\n    });\r\n\r\n    var container = document.getElementById('visualization');\r\n    console.log(\"history counter: \" + this.props.historyEntryCounter);\r\n    console.log(\"historico: \" + this.props.history);\r\n    console.log(\"history items: \" + historyItems);\r\n    this.timeline = new Timeline(container, historyItems, this.options);\r\n\r\n    this.timeline.on('click', this.handleClick);\r\n\r\n    var moveToOptions = {\r\n      animation: { // animation object, can also be Boolean\r\n        duration: 1000, // animation duration in milliseconds (Number)\r\n        easingFunction: \"easeInCubic\" // Animation easing function, available are:\r\n      } // linear, easeInQuad, easeOutQuad, easeInOutQuad,\r\n    } // easeInCubic, easeOutCubic, easeInOutCubic,\r\n    // easeInQuart, easeOutQuart, easeInOutQuart,\r\n    // easeInQuint, easeOutQuint, easeInOutQuint\r\n\r\n    //this.timeline.focus(this.props.recommendationArray[this.props.recommendationIndex].interId);\r\n\r\n    //this.timeline.moveTo(this.props.recommendationArray[this.props.recommendationIndex].meta.date);\r\n\r\n    let z;\r\n    for (z = 0; z < this.myHistoryArray.length; z++) {\r\n      if (this.myHistoryArray[z].interId == this.props.recommendationArray[this.props.recommendationIndex].interId) {\r\n        this.actualIndex = z;\r\n        break;\r\n      }\r\n    }\r\n\r\n    let imedPrevIndex = this.actualIndex;\r\n    let imedNextIndex = this.actualIndex;\r\n\r\n    let j;\r\n    for (j = (this.actualIndex); j < this.myHistoryArray.length; j++) {\r\n      if (this.myHistoryArray[j].meta.date !== this.myHistoryArray[this.actualIndex].meta.date) {\r\n        imedNextIndex = j;\r\n        break\r\n      }\r\n    }\r\n\r\n    let n;\r\n    for (n = (this.actualIndex); n !== -1; n--) {\r\n      if (this.myHistoryArray[n].meta.date !== this.myHistoryArray[this.actualIndex].meta.date && n >= 0) {\r\n        imedPrevIndex = n;\r\n        break\r\n      }\r\n    }\r\n\r\n    let date1 = this.myHistoryArray[imedPrevIndex].meta.date.split('-');\r\n    let year1 = parseInt(date1[0]);\r\n    let month1 = parseInt(date1[1]);\r\n    let day1 = parseInt(date1[2]);\r\n\r\n    let myDate1 = new Date(year1, Math.max(1, (month1 - 4)), 15);\r\n\r\n    let date2 = this.myHistoryArray[imedNextIndex].meta.date.split('-');\r\n    let year2 = parseInt(date2[0]);\r\n    let month2 = parseInt(date2[1]);\r\n    let day2 = parseInt(date2[2]);\r\n\r\n    let myDate2 = new Date(year2, Math.min(12, (month2 + 2)), 15);\r\n\r\n    console.log(\"myhistory debug: imedPrevIndex date \" + this.myHistoryArray[imedPrevIndex].meta.date + \" | \" + imedPrevIndex + \" \" + this.myHistoryArray[imedPrevIndex].meta.title)\r\n    console.log(\"myhistory debug: this.actualIndex date \" + this.myHistoryArray[this.actualIndex].meta.date + \" | \" + this.actualIndex + \" \" + this.myHistoryArray[this.actualIndex].meta.title)\r\n    console.log(\"myhistory debug: imedNextIndex date \" + this.myHistoryArray[imedNextIndex].meta.date + \" | \" + imedNextIndex + \" \" + this.myHistoryArray[imedNextIndex].meta.title)\r\n\r\n    this.timeline.setWindow(myDate1, myDate2, this.clearLoadingGif);\r\n\r\n    // setInterval(() => {\r\n    //   this.clearLoadingGif();\r\n    // }, 500);\r\n\r\n    this.timeline.on(\"itemover\", function(params) {\r\n      document.getElementById('visualization').style.cursor = 'pointer'\r\n    });\r\n    this.timeline.on(\"itemout\", function(params) {\r\n      document.getElementById('visualization').style.cursor = 'default'\r\n    });\r\n\r\n  }\r\n\r\n  clearLoadingGif() {\r\n    this.loadingGif = (<div/>);\r\n    this.setState({});\r\n  }\r\n\r\n  render() {\r\n\r\n    let redSquareText = (<span style={{\r\n        background: \"#FF7F50\",\r\n        paddingLeft: '3px',\r\n        paddingRight: '3px',\r\n        border: \"#FF7F50\",\r\n        color: 'white'\r\n      }}>\r\n      <b>retângulo laranja</b>\r\n    </span >);\r\n\r\n    let purpleSquareText = (<span style={{\r\n        background: \"#8A2BE2\",\r\n        paddingLeft: '3px',\r\n        paddingRight: '3px',\r\n        border: \"#8A2BE2\",\r\n        color: 'white'\r\n      }}>\r\n      <b>retângulo roxo</b>\r\n    </span >);\r\n\r\n    let instructions = (<div className=\"instructionsButton\">\r\n      <Button bsStyle=\"default\" bsSize=\"small\" onClick={this.toggleInstructions}>\r\n        Mostrar instruções [i]\r\n      </Button>\r\n    </div>)\r\n\r\n    if (this.state.showInstructions) {\r\n      instructions = (<div>\r\n        <div className=\"instructionsText\">\r\n\r\n          <p>\r\n            Nesta cronologia, poderá situar o fragmento atual e a sua data em comparação ao resto dos fragmentos da edição que tenham também data disponível.\r\n          </p>\r\n\r\n          <ul>\r\n            <li>\r\n              Cada retângulo representa um fragmento com o título apresentado.\r\n            </li>\r\n            <li>\r\n              Pode controlar o zoom da cronologia com a roda do rato.\r\n            </li>\r\n            <li>\r\n              Pode arrastar a cronologia com o botão esquerdo do rato (caso haja muitos fragmentos com data semelhante, é possível que empilhem para cima da altura da janela da cronologia).\r\n            </li>\r\n            <li>\r\n              Um {redSquareText}\r\n              representará o fragmento sob o qual realizou ou está a realizar uma nova atividade.\r\n            </li>\r\n            <li>\r\n              Um {purpleSquareText}\r\n              representará o fragmento que está a ler durante a atividade atual caso navegue para um fragmento diferente do fragmento inicial que escolheu ao selecionar uma nova atividade (o {redSquareText}).\r\n            </li>\r\n            <li>\r\n              Clique num dos retângulos dos fragmentos para ler o mesmo.\r\n            </li>\r\n\r\n          </ul>\r\n\r\n        </div>\r\n\r\n        <div className=\"instructionsButton\">\r\n          <Button bsStyle=\"default\" bsSize=\"small\" onClick={this.toggleInstructions}>\r\n            Esconder instruções [i]\r\n          </Button>\r\n        </div>\r\n\r\n        <br/>\r\n\r\n      </div>)\r\n\r\n    }\r\n\r\n    if (this.props.allFragmentsLoaded) {\r\n      this.jsxToRender = <div id=\"visualization\"></div>\r\n    }\r\n\r\n    return (<div className=\"myHistory\">\r\n      {instructions}\r\n      {this.loadingGif}\r\n      <div id=\"visualization\"></div>\r\n    </div>);\r\n  }\r\n}\r\n\r\nconst MyHistory = connect(mapStateToProps, mapDispatchToProps)(ConnectedMyHistory);\r\n\r\nexport default MyHistory;\r\n","import React, {Component} from \"react\";\r\nimport \"./ActivityMenu.css\";\r\nimport {connect} from \"react-redux\";\r\nimport {Button, ButtonToolbar, Modal} from \"react-bootstrap\";\r\nimport NetworkGraphContainer from \"../containers/NetworkGraphContainer\";\r\nimport {setCurrentVisualization, setPotentialVisualizationTechnique, setPotentialSemanticCriteria, setSemanticCriteriaDataLoaded, setDisplayTextSkimming} from \"../actions/index\";\r\nimport SquareGrid from \"../components/SquareGrid\";\r\nimport MyWordCloud from \"../components/MyWordCloud\";\r\nimport MyHistory from \"../components/MyHistory\";\r\n\r\nimport {\r\n  VIS_SQUARE_GRID,\r\n  VIS_NETWORK_GRAPH,\r\n  VIS_TIMELINE,\r\n  VIS_WORD_CLOUD,\r\n  BY_SQUAREGRID_EDITIONORDER,\r\n  CRIT_EDITION_ORDER,\r\n  CRIT_CHRONOLOGICAL_ORDER,\r\n  CRIT_TEXT_SIMILARITY,\r\n  CRIT_HETERONYM,\r\n  CRIT_CATEGORY,\r\n  CRIT_TAXONOMY,\r\n  CRIT_WORD_RELEVANCE\r\n} from \"../constants/history-transitions\";\r\n\r\nimport picNetgraph from '../assets/card-pics-regular/netgraph.png';\r\nimport picSquare from '../assets/card-pics-regular/square.png';\r\nimport picSquareGolden from '../assets/card-pics-regular/square-golden.png';\r\nimport picSquareTime from '../assets/card-pics-regular/square-time.png';\r\nimport picWordCloud from '../assets/card-pics-regular/word-cloud.png';\r\nimport picTimeline from '../assets/card-pics-regular/timeline.png';\r\nimport picWordCloudSingular from '../assets/card-pics-regular/word-cloud-singular.png';\r\n\r\nimport picNetgraphGray from '../assets/card-pics-gray/netgraph-gray.png';\r\nimport picSquareGray from '../assets/card-pics-gray/square-gray.png';\r\nimport picSquareGoldenGray from '../assets/card-pics-gray/square-golden-gray.png';\r\nimport picSquareTimeGray from '../assets/card-pics-gray/square-time-gray.png';\r\nimport picWordCloudGray from '../assets/card-pics-gray/word-cloud-gray.png';\r\nimport picTimelineGray from '../assets/card-pics-gray/timeline-gray.png';\r\nimport picWordCloudSingularGray from '../assets/card-pics-gray/word-cloud-singular-gray.png';\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    setCurrentVisualization: currentVisualization => dispatch(setCurrentVisualization(currentVisualization)),\r\n    setPotentialVisualizationTechnique: potentialVisualizationTechnique => dispatch(setPotentialVisualizationTechnique(potentialVisualizationTechnique)),\r\n    setPotentialSemanticCriteria: potentialSemanticCriteria => dispatch(setPotentialSemanticCriteria(potentialSemanticCriteria)),\r\n    setSemanticCriteriaDataLoaded: semanticCriteriaDataLoaded => dispatch(setSemanticCriteriaDataLoaded(semanticCriteriaDataLoaded)),\r\n    setDisplayTextSkimming: displayTextSkimming => dispatch(setDisplayTextSkimming(displayTextSkimming))\r\n  };\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    fragments: state.fragments,\r\n    fragmentIndex: state.fragmentIndex,\r\n    currentVisualization: state.currentVisualization,\r\n    recommendationArray: state.recommendationArray,\r\n    recommendationIndex: state.recommendationIndex,\r\n    recommendationLoaded: state.recommendationLoaded,\r\n    displayTextSkimming: state.displayTextSkimming,\r\n    categories: state.categories,\r\n    datesExist: state.datesExist,\r\n    fragmentsSortedByDate: state.fragmentsSortedByDate\r\n  };\r\n};\r\n\r\nclass ConnectedActivityMenu extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.activityToRender = (<div></div>);\r\n    this.state = {\r\n      show: true,\r\n      showInstructions: false\r\n    };\r\n\r\n    this.retreatButton = (<div/>);\r\n\r\n    this.toggleActivityNetworkGraphTextSimilarity = this.toggleActivityNetworkGraphTextSimilarity.bind(this);\r\n\r\n    this.toggleActivityNetworkGraphHeteronym = this.toggleActivityNetworkGraphHeteronym.bind(this);\r\n\r\n    this.toggleActivityMyHistoryDate = this.toggleActivityMyHistoryDate.bind(this);\r\n\r\n    this.toggleActivityNetworkGraphTaxonomy = this.toggleActivityNetworkGraphTaxonomy.bind(this);\r\n\r\n    this.toggleSquareGridEditionOrder = this.toggleSquareGridEditionOrder.bind(this);\r\n\r\n    this.toggleSquareGridHeteronym = this.toggleSquareGridHeteronym.bind(this);\r\n\r\n    this.toggleSquareGridDateOrder = this.toggleSquareGridDateOrder.bind(this);\r\n\r\n    this.toggleWordCloudTaxonomy = this.toggleWordCloudTaxonomy.bind(this);\r\n\r\n    this.handleActivitySelectRetreat = this.handleActivitySelectRetreat.bind(this);\r\n\r\n    this.toggleWordCloudTaxonomySingleFragment = this.toggleWordCloudTaxonomySingleFragment.bind(this);\r\n\r\n    this.toggleInstructions = this.toggleInstructions.bind(this);\r\n\r\n  }\r\n\r\n  toggleInstructions() {\r\n    this.setState({\r\n      showInstructions: !this.state.showInstructions\r\n    });\r\n  }\r\n\r\n  toggleActivityNetworkGraphTextSimilarity() {\r\n    this.props.setPotentialVisualizationTechnique(VIS_NETWORK_GRAPH);\r\n    this.props.setPotentialSemanticCriteria(CRIT_TEXT_SIMILARITY);\r\n    this.activityToRender = (<NetworkGraphContainer onChange={this.props.onChange}/>);\r\n    this.setState(prevState => ({\r\n      show: !prevState.show\r\n    }));\r\n  }\r\n\r\n  toggleActivityNetworkGraphHeteronym() {\r\n\r\n    this.props.setPotentialVisualizationTechnique(VIS_NETWORK_GRAPH);\r\n    this.props.setPotentialSemanticCriteria(CRIT_HETERONYM);\r\n    this.activityToRender = (<NetworkGraphContainer onChange={this.props.onChange}/>);\r\n    this.setState(prevState => ({\r\n      show: !prevState.show\r\n    }));\r\n  }\r\n\r\n  toggleActivityMyHistoryDate() {\r\n\r\n    if (this.props.datesExist & this.props.recommendationArray[this.props.recommendationIndex].meta.date !== null) {\r\n\r\n      if (this.props.recommendationArray[this.props.recommendationIndex].meta.date !== null) {\r\n\r\n        this.props.setPotentialVisualizationTechnique(VIS_TIMELINE);\r\n        this.props.setPotentialSemanticCriteria(CRIT_CHRONOLOGICAL_ORDER);\r\n        this.activityToRender = (<MyHistory onChange={this.props.onChange}/>);\r\n        this.setState(prevState => ({\r\n          show: !prevState.show\r\n        }));\r\n      }\r\n    }\r\n  }\r\n\r\n  toggleActivityNetworkGraphTaxonomy() {\r\n\r\n    if (this.props.categories.length !== 0) {\r\n\r\n      this.props.setPotentialVisualizationTechnique(VIS_NETWORK_GRAPH);\r\n      this.props.setPotentialSemanticCriteria(CRIT_TAXONOMY);\r\n      this.activityToRender = (<NetworkGraphContainer onChange={this.props.onChange}/>);\r\n      this.setState(prevState => ({\r\n        show: !prevState.show\r\n      }));\r\n    }\r\n  }\r\n\r\n  toggleSquareGridEditionOrder() {\r\n\r\n    this.props.setPotentialVisualizationTechnique(VIS_SQUARE_GRID);\r\n    this.props.setPotentialSemanticCriteria(CRIT_EDITION_ORDER);\r\n    this.activityToRender = (<SquareGrid onChange={this.props.onChange}/>);\r\n    this.setState(prevState => ({\r\n      show: !prevState.show\r\n    }));\r\n  }\r\n\r\n  toggleSquareGridDateOrder() {\r\n\r\n    if (this.props.datesExist) {\r\n\r\n      this.props.setPotentialVisualizationTechnique(VIS_SQUARE_GRID);\r\n      this.props.setPotentialSemanticCriteria(CRIT_CHRONOLOGICAL_ORDER);\r\n      this.activityToRender = (<SquareGrid onChange={this.props.onChange}/>);\r\n      this.setState(prevState => ({\r\n        show: !prevState.show\r\n      }));\r\n    }\r\n  }\r\n\r\n  toggleWordCloudTaxonomy() {\r\n\r\n    if (this.props.categories.length !== 0) {\r\n\r\n      this.props.setPotentialVisualizationTechnique(VIS_SQUARE_GRID);\r\n      this.props.setPotentialSemanticCriteria(CRIT_CATEGORY);\r\n      this.activityToRender = (<MyWordCloud onChange={this.props.onChange}/>);\r\n      this.setState(prevState => ({\r\n        show: !prevState.show\r\n      }));\r\n    }\r\n  }\r\n\r\n  toggleWordCloudTaxonomySingleFragment() {\r\n\r\n    if (this.props.categories.length !== 0 & this.props.recommendationArray[this.props.recommendationIndex].meta.categories.length !== 0) {\r\n\r\n      this.props.setPotentialVisualizationTechnique(VIS_SQUARE_GRID);\r\n      this.props.setPotentialSemanticCriteria(CRIT_CATEGORY);\r\n      this.activityToRender = (<MyWordCloud onChange={this.props.onChange} singleFragmentCategory={true}/>);\r\n      this.setState(prevState => ({\r\n        show: !prevState.show\r\n      }));\r\n    }\r\n  }\r\n\r\n  toggleSquareGridHeteronym() {\r\n\r\n    if (this.props.recommendationArray[this.props.recommendationIndex].meta.heteronym) {\r\n\r\n      this.props.setPotentialVisualizationTechnique(VIS_SQUARE_GRID);\r\n      this.props.setPotentialSemanticCriteria(CRIT_HETERONYM);\r\n      this.activityToRender = (<SquareGrid onChange={this.props.onChange}/>);\r\n      this.setState(prevState => ({\r\n        show: !prevState.show\r\n      }));\r\n    }\r\n  }\r\n\r\n  handleActivitySelectRetreat() {\r\n    if (!this.state.show) {\r\n      this.setState({show: true})\r\n    }\r\n  }\r\n\r\n  _handleKeyDownActivity = (event) => {\r\n\r\n    var ESCAPE_KEY = 27;\r\n    var RIGHT_ARROW = 39;\r\n    var LEFT_ARROW = 37;\r\n    var A_KEY = 65;\r\n    var N_KEY = 78;\r\n    var H_KEY = 72;\r\n    var E_KEY = 69;\r\n    var D_KEY = 68;\r\n    var T_KEY = 84;\r\n    var C_KEY = 67;\r\n    var X_KEY = 88;\r\n    var O_KEY = 79;\r\n    var R_KEY = 82;\r\n    var V_KEY = 86;\r\n    var I_KEY = 73;\r\n\r\n    switch (event.keyCode) {\r\n      case E_KEY:\r\n        this.toggleSquareGridEditionOrder();\r\n        break;\r\n      case D_KEY:\r\n        this.toggleSquareGridDateOrder();\r\n        break;\r\n      case H_KEY:\r\n        this.toggleSquareGridHeteronym();\r\n        break;\r\n      case T_KEY:\r\n        this.toggleWordCloudTaxonomy();\r\n        break;\r\n      case C_KEY:\r\n        this.toggleWordCloudTaxonomySingleFragment();\r\n        break;\r\n      case V_KEY:\r\n        this.toggleActivityMyHistoryDate();\r\n        break;\r\n      case X_KEY:\r\n        this.toggleActivityNetworkGraphTextSimilarity();\r\n        break;\r\n      case O_KEY:\r\n        this.toggleActivityNetworkGraphTaxonomy();\r\n        break;\r\n      case R_KEY:\r\n        this.handleActivitySelectRetreat();\r\n        break;\r\n      case I_KEY:\r\n        this.toggleInstructions();\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n  }\r\n\r\n  componentDidMount() {\r\n    //window.addEventListener('scroll', this.listenScrollEvent)\r\n    document.addEventListener(\"keydown\", this._handleKeyDownActivity);\r\n  }\r\n\r\n  render() {\r\n\r\n    const activitySelectable = \"Escolher atividade\";\r\n    const activityUnselectable = \"Atividade indisponível\";\r\n\r\n    let instructions = (<div className=\"instructionsButton\">\r\n      <Button bsStyle=\"default\" bsSize=\"small\" onClick={this.toggleInstructions}>\r\n        Mostrar instruções [i]\r\n      </Button>\r\n    </div>)\r\n\r\n    if (this.state.showInstructions) {\r\n      instructions = (<div className=\"readingMoreInfo\">\r\n        <p align=\"center\">Este é o menu de nova atividade.</p>\r\n        <lu>\r\n          <li>\r\n            Aqui poderá realizar uma de várias atividades clicando na respectiva imagem, botão ou tecla do seu teclado assinalada na etiqueta do botão (ex: tecla \"E\" para a primeira atividade).\r\n          </li>\r\n          <li>\r\n            Note que todas as atividades que envolvam quadrados, círculos ou cronologia irão envolver um elemento cor-de-laranja que representa o fragmento que está a ler atualmente e à volta do qual deseja fazer a nova atividade.\r\n          </li>\r\n        </lu>\r\n\r\n        <div className=\"instructionsButton\">\r\n\r\n          <Button bsStyle=\"default\" bsSize=\"small\" onClick={this.toggleInstructions}>\r\n            Esconder instruções [i]\r\n          </Button>\r\n\r\n        </div>\r\n      </div>)\r\n\r\n    }\r\n\r\n    if (this.state.show) {\r\n\r\n      let categoryButtonMessage = \"Explorar os fragmentos desta edição pelas categorias a que pertencem (taxonomia)\"\r\n      let networkGraphTaxonomyMessage = \"Ler fragmentos semelhantes a este por taxonomia\"\r\n      let categoryButtonStyle = \"default\"\r\n      let categoryButtonBotMessage = activitySelectable;\r\n      let categoryImage = picWordCloud;\r\n      let networkGraphTaxonomyImage = picNetgraph;\r\n      if (this.props.categories.length === 0) {\r\n        categoryButtonStyle = \"default disabled\";\r\n        categoryButtonMessage = \"Explorar os fragmentos desta edição pelas categorias a que pertencem (taxonomia) (edição sem taxonomia)\"\r\n        networkGraphTaxonomyMessage = \"Ler fragmentos semelhantes a este por taxonomia (edição sem taxonomia)\"\r\n        networkGraphTaxonomyImage = picNetgraphGray;\r\n        categoryImage = picWordCloudGray;\r\n        categoryButtonBotMessage = activityUnselectable;\r\n      }\r\n\r\n      //toggleSquareGridHeteronym\r\n      let heteronymButtonStyle = \"default disabled\";\r\n      let heteronymButtonBotMessage = activityUnselectable;\r\n      let myHeteronym = \"heterónimo não disponível para este fragmento\";\r\n      let heteronymImage = picSquareGoldenGray;\r\n      if (this.props.recommendationArray[this.props.recommendationIndex].meta.heteronym) {\r\n        heteronymButtonStyle = \"default\";\r\n        myHeteronym = this.props.recommendationArray[this.props.recommendationIndex].meta.heteronym;\r\n        heteronymImage = picSquareGolden;\r\n        heteronymButtonBotMessage = activitySelectable;\r\n      }\r\n\r\n      let datesButtonStyle = \"default\"\r\n      let datesImage = picSquareTime;\r\n      let datesButtonFunction = this.toggleSquareGridDateOrder;\r\n      let datesButtonMessage = \"Explorar os fragmentos desta edição ordenados por data\";\r\n      let datesButtonBotMessage = activitySelectable;\r\n\r\n      let datesSimilarButtonMessage = \"Explorar fragmentos à volta da data deste fragmento (fragmento atual sem data disponível)\"\r\n      let datesSimilarButtonStyle = \"default disabled\"\r\n      let datesSimilarImage = picTimelineGray;\r\n      let datesSimilarButtonBotMessage = activityUnselectable;\r\n      if (this.props.recommendationArray[this.props.recommendationIndex].meta.date !== null) {\r\n        datesSimilarButtonMessage = \"Explorar fragmentos à volta da data deste fragmento (\" + this.props.recommendationArray[this.props.recommendationIndex].meta.date + \")\"\r\n        datesSimilarButtonStyle = \"default\";\r\n        datesSimilarImage = picTimeline;\r\n        datesSimilarButtonBotMessage = activitySelectable;\r\n      }\r\n\r\n      if (!this.props.datesExist) {\r\n        datesButtonStyle = \"default disabled\";\r\n        datesButtonBotMessage = activityUnselectable;\r\n        datesImage = picSquareTimeGray;\r\n        datesSimilarButtonStyle = \"default disabled\";\r\n        datesButtonFunction = function() {}\r\n        datesButtonMessage = \"Explorar os fragmentos desta edição ordenados por data (edição sem datas)\"\r\n        datesSimilarButtonMessage = \"Ler fragmentos semelhantes a este por data (edição sem datas)\"\r\n      }\r\n\r\n      let wordCloudSingleFragmentMessage = \"Explorar mais fragmentos da(s) mesma(s) categoria(s) deste fragmento\";\r\n      let wordCloudSingleFragmentButtonStyle = \"default\";\r\n      let wordCloudSingleFragmentImage = picWordCloudSingular;\r\n      let wordCloudSingleBotMessage = activitySelectable;\r\n\r\n      // console.log(\"blebleblebleble\")\r\n      // console.log(this.props.recommendationArray[this.props.recommendationIndex].meta.categories.length)\r\n\r\n      if (this.props.recommendationArray[this.props.recommendationIndex].meta.categories.length == 0) {\r\n        wordCloudSingleFragmentMessage = \"Explorar mais fragmentos da(s) mesma(s) categoria(s) deste fragmento (fragmento atual sem categorias)\";\r\n        wordCloudSingleFragmentButtonStyle = \"default disabled\";\r\n        wordCloudSingleFragmentImage = picWordCloudSingularGray;\r\n        wordCloudSingleBotMessage = activityUnselectable;\r\n      }\r\n\r\n      this.retreatButton = (<div/>);\r\n\r\n      this.activityToRender = (<div>\r\n\r\n        {instructions}\r\n\r\n        <br/>\r\n\r\n        <p align=\"center\">\r\n          <b>Atividades a partir da edição escolhida:</b>\r\n        </p>\r\n\r\n        <div className=\"cardsContainerActivity\">\r\n\r\n          <div className=\"cardActivity\">\r\n            <div className=\"containerActivity\">\r\n              <img src={picSquare} onClick={this.toggleSquareGridEditionOrder} className=\"cardsActivityImage\" alt=\"Avatar\" style={{\r\n                  width: \"80%\"\r\n                }}/>\r\n              <p align=\"center\">\r\n                <b>Explorar os fragmentos por ordem desta edição</b>\r\n              </p>\r\n              <div className=\"welcomeButtonActivity\">\r\n                <Button bsStyle=\"default\" bsSize=\"small\" onClick={this.toggleSquareGridEditionOrder}>\r\n                  {activitySelectable + \" [E]\"}\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"cardActivity\">\r\n            <div className=\"containerActivity\">\r\n              <img src={datesImage} onClick={datesButtonFunction} className=\"cardsActivityImage\" alt=\"Avatar\" style={{\r\n                  width: \"80%\"\r\n                }}/>\r\n              <p align=\"center\">\r\n                <b>{datesButtonMessage}</b>\r\n              </p>\r\n              <div className=\"welcomeButtonActivity\">\r\n                <Button bsStyle={datesButtonStyle} bsSize=\"small\" onClick={datesButtonFunction}>\r\n                  {datesButtonBotMessage + \" [D]\"}\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"cardActivity\">\r\n            <div className=\"containerActivity\">\r\n              <img src={categoryImage} onClick={this.toggleWordCloudTaxonomy} className=\"cardsActivityImage\" alt=\"Avatar\" style={{\r\n                  width: \"80%\"\r\n                }}/>\r\n              <p align=\"center\">\r\n                <b>{categoryButtonMessage}</b>\r\n              </p>\r\n              <div className=\"welcomeButtonActivity\">\r\n                <Button bsStyle={categoryButtonStyle} bsSize=\"small\" onClick={this.toggleWordCloudTaxonomy}>\r\n                  {categoryButtonBotMessage + \" [T]\"}\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n\r\n        <br/>\r\n\r\n        <p align=\"center\">\r\n          <b>Atividades a partir do fragmento atual:</b>\r\n        </p>\r\n\r\n        <div className=\"cardsContainerActivity\">\r\n\r\n          <div className=\"cardActivity\">\r\n            <div className=\"containerActivity\">\r\n              <img src={datesSimilarImage} onClick={this.toggleActivityMyHistoryDate} className=\"cardsActivityImage\" alt=\"Avatar\" style={{\r\n                  width: \"80%\"\r\n                }}/>\r\n              <p align=\"center\">\r\n                <b>{datesSimilarButtonMessage}</b>\r\n              </p>\r\n              <div className=\"welcomeButtonActivity\">\r\n                <Button bsStyle={datesSimilarButtonStyle} bsSize=\"small\" onClick={this.toggleActivityMyHistoryDate}>\r\n                  {datesSimilarButtonBotMessage + \" [V]\"}\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"cardActivity\">\r\n            <div className=\"containerActivity\">\r\n              <img src={picNetgraph} onClick={this.toggleActivityNetworkGraphTextSimilarity} className=\"cardsActivityImage\" alt=\"Avatar\" style={{\r\n                  width: \"80%\"\r\n                }}/>\r\n              <p align=\"center\">\r\n                <b>Ler fragmentos semelhantes a este por semelhança de texto</b>\r\n              </p>\r\n              <div className=\"welcomeButtonActivity\">\r\n                <Button bsStyle=\"default\" bsSize=\"small\" onClick={this.toggleActivityNetworkGraphTextSimilarity}>\r\n                  Escolher atividade [X]\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"cardActivity\">\r\n            <div className=\"containerActivity\">\r\n              <img src={wordCloudSingleFragmentImage} onClick={this.toggleWordCloudTaxonomySingleFragment} className=\"cardsActivityImage\" alt=\"Avatar\" style={{\r\n                  width: \"80%\"\r\n                }}/>\r\n              <p align=\"center\">\r\n                <b>{wordCloudSingleFragmentMessage}</b>\r\n              </p>\r\n              <div className=\"welcomeButtonActivity\">\r\n                <Button bsStyle={wordCloudSingleFragmentButtonStyle} bsSize=\"small\" onClick={this.toggleWordCloudTaxonomySingleFragment}>\r\n                  {wordCloudSingleBotMessage + \" [C]\"}\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"cardActivity\">\r\n            <div className=\"containerActivity\">\r\n              <img src={networkGraphTaxonomyImage} onClick={this.toggleActivityNetworkGraphTaxonomy} className=\"cardsActivityImage\" alt=\"Avatar\" style={{\r\n                  width: \"80%\"\r\n                }}/>\r\n              <p align=\"center\">\r\n                <b>{networkGraphTaxonomyMessage}</b>\r\n              </p>\r\n              <div className=\"welcomeButtonActivity\">\r\n                <Button bsStyle={categoryButtonStyle} bsSize=\"small\" onClick={this.toggleActivityNetworkGraphTaxonomy}>\r\n                  {categoryButtonBotMessage + \" [O]\"}\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"cardActivity\">\r\n            <div className=\"containerActivity\">\r\n              <img src={heteronymImage} onClick={this.toggleSquareGridHeteronym} className=\"cardsActivityImage\" alt=\"Avatar\" style={{\r\n                  width: \"80%\"\r\n                }}/>\r\n              <p align=\"center\">\r\n                <b>Explorar mais fragmentos assinados pelo mesmo heterónimo deste fragmento ({myHeteronym})</b>\r\n              </p>\r\n              <div className=\"welcomeButtonActivity\">\r\n                <Button bsStyle={heteronymButtonStyle} bsSize=\"small\" onClick={this.toggleSquareGridHeteronym}>\r\n                  {heteronymButtonBotMessage + \" [H]\"}\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n\r\n      </div>);\r\n    } else {\r\n      this.activityToRender = this.activityToRender; //(<NetworkGraphContainer pFragmentId={this.props.recommendationArray[this.props.recommendationIndex].interId} pHeteronymWeight=\"0.0\" pTextWeight=\"1.0\" pDateWeight=\"0.0\" ptaxonomyWeight=\"0.0\" onChange={this.props.onChange}/>);\r\n      this.retreatButton = (<div className=\"newActRetreatButton\">\r\n        <Button bsStyle=\"default\" onClick={this.handleActivitySelectRetreat}>\r\n          ← Retroceder para outra atividade [R]\r\n        </Button>\r\n      </div>);\r\n\r\n    }\r\n\r\n    return <div className=\"activityMenu\">{this.activityToRender}{this.retreatButton}</div>;\r\n  }\r\n}\r\n\r\nconst ActivityMenu = connect(mapStateToProps, mapDispatchToProps)(ConnectedActivityMenu);\r\n\r\nexport default ActivityMenu;\r\n\r\n//         <p>Caso tenha selecionado uma edição sem taxonomia, ou categorias, não será possível realizar atividades que dependem das mesmas, que estarão devidamente assinaladas a cinzento. O mesmo se aplicará para a ausência de datas ou se o fragmento que está a ler atualmente não for assinado por qualquer heterónimo - as atividades em torno dessa informação estarão indisponíveis.\r\n//         </p>","import {Network, Timeline, DataSet} from \"vis\";\r\nimport React, {Component} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n  VIS_SQUARE_GRID,\r\n  VIS_NETWORK_GRAPH,\r\n  VIS_WORD_CLOUD,\r\n  BY_SQUAREGRID_EDITIONORDER,\r\n  CRIT_EDITION_ORDER,\r\n  CRIT_CHRONOLOGICAL_ORDER,\r\n  CRIT_TEXT_SIMILARITY,\r\n  CRIT_HETERONYM,\r\n  CRIT_TAXONOMY,\r\n  CRIT_WORD_RELEVANCE,\r\n  CRIT_CATEGORY,\r\n  VIS_TIMELINE\r\n} from \"../constants/history-transitions\";\r\nimport {\r\n  setFragmentIndex,\r\n  setCurrentVisualization,\r\n  addHistoryEntry,\r\n  setOutOfLandingPage,\r\n  setHistoryEntryCounter,\r\n  setRecommendationArray,\r\n  setRecommendationIndex,\r\n  setVisualizationTechnique,\r\n  setSemanticCriteria,\r\n  setSemanticCriteriaDataLoaded,\r\n  setCurrentCategory\r\n} from \"../actions/index\";\r\nimport \"./HistoryMenu.css\";\r\nimport picNetGraph from '../assets/picnetgraph.png';\r\nimport picSquareGrid from '../assets/picsquaregrid.png';\r\nimport picTimeline from '../assets/pictimeline.png';\r\nimport loadingGif from '../assets/loading.gif';\r\nimport {Button} from \"react-bootstrap\";\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    fragments: state.fragments,\r\n    fragmentIndex: state.fragmentIndex,\r\n    currentVisualization: state.currentVisualization,\r\n    history: state.history,\r\n    allFragmentsLoaded: state.allFragmentsLoaded,\r\n    historyEntryCounter: state.historyEntryCounter,\r\n    recommendationindex: state.recommendationIndex,\r\n    recommendationArray: state.recommendationArray\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    setFragmentIndex: fragmentIndex => dispatch(setFragmentIndex(fragmentIndex)),\r\n    setCurrentVisualization: currentVisualization => dispatch(setCurrentVisualization(currentVisualization)),\r\n    addHistoryEntry: historyEntry => dispatch(addHistoryEntry(historyEntry)),\r\n    setOutOfLandingPage: outOfLandingPage => dispatch(setOutOfLandingPage(outOfLandingPage)),\r\n    setHistoryEntryCounter: historyEntryCounter => dispatch(setHistoryEntryCounter(historyEntryCounter)),\r\n    setRecommendationArray: recommendationArray => dispatch(setRecommendationArray(recommendationArray)),\r\n    setRecommendationIndex: recommendationIndex => dispatch(setRecommendationIndex(recommendationIndex)),\r\n    setVisualizationTechnique: visualizationTechnique => dispatch(setVisualizationTechnique(visualizationTechnique)),\r\n    setSemanticCriteria: semanticCriteria => dispatch(setSemanticCriteria(semanticCriteria)),\r\n    setSemanticCriteriaDataLoaded: semanticCriteriaDataLoaded => dispatch(setSemanticCriteriaDataLoaded(semanticCriteriaDataLoaded)),\r\n    setCurrentCategory: currentCategory => dispatch(setCurrentCategory(currentCategory))\r\n  };\r\n};\r\n\r\nclass ConnectedHistoryMenu extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.properties = [];\r\n\r\n    this.state = {\r\n      loadingGif: (<div>\r\n        <img src={loadingGif} alt=\"loading...myhistory\" className=\"loadingGifCentered\"/>\r\n        <p align=\"center\">A carregar histórico...</p>\r\n      </div>),\r\n      showInstructions: false\r\n    };\r\n\r\n    var height = Math.round(window.innerHeight * 0.7) + 'px';\r\n\r\n    this.clearLoadingGif = this.clearLoadingGif.bind(this);\r\n\r\n    this.options = {\r\n      locales: {\r\n        // create a new locale (text strings should be replaced with localized strings)\r\n        pt: {}\r\n      },\r\n\r\n      // use the new locale\r\n      locale: 'pt',\r\n      height: height,\r\n      onInitialDrawComplete: this.clearLoadingGif\r\n    };\r\n    this.timeline = [];\r\n\r\n    this.handleClick = this.handleClick.bind(this);\r\n\r\n    this.toggleInstructions = this.toggleInstructions.bind(this);\r\n\r\n  }\r\n\r\n  toggleInstructions() {\r\n    this.setState({\r\n      showInstructions: !this.state.showInstructions\r\n    });\r\n  }\r\n\r\n  clearLoadingGif() {\r\n    this.setState({loadingGif: (<div/>)});\r\n  }\r\n\r\n  handleClick(event) {\r\n\r\n    //const properties = this.timeline.getEventProperties(event);\r\n\r\n    console.log(event)\r\n\r\n    const properties = event;\r\n\r\n    if (properties.item !== null && this.props.allFragmentsLoaded === true) {\r\n\r\n      console.log(\"properties id: \" + parseInt(properties.item));\r\n      console.log(\"history array: \" + this.props.history);\r\n\r\n      var i;\r\n      for (i = 0; i < this.props.fragments.length; i++) {\r\n        if (this.props.fragments[i].interId === this.props.history[parseInt(properties.item)].nextFragment.interId) {\r\n          console.log(\"clicking on nodeId \" + this.props.fragments[i].interId + \" of title \" + this.props.fragments[i].meta.title)\r\n          const globalViewToRender = this.props.history[parseInt(properties.item)].visualization //(<SquareGrid onChange={this.props.onChange}/>);\r\n          this.props.setCurrentVisualization(globalViewToRender);\r\n          //HISTORY ENTRY HISTORY ENTRY HISTORY ENTRY HISTORY ENTRY\r\n          let historyCategory = \"\";\r\n          if (this.props.history[parseInt(properties.item)].criteria == CRIT_TAXONOMY) {\r\n            historyCategory = this.props.history[parseInt(properties.item)].category\r\n            this.props.setCurrentCategory(historyCategory);\r\n          }\r\n          let obj;\r\n          obj = {\r\n            id: this.props.historyEntryCounter,\r\n            originalFragment: this.props.history[parseInt(properties.item)].originalFragment,\r\n            nextFragment: this.props.history[parseInt(properties.item)].nextFragment,\r\n            vis: this.props.history[parseInt(properties.item)].vis,\r\n            criteria: this.props.history[parseInt(properties.item)].criteria,\r\n            visualization: globalViewToRender,\r\n            recommendationArray: this.props.history[parseInt(properties.item)].recommendationArray,\r\n            recommendationIndex: this.props.history[parseInt(properties.item)].recommendationIndex,\r\n            start: new Date().getTime(),\r\n            category: historyCategory,\r\n            fragmentIndex: this.props.history[parseInt(properties.item)].fragmentIndex\r\n          };\r\n          this.props.addHistoryEntry(obj);\r\n          this.props.setHistoryEntryCounter(this.props.historyEntryCounter + 1)\r\n          //HISTORY ENTRY HISTORY ENTRY HISTORY ENTRY HISTORY ENTRY\r\n          this.props.onChange();\r\n          this.props.setFragmentIndex(this.props.history[parseInt(properties.item)].fragmentIndex); //mudar a logica para isto ser o fragmento central.\r\n          // /\\ bug\r\n\r\n          //parte que foi feita para não saltar para o fragmento clicado no historico via netgraph pois era preciso ir alterar o historico no fragmentloader depois de carregar um novo recommendation index que era preciso fazer set do mesmo na ultima entrada do historico.\r\n\r\n          //if (this.props.history[parseInt(properties.item)].vis !== VIS_NETWORK_GRAPH) {\r\n          console.log(\"HistoryMenu.js: this.props.history[parseInt(properties.item)].vis !== VIS_NETWORK_GRAPH\")\r\n          this.props.setRecommendationArray(this.props.history[parseInt(properties.item)].recommendationArray);\r\n          this.props.setRecommendationIndex(this.props.history[parseInt(properties.item)].recommendationIndex);\r\n          //} else {\r\n          //  console.log(\"HistoryMenu.js: this.props.setSemanticCriteriaDataLoaded(false);\")\r\n          //  this.props.setSemanticCriteriaDataLoaded(false);\r\n          //}\r\n          this.props.setVisualizationTechnique(this.props.history[parseInt(properties.item)].vis);\r\n          this.props.setSemanticCriteria(this.props.history[parseInt(properties.item)].criteria)\r\n\r\n          //  }\r\n\r\n        }\r\n\r\n      }\r\n    }\r\n  }\r\n\r\n  _handleKeyDownActivity = (event) => {\r\n\r\n    var I_KEY = 73;\r\n\r\n    switch (event.keyCode) {\r\n      case I_KEY:\r\n        this.toggleInstructions();\r\n        break;\r\n      default:\r\n        break;\r\n\r\n    }\r\n\r\n  }\r\n\r\n  componentDidMount() {\r\n    document.addEventListener(\"keydown\", this._handleKeyDownActivity);\r\n\r\n    var historyItems = [];\r\n\r\n    var i;\r\n    for (i = 0; i < this.props.historyEntryCounter; i++) {\r\n      var historyPic = document.createElement('div');\r\n      historyPic.appendChild(document.createTextNode(this.props.history[i].nextFragment.meta.title));\r\n      historyPic.appendChild(document.createElement('br'));\r\n      var img = document.createElement('img');\r\n\r\n      img.style.width = '48px';\r\n      img.style.height = '48px';\r\n\r\n      if (this.props.history[i].vis == VIS_NETWORK_GRAPH) {\r\n        img.src = picNetGraph;\r\n      } else if (this.props.history[i].vis == VIS_SQUARE_GRID) {\r\n        img.src = picSquareGrid;\r\n      } else if (this.props.history[i].vis == VIS_TIMELINE) {\r\n        img.src = picTimeline;\r\n      }\r\n      historyPic.appendChild(img);\r\n      let item = {\r\n        id: this.props.history[i].id,\r\n        content: historyPic,\r\n        start: this.props.history[i].start\r\n      };\r\n      console.log(\"item id: \" + item.id);\r\n      historyItems.push(item);\r\n    }\r\n\r\n    var container = document.getElementById('visualization');\r\n    console.log(\"history counter: \" + this.props.historyEntryCounter);\r\n    console.log(\"historico: \" + this.props.history);\r\n    console.log(\"history items: \" + historyItems);\r\n    this.timeline = new Timeline(container, historyItems, this.options);\r\n    this.timeline.on('click', this.handleClick);\r\n\r\n    this.timeline.on(\"itemover\", function(params) {\r\n      document.getElementById('visualization').style.cursor = 'pointer'\r\n    });\r\n    this.timeline.on(\"itemout\", function(params) {\r\n      document.getElementById('visualization').style.cursor = 'default'\r\n    });\r\n\r\n    //this.printMessage();\r\n  }\r\n\r\n  render() {\r\n\r\n    let instructions = (<div className=\"instructionsButton\">\r\n      <Button bsStyle=\"default\" bsSize=\"small\" onClick={this.toggleInstructions}>\r\n        Mostrar instruções [i]\r\n      </Button>\r\n    </div>)\r\n\r\n    if (this.state.showInstructions) {\r\n      instructions = (<div>\r\n        <div className=\"readingMoreInfo\">\r\n\r\n          <p align=\"center\">\r\n            Nesta cronologia, poderá consultar o seu caminho na leitura da edição do{\" \"}\r\n            <i>Livro do Desassossego</i>{\" \"}\r\n            que selecionou.\r\n          </p>\r\n\r\n          <ul>\r\n            <li>\r\n              Cada retângulo representa um fragmento com o título apresentado.\r\n            </li>\r\n            <li>\r\n              Pode arrastar a cronologia com o botão esquerdo do rato e controlar o zoom da cronologia com a roda do rato.\r\n            </li>\r\n            <li>\r\n              Clique num dos retângulos dos fragmentos para retornar ao mesmo, bem como à atividade pela qual chegou a esse fragmento.\r\n            </li>\r\n          </ul>\r\n\r\n        </div>\r\n\r\n        <div className=\"instructionsButton\">\r\n          <Button bsStyle=\"default\" bsSize=\"small\" onClick={this.toggleInstructions}>\r\n            Esconder instruções [i]\r\n          </Button>\r\n        </div>\r\n\r\n        <br/>\r\n\r\n      </div>)\r\n    }\r\n\r\n    let jsxToRender;\r\n\r\n    if (this.props.allFragmentsLoaded) {\r\n      jsxToRender = <div id=\"visualization\"></div>\r\n    }\r\n\r\n    return (<div className=\"historyMenu\">\r\n      {instructions}\r\n      {this.state.loadingGif}\r\n      {jsxToRender}\r\n    </div>);\r\n  }\r\n}\r\n\r\nconst HistoryMenu = connect(mapStateToProps, mapDispatchToProps)(ConnectedHistoryMenu);\r\n\r\nexport default HistoryMenu;\r\n","import {Network, DataSet} from \"vis\";\nimport React, {Component, createRef} from \"react\";\nimport {connect} from \"react-redux\";\nimport \"./SquareGrid.css\";\nimport {\n  setFragmentIndex,\n  setCurrentVisualization,\n  addHistoryEntry,\n  setOutOfLandingPage,\n  setHistoryEntryCounter,\n  setRecommendationArray,\n  setRecommendationIndex,\n  setVisualizationTechnique,\n  setSemanticCriteria,\n  setCurrentCategory\n} from \"../actions/index\";\nimport {VIS_SQUARE_GRID, VIS_NETWORK_GRAPH, CRIT_EDITION_ORDER, CRIT_CHRONOLOGICAL_ORDER, CRIT_CATEGORY} from \"../constants/history-transitions\";\nimport HashMap from \"hashmap\";\n\nconst mapStateToProps = state => {\n  return {\n    fragments: state.fragments,\n    fragmentIndex: state.fragmentIndex,\n    currentVisualization: state.currentVisualization,\n    history: state.history,\n    historyEntryCounter: state.historyEntryCounter,\n    recommendationArray: state.recommendationArray,\n    recommendationIndex: state.recommendationIndex,\n    currentFragmentMode: state.currentFragmentMode,\n    outOfLandingPage: state.outOfLandingPage,\n    visualizationTechnique: state.visualizationTechnique,\n    semanticCriteria: state.semanticCriteria,\n    allFragmentsLoaded: state.allFragmentsLoaded,\n    potentialVisualizationTechnique: state.potentialVisualizationTechnique,\n    potentialSemanticCriteria: state.potentialSemanticCriteria,\n    fragmentsSortedByDate: state.fragmentsSortedByDate,\n    currentCategory: state.currentCategory,\n    potentialCategory: state.potentialCategory\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    setFragmentIndex: fragmentIndex => dispatch(setFragmentIndex(fragmentIndex)),\n    setCurrentVisualization: currentVisualization => dispatch(setCurrentVisualization(currentVisualization)),\n    addHistoryEntry: historyEntry => dispatch(addHistoryEntry(historyEntry)),\n    setOutOfLandingPage: outOfLandingPage => dispatch(setOutOfLandingPage(outOfLandingPage)),\n    setHistoryEntryCounter: historyEntryCounter => dispatch(setHistoryEntryCounter(historyEntryCounter)),\n    setRecommendationArray: recommendationArray => dispatch(setRecommendationArray(recommendationArray)),\n    setRecommendationIndex: recommendationIndex => dispatch(setRecommendationIndex(recommendationIndex)),\n    setVisualizationTechnique: visualizationTechnique => dispatch(setVisualizationTechnique(visualizationTechnique)),\n    setSemanticCriteria: semanticCriteria => dispatch(setSemanticCriteria(semanticCriteria)),\n    setCurrentCategory: currentCategory => dispatch(setCurrentCategory(currentCategory))\n  };\n};\n\nclass ConnectedNavigationButton extends Component {\n  constructor(props) {\n    super(props);\n    this.network = {};\n\n    this.nodes = [];\n    this.edges = [];\n    this.options = [];\n    this.myId = 'previousButton';\n    //this.xOffset = -300;\n    //⟶ ⮕ 🡆 🠚 🠞 🠒 🠪 🠮 🠲 🠊 🢂\n    //http://xahlee.info/comp/unicode_arrows.html\n    this.label = \"🢀\";\n    this.shape = \"box\";\n    if (this.props.nextButton) {\n      this.myId = 'nextButton'\n      //this.xOffset *= -1;\n      this.label = \"🢂\";\n    }\n\n    this.state = {\n      fragmentChangeUpdate: false\n    };\n\n    let obj;\n\n    //blue\n    this.nodeBorderColor = \"#2B7CE9\";\n    this.nodeBackgroundColor = \"#D2E5FF\";\n\n    let originalFragmentSize = 50;\n\n    //       grey if date is a criteria and fragment has no date\n    //\n    //       let dateExistsAndChronologicalCriteria = false;\n    //       grey\n    //       if (this.props.currentFragmentMode && this.props.potentialSemanticCriteria == CRIT_CHRONOLOGICAL_ORDER && this.myFragmentArray[i].meta.date == null) {\n    //         dateExistsAndChronologicalCriteria = true;\n    //         nodeBorderColor = \"#101010\";\n    //         nodeBackgroundColor = \"#505050\";\n    //       } else if ((!(this.props.currentFragmentMode) && this.props.semanticCriteria == CRIT_CHRONOLOGICAL_ORDER && this.myFragmentArray[i].meta.date == null)) {\n    //         dateExistsAndChronologicalCriteria = true;\n    //         nodeBorderColor = \"#101010\";\n    //         nodeBackgroundColor = \"#505050\";\n    //       }\n    //\n    // se hover no anterior mostrar o x, se nao houver anterior meter a cinzento. igual para o proximo.\n    //       if (this.props.currentFragmentMode && this.props.potentialSemanticCriteria == CRIT_CHRONOLOGICAL_ORDER && this.myFragmentArray[i].meta.date !== null) {\n    //         myTitle = this.myFragmentArray[i].meta.title + \" | Data: \" + this.myFragmentArray[i].meta.date;\n    //       } else if (this.props.currentFragmentMode && this.props.potentialSemanticCriteria == CRIT_CHRONOLOGICAL_ORDER && !this.myFragmentArray[i].meta.date) {\n    //         myTitle = this.myFragmentArray[i].meta.title + \" | Data: Sem data\";\n    //       }\n    //\n    //       if (this.props.currentFragmentMode && this.props.potentialSemanticCriteria == CRIT_CATEGORY) {\n    //         myTitle = this.myFragmentArray[i].meta.title + \" | Categorias: \" + this.myFragmentArray[i].meta.categories;\n    //       } else if (!(this.props.currentFragmentMode) && this.props.semanticCriteria == CRIT_CATEGORY) {\n    //         myTitle = this.myFragmentArray[i].meta.title + \" | Categorias: \" + this.myFragmentArray[i].meta.categories;\n    //       }\n\n    if (this.props.nextButton) {\n\n      if (this.props.recommendationIndex === this.props.recommendationArray.length - 1) {\n\n        this.nodeBorderColor = \"#101010\";\n        this.nodeBackgroundColor = \"#505050\";\n\n      }\n\n    } else {\n\n      if (this.props.recommendationIndex === 0) {\n\n        this.nodeBorderColor = \"#101010\";\n        this.nodeBackgroundColor = \"#505050\";\n\n      }\n\n    }\n\n    this.nodes = new DataSet([\n      {\n        id: this.myId,\n        font: {\n          size: 150,\n          color: this.nodeBorderColor\n        },\n        label: this.label,\n        shape: this.shape,\n        size: originalFragmentSize,\n        fixed: true,\n        borderWidthSelected: 1,\n        x: 0,\n        y: 0,\n        color: {\n          border: this.nodeBorderColor,\n          background: this.nodeBackgroundColor,\n          highlight: {\n            border: '#FFD700',\n            background: '#DAA520'\n          }\n          // hover: {\n          //   border: \"#2B7CE9\",\n          //   background: \"#D2E5FF\"\n          // }\n        }\n      }\n      // , {\n      //   id: \"dummy\",\n      //   label: \"\",\n      //   shape: \"square\",\n      //   size: 1,\n      //   fixed: true,\n      //   borderWidthSelected: 1,\n      //   chosen: false,\n      //   x: this.xOffset,\n      //   y: 0,\n      //   color: {\n      //     border: '#404040',\n      //     background: '#404040',\n      //      highlight: {\n      //        border: '#FFD700',\n      //        background: '#DAA520'\n      //      },\n      //      hover: {\n      //        border: \"#2B7CE9\",\n      //        background: \"#D2E5FF\"\n      //      }\n      //   }\n      // }\n    ]);\n\n    // this.edges = new DataSet([\n    //   {\n    //     from: this.myId,\n    //     to: \"dummy\",\n    //     arrows: {\n    //       to: true,\n    //       scaleFactor: 80\n    //     },\n    //     length: 1,\n    //     hoverWidth: 2,\n    //     width: 10\n    //   }\n    // ]);\n\n    this.options = {\n      //autoResize: true,\n\n      layout: {\n        hierarchical: {\n          enabled: false\n        },\n        randomSeed: 1\n      },\n      physics: {\n        enabled: false\n      },\n      interaction: {\n        dragNodes: false,\n        dragView: false,\n        zoomView: false,\n        hover: false,\n        multiselect: true,\n        selectable: true,\n        selectConnectedEdges: false\n      }\n    };\n\n    this.handleSelectNode = this.handleSelectNode.bind(this);\n\n  }\n\n  handleSelectNode(event) {\n    const nodeId = event.nodes[0];\n    console.log(new Date().getTime() + \" XXXXXXXXXXXXXXXXXXXXXXXXXXXXXX \" + nodeId)\n\n    var clickedNode = this.nodes.get(nodeId);\n\n    if (this.props.nextButton) {\n\n      if (this.props.recommendationIndex === (this.props.recommendationArray.length - 2)) {\n\n        clickedNode.color = {\n          border: '#101010',\n          background: '#505050'\n        }\n        clickedNode.font = {\n          color: '#101010'\n        }\n        this.nodes.update(clickedNode);\n        //HISTORY ENTRY HISTORY ENTRY HISTORY ENTRY HISTORY ENTRY\n        let obj;\n        let historyVis = this.props.visualizationTechnique;\n        let historyCriteria = this.props.semanticCriteria;\n        obj = {\n          id: this.props.historyEntryCounter,\n          originalFragment: this.props.recommendationArray[this.props.recommendationIndex],\n          nextFragment: this.props.recommendationArray[this.props.recommendationIndex + 1],\n          vis: historyVis,\n          criteria: historyCriteria,\n          visualization: this.props.currentVisualization,\n          recommendationArray: this.props.recommendationArray,\n          recommendationIndex: this.props.recommendationIndex + 1,\n          fragmentIndex: this.props.fragmentIndex,\n          start: new Date().getTime(),\n          category: this.props.currentCategory\n        };\n\n        this.props.addHistoryEntry(obj);\n        this.props.setHistoryEntryCounter(this.props.historyEntryCounter + 1)\n        //HISTORY ENTRY HISTORY ENTRY HISTORY ENTRY HISTORY ENTRY\n        this.props.setRecommendationIndex(this.props.recommendationIndex + 1)\n      } else if (this.props.recommendationIndex < this.props.recommendationArray.length - 1) {\n\n        clickedNode.color = {\n          border: \"#2B7CE9\",\n          background: \"#D2E5FF\"\n        }\n        clickedNode.font = {\n          color: '#2B7CE9'\n        }\n        this.nodes.update(clickedNode);\n        //HISTORY ENTRY HISTORY ENTRY HISTORY ENTRY HISTORY ENTRY\n        let obj;\n        let historyVis = this.props.visualizationTechnique;\n        let historyCriteria = this.props.semanticCriteria;\n        obj = {\n          id: this.props.historyEntryCounter,\n          originalFragment: this.props.recommendationArray[this.props.recommendationIndex],\n          nextFragment: this.props.recommendationArray[this.props.recommendationIndex + 1],\n          vis: historyVis,\n          criteria: historyCriteria,\n          visualization: this.props.currentVisualization,\n          recommendationArray: this.props.recommendationArray,\n          recommendationIndex: this.props.recommendationIndex + 1,\n          fragmentIndex: this.props.fragmentIndex,\n          start: new Date().getTime(),\n          category: this.props.currentCategory\n        };\n\n        this.props.addHistoryEntry(obj);\n        this.props.setHistoryEntryCounter(this.props.historyEntryCounter + 1)\n        //HISTORY ENTRY HISTORY ENTRY HISTORY ENTRY HISTORY ENTRY\n        this.props.setRecommendationIndex(this.props.recommendationIndex + 1)\n      }\n\n    } else {\n\n      if (this.props.recommendationIndex === 1) {\n        clickedNode.color = {\n          border: '#101010',\n          background: '#505050'\n        }\n        clickedNode.font = {\n          color: '#101010'\n        }\n        this.nodes.update(clickedNode);\n\n        //HISTORY ENTRY HISTORY ENTRY HISTORY ENTRY HISTORY ENTRY\n        let obj;\n        let historyVis = this.props.visualizationTechnique;\n        let historyCriteria = this.props.semanticCriteria;\n        obj = {\n          id: this.props.historyEntryCounter,\n          originalFragment: this.props.recommendationArray[this.props.recommendationIndex],\n          nextFragment: this.props.recommendationArray[this.props.recommendationIndex - 1],\n          vis: historyVis,\n          criteria: historyCriteria,\n          visualization: this.props.currentVisualization,\n          recommendationArray: this.props.recommendationArray,\n          recommendationIndex: this.props.recommendationIndex - 1,\n          fragmentIndex: this.props.fragmentIndex,\n          start: new Date().getTime(),\n          category: this.props.currentCategory\n        };\n\n        this.props.addHistoryEntry(obj);\n        this.props.setHistoryEntryCounter(this.props.historyEntryCounter + 1)\n        //HISTORY ENTRY HISTORY ENTRY HISTORY ENTRY HISTORY ENTRY\n        this.props.setRecommendationIndex(this.props.recommendationIndex - 1)\n\n      } else if (this.props.recommendationIndex > 0) {\n        clickedNode.color = {\n          border: \"#2B7CE9\",\n          background: \"#D2E5FF\"\n        }\n        clickedNode.font = {\n          color: '#2B7CE9'\n        }\n        this.nodes.update(clickedNode);\n        //HISTORY ENTRY HISTORY ENTRY HISTORY ENTRY HISTORY ENTRY\n        let obj;\n        let historyVis = this.props.visualizationTechnique;\n        let historyCriteria = this.props.semanticCriteria;\n        obj = {\n          id: this.props.historyEntryCounter,\n          originalFragment: this.props.recommendationArray[this.props.recommendationIndex],\n          nextFragment: this.props.recommendationArray[this.props.recommendationIndex - 1],\n          vis: historyVis,\n          criteria: historyCriteria,\n          visualization: this.props.currentVisualization,\n          recommendationArray: this.props.recommendationArray,\n          recommendationIndex: this.props.recommendationIndex - 1,\n          fragmentIndex: this.props.fragmentIndex,\n          start: new Date().getTime(),\n          category: this.props.currentCategory\n        };\n\n        this.props.addHistoryEntry(obj);\n        this.props.setHistoryEntryCounter(this.props.historyEntryCounter + 1)\n        //HISTORY ENTRY HISTORY ENTRY HISTORY ENTRY HISTORY ENTRY\n        this.props.setRecommendationIndex(this.props.recommendationIndex - 1)\n\n      }\n\n    }\n\n    this.setState({\n      fragmentChangeUpdate: !this.state.fragmentChangeUpdate\n    });\n    //\n    this.network.redraw();\n\n    //must unselect or else, handleSelectNode won't fire on an already selected node.\n    this.network.unselectAll();\n    console.log(\"click\")\n\n  }\n\n  componentDidMount() {\n\n    console.log(\"container1: \" + this.myId)\n\n    if (this.props.allFragmentsLoaded) {\n      const data = {\n        nodes: this.nodes,\n        edges: this.edges\n      };\n\n      var container = document.getElementById(this.myId);\n      this.network = new Network(container, data, this.options);\n      //container.style.height = 750 + 'px';\n      this.network.redraw();\n      //this.network.fit();\n      this.network.on(\"selectNode\", this.handleSelectNode);\n\n      console.log(\"container2: \" + this.myId)\n\n    }\n  }\n\n  componentDidUpdate() {\n\n    console.log(new Date().getTime() + \" DID UPDATE: \" + this.myId)\n\n    var clickedNode = this.nodes.get(this.myId);\n    if (this.props.visualizationTechnique == VIS_NETWORK_GRAPH) {\n      clickedNode.shape = \"circle\"\n    } else if (this.props.visualizationTechnique == VIS_SQUARE_GRID) {\n      clickedNode.shape = \"box\"\n    }\n\n    this.nodes.update(clickedNode);\n\n    if (this.props.nextButton) {\n\n      if (this.props.recommendationIndex === (this.props.recommendationArray.length - 1)) {\n\n        clickedNode.color = {\n          border: '#101010',\n          background: '#505050'\n        }\n\n        clickedNode.font = {\n          color: '#101010'\n        }\n\n        this.nodes.update(clickedNode);\n\n      } else if (this.props.recommendationIndex < this.props.recommendationArray.length - 1) {\n\n        clickedNode.color = {\n          border: \"#2B7CE9\",\n          background: \"#D2E5FF\"\n        }\n        clickedNode.font = {\n          color: '#2B7CE9'\n        }\n\n        this.nodes.update(clickedNode);\n\n      }\n\n    } else {\n\n      if (this.props.recommendationIndex === 0) {\n        clickedNode.color = {\n          border: '#101010',\n          background: '#505050'\n        }\n        clickedNode.font = {\n          color: '#101010'\n        }\n        this.nodes.update(clickedNode);\n\n      } else if (this.props.recommendationIndex > 0) {\n        clickedNode.color = {\n          border: \"#2B7CE9\",\n          background: \"#D2E5FF\"\n        }\n        clickedNode.font = {\n          color: '#2B7CE9'\n        }\n        this.nodes.update(clickedNode);\n\n      }\n\n    }\n\n    this.network.redraw();\n  }\n\n  render() {\n    console.log(\"rendering \" + this.myId)\n    return (<div id={this.myId}></div>);\n  }\n}\n\nconst NavigationButton = connect(mapStateToProps, mapDispatchToProps)(ConnectedNavigationButton);\n\nexport default NavigationButton;\n","import React from \"react\";\r\nimport {RepositoryService} from \"../services/RepositoryService\";\r\nimport Fragment from \"./Fragment\";\r\nimport {\r\n  addFragment,\r\n  setAllFragmentsLoaded,\r\n  setfragmentsHashMap,\r\n  setRecommendationArray,\r\n  setRecommendationLoaded,\r\n  setSemanticCriteriaData,\r\n  setPotentialSemanticCriteriaData,\r\n  setFragmentsSortedByDate,\r\n  setCategories,\r\n  setHistory,\r\n  setDatesExist\r\n} from \"../actions/index\";\r\nimport {connect} from \"react-redux\";\r\nimport HashMap from \"hashmap\";\r\nimport {\r\n  VIS_SQUARE_GRID,\r\n  VIS_NETWORK_GRAPH,\r\n  VIS_WORD_CLOUD,\r\n  BY_SQUAREGRID_EDITIONORDER,\r\n  CRIT_EDITION_ORDER,\r\n  CRIT_CHRONOLOGICAL_ORDER,\r\n  CRIT_TEXT_SIMILARITY,\r\n  CRIT_HETERONYM,\r\n  CRIT_TAXONOMY,\r\n  CRIT_WORD_RELEVANCE\r\n} from \"../constants/history-transitions\";\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    fragments: state.fragments,\r\n    allFragmentsLoaded: state.allFragmentsLoaded,\r\n    fragmentsHashMap: state.fragmentsHashMap,\r\n    fragmentIndex: state.fragmentIndex,\r\n    currentFragmentMode: state.currentFragmentMode,\r\n    outOfLandingPage: state.outOfLandingPage,\r\n    recommendationArray: state.recommendationArray,\r\n    recommendationLoaded: state.recommendationLoaded,\r\n    semanticCriteriaDataLoaded: state.semanticCriteriaDataLoaded,\r\n    visualizationTechnique: state.visualizationTechnique,\r\n    semanticCriteria: state.semanticCriteria,\r\n    potentialVisualizationTechnique: state.potentialVisualizationTechnique,\r\n    potentialSemanticCriteria: state.potentialSemanticCriteria,\r\n    history: state.history,\r\n    historyEntryCounter: state.historyEntryCounter\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    addFragment: fragment => dispatch(addFragment(fragment)),\r\n    setAllFragmentsLoaded: allFragmentsLoaded => dispatch(setAllFragmentsLoaded(allFragmentsLoaded)),\r\n    setfragmentsHashMap: fragmentsHashMap => dispatch(setfragmentsHashMap(fragmentsHashMap)),\r\n    setRecommendationArray: recommendationArray => dispatch(setRecommendationArray(recommendationArray)),\r\n    setRecommendationLoaded: recommendationLoaded => dispatch(setRecommendationLoaded(recommendationLoaded)),\r\n    setSemanticCriteriaData: semanticCriteriaData => dispatch(setSemanticCriteriaData(semanticCriteriaData)),\r\n    setPotentialSemanticCriteriaData: potentialSemanticCriteriaData => dispatch(setPotentialSemanticCriteriaData(potentialSemanticCriteriaData)),\r\n    setFragmentsSortedByDate: fragmentsSortedByDate => dispatch(setFragmentsSortedByDate(fragmentsSortedByDate)),\r\n    setCategories: categories => dispatch(setCategories(categories)),\r\n    setHistory: history => dispatch(setHistory(history)),\r\n    setDatesExist: datesExist => dispatch(setDatesExist(datesExist))\r\n  };\r\n};\r\n\r\nclass ConnectedFragmentLoader extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.map = new HashMap();\r\n\r\n    this.sortedFragmentsByDate = [];\r\n\r\n    this.state = {\r\n      toggleFragmentUpdate: false\r\n    };\r\n\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n\r\n    if (!(this.props.recommendationLoaded)) {\r\n      console.log(\"Loading recommendation array\");\r\n\r\n      if (this.props.visualizationTechnique == VIS_NETWORK_GRAPH) {\r\n\r\n        let pHeteronymWeight = \"0.0\";\r\n        let pTextWeight = \"0.0\";\r\n        let pDateWeight = \"0.0\";\r\n        let ptaxonomyWeight = \"0.0\";\r\n\r\n        if (this.props.semanticCriteria == CRIT_HETERONYM) {\r\n          pHeteronymWeight = \"1.0\";\r\n        } else if (this.props.semanticCriteria == CRIT_TEXT_SIMILARITY) {\r\n          pTextWeight = \"1.0\";\r\n        } else if (this.props.semanticCriteria == CRIT_CHRONOLOGICAL_ORDER) {\r\n          pDateWeight = \"1.0\";\r\n        } else if (this.props.semanticCriteria == CRIT_TAXONOMY) {\r\n          ptaxonomyWeight = \"1.0\";\r\n        }\r\n\r\n        const service = new RepositoryService(this.props.currentEdition.acronym);\r\n        let idsDistanceArray = [];\r\n        let myNewRecommendationArray = [];\r\n        service.getIntersByDistance(this.props.fragments[this.props.fragmentIndex].interId, pHeteronymWeight, pTextWeight, pDateWeight, ptaxonomyWeight).then(response => {\r\n\r\n          let receivedArray = response.data;\r\n\r\n          receivedArray.map(f => {\r\n            f.distance = (1 - f.distance)\r\n          });\r\n\r\n          idsDistanceArray = receivedArray;\r\n\r\n          this.props.setSemanticCriteriaData(idsDistanceArray);\r\n\r\n          var i;\r\n          for (i = 0; i < idsDistanceArray.length; i++) {\r\n            let frag = this.props.fragmentsHashMap.get(idsDistanceArray[i].interId);\r\n            myNewRecommendationArray.push(frag);\r\n          }\r\n          this.props.setRecommendationArray(myNewRecommendationArray);\r\n          console.log(\"FragmentLoader: new recommendation array calculated. Adding to history\")\r\n\r\n          let myTempObj = this.props.history[this.props.historyEntryCounter - 1];\r\n          let myTempHist = this.props.history;\r\n          //my temp set aqui: pegar no historico, mudar a ultima casa, fazer set ao historico completo com a casa actualizada com o novo recommendationArray.\r\n\r\n          myTempObj.recommendationArray = myNewRecommendationArray;\r\n          myTempObj.recommendationIndex = 0;\r\n\r\n          myTempHist[this.props.historyEntryCounter - 1] = myTempObj;\r\n\r\n          this.props.setHistory(myTempHist);\r\n\r\n          // console.log(\"VVVVVVVVVVVVVVVVVVVVVVVVVVVVVV \" + this.props.history[this.props.historyEntryCounter - 1].recommendationIndex)\r\n          // console.log(\"VVVVVVVVVVVVVVVVVVVVVVVVVVVVVV \" + this.props.history[this.props.historyEntryCounter - 1].recommendationArray)\r\n\r\n          this.props.setRecommendationLoaded(true);\r\n\r\n          this.setState({\r\n            toggleFragmentUpdate: !this.state.toggleFragmentUpdate\r\n          });\r\n\r\n        });\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (!this.props.allFragmentsLoaded) {\r\n      const service = new RepositoryService(this.props.currentEdition.acronym);\r\n      this.props.setAllFragmentsLoaded(false);\r\n      this.props.setFragmentsSortedByDate([]);\r\n      this.props.setDatesExist(false);\r\n      console.log(\"FragmentLoader.js: componentDidMount -> requesting fragments for edition acronym: \" + this.props.currentEdition.acronym + \" with edition title: \" + this.props.currentEdition.title)\r\n      service.getFragments().then(response => {\r\n        console.log(\"FragmentLoader.js: receiving fragments\");\r\n        console.log(response);\r\n\r\n        //response.data.fragments.map(f => f.text = f.text.concat(\" base Base toda Toda\"));\r\n\r\n        this.props.addFragment(response.data.fragments);\r\n        this.props.fragments.map(f => this.map.set(f.interId, f));\r\n        this.props.setfragmentsHashMap(this.map);\r\n\r\n        let unorderedFragments = [];\r\n        let noDateFragments = [];\r\n        let myFragmentsSortedByDate = [];\r\n\r\n        this.props.fragments.map(f => {\r\n\r\n          if (f.meta.date !== null) {\r\n            return (unorderedFragments.push(f));\r\n          } else {\r\n            return (noDateFragments.push(f));\r\n          }\r\n        });\r\n\r\n        if (unorderedFragments.length > 0) {\r\n\r\n          this.props.setDatesExist(true);\r\n\r\n          unorderedFragments.sort((frag1, frag2) => {\r\n            let date1 = frag1.meta.date.split('-');\r\n            let date2 = frag2.meta.date.split('-');\r\n            let year1 = parseInt(date1[0]);\r\n            let year2 = parseInt(date2[0]);\r\n            let month1 = parseInt(date1[1]);\r\n            let month2 = parseInt(date2[1]);\r\n            let day1 = parseInt(date1[2]);\r\n            let day2 = parseInt(date2[2]);\r\n            if (year1 !== year2) {\r\n              return year1 - year2;\r\n            } else if (month1 !== month2) {\r\n              return month1 - month2;\r\n            } else {\r\n              return day1 - day2;\r\n            }\r\n          });\r\n\r\n          // console.log(unorderedFragments.length);\r\n\r\n          myFragmentsSortedByDate = unorderedFragments.concat(noDateFragments);\r\n\r\n          // console.log(myFragmentsSortedByDate.length);\r\n\r\n          // myFragmentsSortedByDate.map(f => console.log(f.meta.date));\r\n\r\n          this.props.setFragmentsSortedByDate(myFragmentsSortedByDate);\r\n\r\n        }\r\n\r\n        if (response.data.categories) {\r\n\r\n          let myCategories = response.data.categories;\r\n          let tempCounter = 0;\r\n\r\n          let i;\r\n          let j;\r\n          for (i = 0; i < myCategories.length; i++) {\r\n\r\n            for (j = 0; j < response.data.fragments.length; j++) {\r\n\r\n              if (response.data.fragments[j].meta.categories.includes(myCategories[i])) {\r\n\r\n                tempCounter++;\r\n              }\r\n            }\r\n\r\n            let obj = {\r\n              category: myCategories[i],\r\n              categoryCount: tempCounter\r\n            };\r\n            // console.log(\"counting category: number \" + 1 + \" out of \" + myCategories.length + \" (\" + myCategories[i] + \")\");\r\n            myCategories[i] = obj;\r\n            tempCounter = 0;\r\n\r\n          }\r\n\r\n          this.props.setCategories(myCategories);\r\n        }\r\n\r\n        this.props.setAllFragmentsLoaded(true);\r\n\r\n        this.setState({\r\n          toggleFragmentUpdate: !this.state.toggleFragmentUpdate\r\n        });\r\n\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    // const service = new RepositoryService(\"bla\");\r\n    // service.getPublicEditions().then(response => {\r\n    //   console.log(\"ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZ |\" + response.data.map(e => console.log(\"|Title: \" + e.title + \" |Acronym:\" + e.acronym + \" |hasCategories: \" + e.taxonomy.hasCategories)));\r\n    // });\r\n\r\n    return <Fragment currentEdition={this.props.currentEdition} toggleTextSkimming={this.props.toggleTextSkimming}/>;\r\n  }\r\n\r\n}\r\n\r\nconst FragmentLoader = connect(mapStateToProps, mapDispatchToProps)(ConnectedFragmentLoader);\r\n\r\nexport default FragmentLoader;\r\n","import React from \"react\";\r\nimport {RepositoryService} from \"../services/RepositoryService\";\r\nimport {\r\n  addFragment,\r\n  setAllFragmentsLoaded,\r\n  setfragmentsHashMap,\r\n  setRecommendationArray,\r\n  setRecommendationLoaded,\r\n  setSemanticCriteriaData,\r\n  setPotentialSemanticCriteriaData,\r\n  setFragmentsSortedByDate,\r\n  setCategories\r\n} from \"../actions/index\";\r\nimport {connect} from \"react-redux\";\r\nimport HashMap from \"hashmap\";\r\nimport {\r\n  VIS_SQUARE_GRID,\r\n  VIS_NETWORK_GRAPH,\r\n  VIS_WORD_CLOUD,\r\n  BY_SQUAREGRID_EDITIONORDER,\r\n  CRIT_EDITION_ORDER,\r\n  CRIT_CHRONOLOGICAL_ORDER,\r\n  CRIT_TEXT_SIMILARITY,\r\n  CRIT_HETERONYM,\r\n  CRIT_TAXONOMY,\r\n  CRIT_WORD_RELEVANCE\r\n} from \"../constants/history-transitions\";\r\nimport {Button, ButtonToolbar, Modal} from \"react-bootstrap\";\r\nimport ReactHtmlParser, {processNodes, convertNodeToElement, htmlparser2} from 'react-html-parser';\r\nimport loadingGif from '../assets/loading.gif'\r\nimport ldodIcon from '../assets/ldod-icon.png'\r\nimport loadingFragmentsGif from '../assets/fragmentload.gif'\r\nimport \"./PublicEditionContainerTable.css\";\r\nimport ReactTable from 'react-table';\r\nimport {ReactTableDefaults} from \"react-table\";\r\nimport 'rc-slider/assets/index.css';\r\nimport 'rc-tooltip/assets/bootstrap.css';\r\nimport ReactPlayer from 'react-player'\r\nimport ldodVideo from '../assets/video-ldod-visual-1.mp4'\r\nimport ldodThumbnail from '../assets/video-thumbnail.png'\r\n\r\nimport Slider from 'react-rangeslider'\r\n// import 'react-rangeslider/lib/index.css'\r\n\r\nconst styles = {\r\n  transition: 'all 0.2s ease-out'\r\n};\r\n\r\nfunction replaceSpecialChars(word) {\r\n  let tempWord = word.toString()\r\n  if (tempWord !== null) {\r\n\r\n    tempWord = tempWord.replace(/ç/gi, 'c')\r\n\r\n    tempWord = tempWord.replace(/á/gi, 'a')\r\n    tempWord = tempWord.replace(/à/gi, 'a')\r\n    tempWord = tempWord.replace(/ã/gi, 'a')\r\n    tempWord = tempWord.replace(/â/gi, 'a')\r\n\r\n    tempWord = tempWord.replace(/é/gi, 'e')\r\n    tempWord = tempWord.replace(/è/gi, 'e')\r\n    tempWord = tempWord.replace(/ê/gi, 'e')\r\n\r\n    tempWord = tempWord.replace(/í/gi, 'i')\r\n    tempWord = tempWord.replace(/ì/gi, 'i')\r\n    tempWord = tempWord.replace(/î/gi, 'i')\r\n\r\n    tempWord = tempWord.replace(/ò/gi, 'o')\r\n    tempWord = tempWord.replace(/ó/gi, 'o')\r\n    tempWord = tempWord.replace(/õ/gi, 'o')\r\n    tempWord = tempWord.replace(/ô/gi, 'o')\r\n\r\n    tempWord = tempWord.replace(/ù/gi, 'u')\r\n    tempWord = tempWord.replace(/ú/gi, 'u')\r\n    tempWord = tempWord.replace(/û/gi, 'u')\r\n\r\n    console.log(\"replaceSpecialChars \" + tempWord)\r\n  }\r\n\r\n  return tempWord;\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    fragments: state.fragments,\r\n    allFragmentsLoaded: state.allFragmentsLoaded,\r\n    fragmentsHashMap: state.fragmentsHashMap,\r\n    fragmentIndex: state.fragmentIndex,\r\n    currentFragmentMode: state.currentFragmentMode,\r\n    outOfLandingPage: state.outOfLandingPage,\r\n    recommendationArray: state.recommendationArray,\r\n    recommendationLoaded: state.recommendationLoaded,\r\n    semanticCriteriaDataLoaded: state.semanticCriteriaDataLoaded,\r\n    visualizationTechnique: state.visualizationTechnique,\r\n    semanticCriteria: state.semanticCriteria,\r\n    potentialVisualizationTechnique: state.potentialVisualizationTechnique,\r\n    potentialSemanticCriteria: state.potentialSemanticCriteria,\r\n    history: state.history,\r\n    historyEntryCounter: state.historyEntryCounter\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    addFragment: fragment => dispatch(addFragment(fragment)),\r\n    setAllFragmentsLoaded: allFragmentsLoaded => dispatch(setAllFragmentsLoaded(allFragmentsLoaded)),\r\n    setfragmentsHashMap: fragmentsHashMap => dispatch(setfragmentsHashMap(fragmentsHashMap)),\r\n    setRecommendationArray: recommendationArray => dispatch(setRecommendationArray(recommendationArray)),\r\n    setRecommendationLoaded: recommendationLoaded => dispatch(setRecommendationLoaded(recommendationLoaded)),\r\n    setSemanticCriteriaData: semanticCriteriaData => dispatch(setSemanticCriteriaData(semanticCriteriaData)),\r\n    setPotentialSemanticCriteriaData: potentialSemanticCriteriaData => dispatch(setPotentialSemanticCriteriaData(potentialSemanticCriteriaData)),\r\n    setFragmentsSortedByDate: fragmentsSortedByDate => dispatch(setFragmentsSortedByDate(fragmentsSortedByDate)),\r\n    setCategories: categories => dispatch(setCategories(categories))\r\n  };\r\n};\r\n\r\nclass ConnectedPublicEditionContainerTable extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      editionsReceived: false,\r\n      editions: [],\r\n      sliderNumberOfInters: 50,\r\n      showInstructions: false\r\n    };\r\n\r\n    this.expertEditionArray = [];\r\n\r\n    this.handleButtonClick = this.handleButtonClick.bind(this);\r\n\r\n    this.toggleInstructions = this.toggleInstructions.bind(this);\r\n\r\n  }\r\n\r\n  toggleInstructions() {\r\n    this.setState({\r\n      showInstructions: !this.state.showInstructions\r\n    });\r\n  }\r\n\r\n  addFilterPlaceholder = () => {\r\n    const filters = document.querySelectorAll(\"div.rt-th > input\");\r\n    for (let filter of filters) {\r\n      console.log(\"ayy: \" + filter)\r\n      filter.placeholder = \"Filtrar...\";\r\n    }\r\n  }\r\n\r\n  handleOnChange = (value) => {\r\n    this.setState({sliderNumberOfInters: value})\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n    const service = new RepositoryService();\r\n\r\n    service.getPublicEditions().then(response => {\r\n      console.log(\"ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZ |\" + response.data.map(e => console.log(\"|Title: \" + e.title + \" |Acronym:\" + e.acronym + \" |hasCategories: \" + e.taxonomy.hasCategories + \" |numberOfInters: \" + e.numberOfInters)));\r\n      this.setState({editions: response.data, editionsReceived: true});\r\n      this.addFilterPlaceholder();\r\n      this.props.onChange();\r\n\r\n    });\r\n  }\r\n\r\n  handleButtonClick(item) {\r\n    this.props.sendSelectedEdition(item);\r\n  }\r\n\r\n  render() {\r\n\r\n    let editionButtonList;\r\n\r\n    let data = [];\r\n\r\n    let availableEditionsCounter = 0;\r\n\r\n    let titleMaxChars = 0;\r\n\r\n    let numberOfIntersList = [];\r\n\r\n    let minNumberOfInters = 0;\r\n    let maxNumberOfInters = 0;\r\n\r\n    if (this.state.editionsReceived) {\r\n      console.log(\"editionsReceived\");\r\n\r\n      this.state.editions.map(item => {\r\n\r\n        if (item.type == \"perito\" && this.expertEditionArray.length < 4) {\r\n\r\n          const options = {\r\n            decodeEntities: true\r\n          }\r\n\r\n          let myTitle = ReactHtmlParser(item.title, options).toString();\r\n          let expertObj = {\r\n            title: myTitle,\r\n            acronym: item.acronym,\r\n            nrFragments: item.numberOfInters,\r\n            navButton: (<Button bsStyle=\"default\" bsSize=\"small\" onClick={() => this.handleButtonClick(item)}>\r\n              Selecionar edição\r\n            </Button>)\r\n          };\r\n          this.expertEditionArray.push(expertObj);\r\n\r\n          if (this.expertEditionArray.length == 4) {\r\n\r\n            let tempOrderedExpertEdition = [];\r\n            let orderedCounter = 0;\r\n\r\n            let e;\r\n            for (e = 0; orderedCounter !== 4; e++) {\r\n              if (this.expertEditionArray[e].acronym == \"JPC\") {\r\n                tempOrderedExpertEdition[0] = this.expertEditionArray[e];\r\n                orderedCounter++;\r\n              } else if (this.expertEditionArray[e].acronym == \"TSC\") {\r\n                tempOrderedExpertEdition[1] = this.expertEditionArray[e];\r\n                orderedCounter++;\r\n              } else if (this.expertEditionArray[e].acronym == \"RZ\") {\r\n                tempOrderedExpertEdition[2] = this.expertEditionArray[e];\r\n                orderedCounter++;\r\n              } else if (this.expertEditionArray[e].acronym == \"JP\") {\r\n                tempOrderedExpertEdition[3] = this.expertEditionArray[e];\r\n                orderedCounter++;\r\n              }\r\n            }\r\n\r\n            this.expertEditionArray.map(f => console.log(\"ordering experts this.expertEditionArray;\" + f.acronym));\r\n\r\n            tempOrderedExpertEdition.map(f => console.log(\"ordering experts this.tempOrderedExpertEdition;\" + f.acronym));\r\n\r\n            this.expertEditionArray = tempOrderedExpertEdition;\r\n\r\n          }\r\n\r\n        } else if (item.numberOfInters >= this.state.sliderNumberOfInters) {\r\n\r\n          availableEditionsCounter++;\r\n\r\n          let buttonStyle = \"default\";\r\n          let categoryMessage = \"Não\"\r\n\r\n          if (item.taxonomy.hasCategories) {\r\n            categoryMessage = \"Sim\";\r\n          }\r\n\r\n          const options = {\r\n            decodeEntities: true\r\n          }\r\n\r\n          let myTitle = ReactHtmlParser(item.title, options).toString();\r\n\r\n          console.log(\"nrº de caracteres: \" + myTitle.length + \"| título: |\" + myTitle)\r\n          if (myTitle.length > titleMaxChars) {\r\n            titleMaxChars = myTitle.length;\r\n          }\r\n\r\n          console.log(\"MytitleMaxChars: \" + titleMaxChars)\r\n\r\n          let obj = {\r\n            title: myTitle,\r\n            acronym: item.acronym,\r\n            nrFragments: item.numberOfInters,\r\n            availableCategories: categoryMessage,\r\n            navButton: (<Button block=\"block\" bsStyle={buttonStyle} bsSize=\"small\" onClick={() => this.handleButtonClick(item)}>\r\n              Selecionar edição\r\n            </Button>)\r\n          };\r\n\r\n          data.push(obj);\r\n          numberOfIntersList.push(Number(obj.nrFragments));\r\n\r\n        }\r\n\r\n      });\r\n\r\n      minNumberOfInters = Math.min.apply(Math, numberOfIntersList);\r\n      maxNumberOfInters = Math.max.apply(Math, numberOfIntersList);\r\n      console.log(\"minNumberOfInters: \" + minNumberOfInters)\r\n      console.log(\"maxNumberOfInters: \" + maxNumberOfInters)\r\n\r\n      let myMinWidth = Math.min(titleMaxChars * 4, 250)\r\n\r\n      const columns = [\r\n        {\r\n          Header: '',\r\n          accessor: 'navButton',\r\n          resizable: false,\r\n          minWidth: 70\r\n        }, {\r\n          Header: 'Título',\r\n          accessor: 'title', // String-based value accessors!\r\n          filterable: true,\r\n          filterMethod: (filter, row, column) => {\r\n            const id = filter.pivotId || filter.id\r\n            console.log(String(row[id]));\r\n\r\n            let auxWord = replaceSpecialChars(row[id]);\r\n            let auxFilter = replaceSpecialChars(filter.value);\r\n\r\n            return row[id] !== undefined\r\n              ? String(auxWord).toUpperCase().includes(auxFilter.toUpperCase())\r\n              : true\r\n          },\r\n          minWidth: myMinWidth,\r\n          resizable: false\r\n        }, {\r\n          Header: 'Acrónimo',\r\n          accessor: 'acronym',\r\n          resizable: false,\r\n          filterable: true,\r\n          filterMethod: (filter, row, column) => {\r\n            const id = filter.pivotId || filter.id\r\n            console.log(String(row[id]));\r\n            return row[id] !== undefined\r\n              ? String(row[id]).toUpperCase().includes(filter.value.toUpperCase())\r\n              : true\r\n          }\r\n        }, {\r\n          Header: 'Categorias disponíveis',\r\n          accessor: 'availableCategories',\r\n          resizable: false,\r\n          style: {\r\n            textAlign: \"center\"\r\n          },\r\n          filterable: true,\r\n          Cell: ({value}) => (\r\n            value === \"Sim\"\r\n            ? 'Sim'\r\n            : 'Não'),\r\n          filterMethod: (filter, row) => {\r\n            if (filter.value === 'all') {\r\n              return true;\r\n            }\r\n            if (filter.value === 'Sim') {\r\n              return row[filter.id] === 'Sim';\r\n            }\r\n            if (filter.value === 'Não') {\r\n              return row[filter.id] === 'Não';\r\n            }\r\n          },\r\n          Filter: ({filter, onChange}) => <select onChange={event => onChange(event.target.value)} style={{\r\n                width: '100%'\r\n              }} value={filter\r\n                ? filter.value\r\n                : 'all'}>\r\n              <option value=\"all\">Todas</option>\r\n              <option value=\"Sim\">Sim</option>\r\n              <option value=\"Não\">Não</option>\r\n            </select>\r\n        }, {\r\n          Header: 'Número de fragmentos',\r\n          accessor: 'nrFragments',\r\n          resizable: false,\r\n          style: {\r\n            textAlign: \"center\"\r\n          }\r\n        }\r\n\r\n      ]\r\n\r\n      function filterCaseInsensitive(filter, row) {\r\n        const id = filter.pivotId || filter.id;\r\n        return (\r\n          row[id] !== undefined\r\n          ? String(row[id].toLowerCase()).startsWith(filter.value.toLowerCase())\r\n          : true);\r\n      }\r\n\r\n      Object.assign(ReactTableDefaults, {\r\n        data: data,\r\n        columns: columns,\r\n        showPagination: false,\r\n        defaultPageSize: availableEditionsCounter,\r\n        pageSize: availableEditionsCounter,\r\n        filterable: false,\r\n        defaultSorted: [\r\n          {\r\n            id: \"title\",\r\n            desc: false\r\n          }\r\n        ],\r\n        defaultSortMethod: (a, b, desc) => {\r\n          // force null and undefined to the bottom\r\n          a = a === null || a === undefined\r\n            ? ''\r\n            : a\r\n          b = b === null || b === undefined\r\n            ? ''\r\n            : b\r\n          // force any string values to lowercase\r\n          a = typeof a === 'string'\r\n            ? a.toLowerCase()\r\n            : a\r\n          b = typeof b === 'string'\r\n            ? b.toLowerCase()\r\n            : b\r\n          // Return either 1 or -1 to indicate a sort priority\r\n          if (a > b) {\r\n            return 1\r\n          }\r\n          if (a < b) {\r\n            return -1\r\n          }\r\n        }\r\n\r\n        // etc...\r\n      });\r\n\r\n      editionButtonList = (<ReactTable/>)\r\n    } else {\r\n      editionButtonList = (<div><img src={loadingGif} alt=\"loading...publiceditiontable\" className=\"loadingGifCentered\"/>\r\n        <p align=\"center\">A carregar a lista de edições públicas disponíveis...</p>\r\n        <p align=\"center\">Se demorar demasiado tempo, atualize a página e volte a tentar.</p>\r\n      </div>);\r\n    }\r\n\r\n    const wrapperStyle = {\r\n      width: 400\r\n    };\r\n\r\n    let sliderNum = this.state.sliderNumberOfInters\r\n\r\n    let labelsObj = {\r\n      '0': 0\r\n    }\r\n\r\n    labelsObj[maxNumberOfInters.toString()] = maxNumberOfInters;\r\n    labelsObj[sliderNum.toString()] = sliderNum;\r\n\r\n    let instructions = (<img src={ldodThumbnail} className=\"myVideoThumbnail\" onClick={this.toggleInstructions}/>)\r\n\r\n    if (this.state.showInstructions) {\r\n\r\n      instructions = (<div>\r\n\r\n        <video className=\"myVideo\" controls=\"controls\" autoplay=\"autoplay\">\r\n          <source src={ldodVideo} type=\"video/mp4\"/>\r\n        </video>\r\n\r\n      </div>)\r\n    }\r\n\r\n    let expertEditionsCards = [];\r\n\r\n    expertEditionsCards = this.expertEditionArray.map(obj => {\r\n\r\n      return (<div className=\"card\">\r\n\r\n        <div className=\"containerActivity\">\r\n\r\n          <p align=\"center\">\r\n            <b>{obj.title}</b>\r\n          </p>\r\n\r\n          <div className=\"welcomeButtonActivity\">\r\n\r\n            {obj.navButton}\r\n\r\n          </div>\r\n\r\n        </div>\r\n\r\n      </div>)\r\n    });\r\n\r\n    return <div>\r\n\r\n      <h1 align=\"center\">\r\n        <b>LdoD</b>\r\n        <img src={ldodIcon} className=\"ldodIcon\"/>\r\n        <b>Visual</b>\r\n      </h1>\r\n\r\n      <h4 align=\"center\">\r\n        <b>Bem-vindo ao LdoD Visual! Veja o nosso vídeo de apresentação:</b>\r\n      </h4>\r\n\r\n      <br/> {instructions}\r\n\r\n      <br/>\r\n\r\n      <br/>\r\n\r\n      <Modal.Footer></Modal.Footer>\r\n\r\n      <h3 align=\"center\">\r\n        <b>Comece por escolher uma edição!</b>\r\n      </h3>\r\n\r\n      <br/>\r\n\r\n      <b>\r\n        <p align=\"center\">Recomendamos que visite este{' '}\r\n          <i>website</i>{' '}\r\n          num{' '}\r\n          <i>browser desktop</i>{' '}\r\n          como{' '}\r\n          <i>Firefox</i>{' '}\r\n          ou{' '}\r\n          <i>Google Chrome</i>,{' '}\r\n          pois não está ainda disponível uma versão{' '}\r\n          <i>mobile</i>.\r\n        </p>\r\n      </b>\r\n\r\n      <br/>\r\n\r\n      <p align=\"center\">\r\n        Alternativamente a uma edição virtual, pode escolher uma das edições dos peritos, cuja leitura e interação no LdoD Visual serão semelhantes às de uma edição virtual.\r\n      </p>\r\n      <p align=\"center\">\r\n        Relembramos que as edições dos peritos não têm categorias disponíveis (taxonomia).\r\n      </p>\r\n      <p align=\"center\">\r\n        Apenas se selecionar uma edição com categorias disponíveis, poderá realizar atividades à volta das mesmas.\r\n      </p>\r\n\r\n      <br/>\r\n\r\n      <h4 align=\"center\">\r\n        <b>Edições dos peritos:</b>\r\n      </h4>\r\n\r\n      <br/>\r\n\r\n      <div className=\"cardsContainer\">\r\n        {expertEditionsCards}\r\n      </div>\r\n\r\n      <br/>\r\n      <br/>\r\n\r\n      <h4 align=\"center\">\r\n        <b>Edições virtuais:</b>\r\n      </h4>\r\n\r\n      <br/>\r\n      <br/>\r\n\r\n      <p align=\"center\">\r\n        <i>Apresentar edições virtuais com um número mínimo de fragmentos de...</i>\r\n      </p>\r\n      <div className=\"mySlider\">\r\n\r\n        <Slider min={0} max={maxNumberOfInters} value={sliderNum} tooltip={false} orientation=\"horizontal\" onChange={this.handleOnChange} labels={labelsObj}/>\r\n\r\n      </div>\r\n\r\n      <div className=\"myTable\">\r\n        {editionButtonList}\r\n      </div>\r\n    </div>;\r\n  }\r\n}\r\nconst PublicEditionContainerTable = connect(mapStateToProps, mapDispatchToProps)(ConnectedPublicEditionContainerTable);\r\nexport default PublicEditionContainerTable;\r\n","import React, {Component} from \"react\";\r\nimport \"./App.css\";\r\nimport Fragment from \"./components/Fragment\";\r\nimport {\r\n  setFragmentIndex,\r\n  addHistoryEntry,\r\n  setRecommendationArray,\r\n  setRecommendationIndex,\r\n  setCurrentFragmentMode,\r\n  setSemanticCriteria,\r\n  setVisualizationTechnique,\r\n  setPotentialVisualizationTechnique,\r\n  setPotentialSemanticCriteria,\r\n  setDisplayTextSkimming,\r\n  setHistoryEntryCounter,\r\n  setAllFragmentsLoaded,\r\n  setOutOfLandingPage\r\n} from \"./actions/index\";\r\nimport {connect} from \"react-redux\";\r\nimport {Button, ButtonToolbar, Modal, OverlayTrigger, Tooltip} from \"react-bootstrap\";\r\nimport ActivityMenu from \"./components/ActivityMenu\";\r\nimport HistoryMenu from \"./components/HistoryMenu\";\r\nimport NavigationButton from \"./components/NavigationButton\";\r\nimport {\r\n  VIS_NETWORK,\r\n  BY_HISTORIC,\r\n  BY_NEXTBUTTON,\r\n  BY_PREVIOUSBUTTON,\r\n  CRIT_EDITION_ORDER,\r\n  CRIT_CHRONOLOGICAL_ORDER,\r\n  VIS_SQUARE_GRID,\r\n  CRIT_CATEGORY,\r\n  CRIT_HETERONYM\r\n} from \"./constants/history-transitions\";\r\nimport NetworkGraph from \"./components/NetworkGraph\";\r\nimport FragmentLoader from \"./components/FragmentLoader\";\r\nimport SquareGrid from \"./components/SquareGrid\";\r\nimport MyWordCloud from \"./components/MyWordCloud\";\r\nimport PublicEditionContainerTable from \"./containers/PublicEditionContainerTable\";\r\nimport ReactHtmlParser, {processNodes, convertNodeToElement, htmlparser2} from 'react-html-parser';\r\nimport loadingGif from './assets/loading.gif';\r\nimport loadingFragmentsGif from './assets/fragmentload.gif';\r\nimport IdleTimer from 'react-idle-timer';\r\nimport {\r\n  Link,\r\n  DirectLink,\r\n  Element,\r\n  Events,\r\n  animateScroll as scroll,\r\n  scrollSpy,\r\n  scroller\r\n} from 'react-scroll';\r\nimport Favicon from 'react-favicon';\r\nimport {Helmet} from \"react-helmet\";\r\n\r\nimport picNetgraph from './assets/card-pics-regular/netgraph.png';\r\nimport picSquare from './assets/card-pics-regular/square.png';\r\nimport picSquareGolden from './assets/card-pics-regular/square-golden.png';\r\nimport picSquareTime from './assets/card-pics-regular/square-time.png';\r\nimport picWordCloud from './assets/card-pics-regular/word-cloud.png';\r\n\r\nimport picNetgraphGray from './assets/card-pics-gray/netgraph-gray.png';\r\nimport picSquareGray from './assets/card-pics-gray/square-gray.png';\r\nimport picSquareGoldenGray from './assets/card-pics-gray/square-golden-gray.png';\r\nimport picSquareTimeGray from './assets/card-pics-gray/square-time-gray.png';\r\nimport picWordCloudGray from './assets/card-pics-gray/word-cloud-gray.png';\r\n\r\nimport HashMap from \"hashmap\";\r\n\r\nimport availablePreviousArrow from './assets/available-previous.png'\r\nimport availableNextArrow from './assets/available-next.png'\r\nimport unavailablePreviousArrow from './assets/unavailable-previous.png'\r\nimport unavailableNextArrow from './assets/unavailable-next.png'\r\n\r\nimport availableNextArrowGolden from './assets/goldnav/available-next-golden.png'\r\nimport availablePreviousArrowGolden from './assets/goldnav/available-previous-golden.png'\r\nimport unavailablePreviousArrowGolden from './assets/goldnav/unavailable-previous-golden.png'\r\nimport unavailableNextArrowGolden from './assets/goldnav/unavailable-next-golden.png'\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    fragments: state.fragments,\r\n    fragmentIndex: state.fragmentIndex,\r\n    currentVisualization: state.currentVisualization,\r\n    allFragmentsLoaded: state.allFragmentsLoaded,\r\n    recommendationArray: state.recommendationArray,\r\n    recommendationIndex: state.recommendationIndex,\r\n    outOfLandingPage: state.outOfLandingPage,\r\n    currentFragmentMode: state.currentFragmentMode,\r\n    visualizationTechnique: state.visualizationTechnique,\r\n    semanticCriteria: state.semanticCriteria,\r\n    potentialVisualizationTechnique: state.potentialVisualizationTechnique,\r\n    potentialSemanticCriteria: state.potentialSemanticCriteria,\r\n    displayTextSkimming: state.displayTextSkimming,\r\n    categories: state.categories,\r\n    history: state.history,\r\n    datesExist: state.datesExist,\r\n    historyEntryCounter: state.historyEntryCounter,\r\n    currentCategory: state.currentCategory\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    setFragmentIndex: fragmentIndex => dispatch(setFragmentIndex(fragmentIndex)),\r\n    addHistoryEntry: historyEntry => dispatch(addHistoryEntry(historyEntry)),\r\n    setRecommendationArray: recommendationArray => dispatch(setRecommendationArray(recommendationArray)),\r\n    setRecommendationIndex: recommendationIndex => dispatch(setRecommendationIndex(recommendationIndex)),\r\n    setCurrentFragmentMode: currentFragmentMode => dispatch(setCurrentFragmentMode(currentFragmentMode)),\r\n    setSemanticCriteria: semanticCriteria => dispatch(setSemanticCriteria(semanticCriteria)),\r\n    setVisualizationTechnique: visualizationTechnique => dispatch(setVisualizationTechnique(visualizationTechnique)),\r\n    setSemanticCriteria: semanticCriteria => dispatch(setSemanticCriteria(semanticCriteria)),\r\n    setPotentialVisualizationTechnique: potentialVisualizationTechnique => dispatch(setPotentialVisualizationTechnique(potentialVisualizationTechnique)),\r\n    setPotentialSemanticCriteria: potentialSemanticCriteria => dispatch(setPotentialSemanticCriteria(potentialSemanticCriteria)),\r\n    setDisplayTextSkimming: displayTextSkimming => dispatch(setDisplayTextSkimming(displayTextSkimming)),\r\n    setHistoryEntryCounter: historyEntryCounter => dispatch(setHistoryEntryCounter(historyEntryCounter)),\r\n    setAllFragmentsLoaded: allFragmentsLoaded => dispatch(setAllFragmentsLoaded(allFragmentsLoaded)),\r\n    setOutOfLandingPage: outOfLandingPage => dispatch(setOutOfLandingPage(outOfLandingPage))\r\n  };\r\n};\r\n\r\nconst styles = {\r\n  transition: 'all 0.2s ease-out'\r\n};\r\n\r\nclass ConnectedApp extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.buttonToolBarToRender = <div/>\r\n\r\n    this.goldenSquareArray = [];\r\n    let obj = {\r\n      goldenIndex: \" \",\r\n      currentCategory: \" \",\r\n      goldenId: \" \"\r\n    }\r\n    this.goldenSquareArray.push(obj);\r\n\r\n    this.nextGoldenSquareIndex = null;\r\n    this.previousGoldenSquareIndex = null;\r\n\r\n    this.idleTimer = null\r\n    this.onAction = this._onAction.bind(this)\r\n    this.onActive = this._onActive.bind(this)\r\n    this.onIdle = this._onIdle.bind(this)\r\n\r\n    this.handlePreviousGoldenButton = this.handlePreviousGoldenButton.bind(this)\r\n    this.handleNextGoldenButton = this.handleNextGoldenButton.bind(this)\r\n\r\n    this.forcePageReload = this.forcePageReload.bind(this)\r\n\r\n    this.handleEditionSelectRetreat = this.handleEditionSelectRetreat.bind(this)\r\n    this.handleFirstActivitySelectRetreat = this.handleFirstActivitySelectRetreat.bind(this)\r\n\r\n    this.state = {\r\n      previousFragmentButtonStyle: \"default\",\r\n      nextFragmentButtonStyle: \"default\",\r\n      showConfig: false,\r\n      showGlobalView: false,\r\n      showHistoric: false,\r\n      showLanding: true,\r\n      showLandingActivity: false,\r\n      toggleTextSkimming: false,\r\n      toggleUpdateFragmentsReceived: false,\r\n      showEditionSelection: true,\r\n      editionsReceived: false,\r\n      editionSelected: false,\r\n      currentEdition: \"\",\r\n      fadeIn: true,\r\n      fadeInterval: 20,\r\n      fadeDelay: 200,\r\n      opacity: 1,\r\n      mouseOverMenuButtons: true,\r\n      hiddenFromIdle: false,\r\n      previousGoldenButtonClass: \"goldenButtonPrevious\",\r\n      nextGoldenButtonClass: \"goldenButtonNext\",\r\n      showInstructions: false,\r\n      showReadingMenuIntructions: false,\r\n      inReadingMenu: true\r\n    };\r\n\r\n    this.opacityHide = 0;\r\n    this.opacityShow = 1;\r\n    this.opacityOnText = 0.8;\r\n    this.opacityBarelyVisible = 0; //antes estava 0.3. ou 0.1\r\n\r\n    this.categoryButtonFunction = function() {};\r\n    this.datesButtonFunction = function() {};\r\n\r\n    this.landingActivityToRender = <p>A carregar edições...</p>;\r\n\r\n    this.handleShowGlobalView = this.handleShowGlobalView.bind(this);\r\n    this.handleCloseGlobalView = this.handleCloseGlobalView.bind(this);\r\n\r\n    this.handleShowConfig = this.handleShowConfig.bind(this);\r\n    this.handleCloseConfig = this.handleCloseConfig.bind(this);\r\n\r\n    this.handleShowHistoric = this.handleShowHistoric.bind(this);\r\n    this.handleCloseHistoric = this.handleCloseHistoric.bind(this);\r\n\r\n    this.handleCloseModals = this.handleCloseModals.bind(this);\r\n    this.handleCloseLanding = this.handleCloseLanding.bind(this);\r\n\r\n    this.setMouseOverMenuButtons = this.setMouseOverMenuButtons.bind(this);\r\n    this.setMouseOutMenuButtons = this.setMouseOutMenuButtons.bind(this);\r\n\r\n    //show landing activities\r\n    this.handleShowLandingActivitySquareEditionOrder = this.handleShowLandingActivitySquareEditionOrder.bind(this);\r\n    this.handleShowLandingActivitySquareDateOrder = this.handleShowLandingActivitySquareDateOrder.bind(this);\r\n\r\n    this.handleToggleTextSkimming = this.handleToggleTextSkimming.bind(this);\r\n\r\n    this.handleShowLandingActivityWordCloudCategory = this.handleShowLandingActivityWordCloudCategory.bind(this);\r\n\r\n    this.handleToggleFragmentsReceived = this.handleToggleFragmentsReceived.bind(this);\r\n\r\n    this.handleEditionsReceived = this.handleEditionsReceived.bind(this);\r\n\r\n    this.handleEditionSelected = this.handleEditionSelected.bind(this);\r\n\r\n    this.addNewHistoryEntry = this.addNewHistoryEntry.bind(this);\r\n\r\n    this.nextButtonAction = this.nextButtonAction.bind(this);\r\n    this.previousButtonAction = this.previousButtonAction.bind(this);\r\n\r\n    this.toggleInstructions = this.toggleInstructions.bind(this);\r\n\r\n    this.goBackToTop = this.goBackToTop.bind(this);\r\n\r\n    this.toggleShowReadingMenuInstructions = this.toggleShowReadingMenuInstructions.bind(this);\r\n\r\n    this.navArrowWidth = \"100px\";\r\n\r\n    this.availablePreviousArrowButton = <img src={availablePreviousArrow} onClick={this.previousButtonAction} style={{\r\n        width: this.navArrowWidth,\r\n        cursor: \"pointer\"\r\n      }}/>\r\n    this.unavailablePreviousArrowButton = <img src={unavailablePreviousArrow} style={{\r\n        width: this.navArrowWidth\r\n      }}/>\r\n\r\n    this.availableNextArrowButton = <img src={availableNextArrow} onClick={this.nextButtonAction} style={{\r\n        width: this.navArrowWidth,\r\n        cursor: \"pointer\"\r\n      }}/>\r\n    this.unavailableNextArrowButton = <img src={unavailableNextArrow} style={{\r\n        width: this.navArrowWidth\r\n      }}/>\r\n\r\n    this.previousFragmentButtonStyle = this.availablePreviousArrowButton\r\n    this.nextFragmentButtonStyle = this.availableNextArrowButton\r\n\r\n    this.previousFragmentButtonStyle = this.availablePreviousArrowButton\r\n    this.nextFragmentButtonStyle = this.availableNextArrowButton\r\n\r\n    //botões dourados\r\n    this.navArrowWidthGolden = \"50px\";\r\n\r\n    this.availablePreviousArrowButtonGolden = <img src={availablePreviousArrowGolden} onClick={this.handlePreviousGoldenButton} style={{\r\n        width: this.navArrowWidthGolden,\r\n        cursor: \"pointer\"\r\n      }}/>\r\n    this.unavailablePreviousArrowButtonGolden = <img src={unavailablePreviousArrowGolden} style={{\r\n        width: this.navArrowWidthGolden\r\n      }}/>\r\n\r\n    this.availableNextArrowButtonGolden = <img src={availableNextArrowGolden} onClick={this.handleNextGoldenButton} style={{\r\n        width: this.navArrowWidthGolden,\r\n        cursor: \"pointer\"\r\n      }}/>\r\n    this.unavailableNextArrowButtonGolden = <img src={unavailableNextArrowGolden} style={{\r\n        width: this.navArrowWidthGolden\r\n      }}/>\r\n    //fim botões dourados\r\n\r\n  }\r\n\r\n  toggleShowReadingMenuInstructions() {\r\n    if (!this.state.showReadingMenuIntructions) {\r\n      this.setState({showReadingMenuIntructions: true, inReadingMenu: false});\r\n    } else {\r\n      this.setState({showReadingMenuIntructions: false, inReadingMenu: true});\r\n    }\r\n  }\r\n\r\n  toggleInstructions() {\r\n    this.setState({\r\n      showInstructions: !this.state.showInstructions\r\n    });\r\n  }\r\n\r\n  setMouseOverMenuButtons() {\r\n    this.setState({mouseOverMenuButtons: true});\r\n    console.log(\"setMouseOverMenuButtons\");\r\n  }\r\n\r\n  setMouseOutMenuButtons() {\r\n    this.setState({mouseOverMenuButtons: false});\r\n    console.log(\"setMouseOutMenuButtons\")\r\n  }\r\n\r\n  handleCloseModals() {\r\n    this.setState({\r\n      showConfig: false,\r\n      showGlobalView: false,\r\n      showLanding: false,\r\n      showHistoric: false,\r\n      inReadingMenu: true,\r\n      hiddenFromIdle: false,\r\n      opacity: this.opacityShow\r\n    });\r\n    scroll.scrollToTop({duration: 500, delay: 0, smooth: 'easeInOutQuart'});\r\n  }\r\n\r\n  handleCloseConfig() {\r\n    this.setState({showConfig: false, opacity: this.opacityShow, hiddenFromIdle: false, inReadingMenu: true});\r\n  }\r\n\r\n  handleShowConfig() {\r\n    this.setState({showConfig: true, inReadingMenu: false});\r\n    this.props.setCurrentFragmentMode(true);\r\n    console.log(\"App.handleShowConfig: setting currentFragmentMode to true\")\r\n  }\r\n\r\n  handleCloseGlobalView() {\r\n    this.setState({showGlobalView: false, hiddenFromIdle: false, inReadingMenu: true, opacity: this.opacityShow});\r\n\r\n  }\r\n\r\n  handleShowGlobalView() {\r\n    this.setState({showGlobalView: true, inReadingMenu: false});\r\n    this.props.setCurrentFragmentMode(false);\r\n    console.log(\"App.handleShowGlobalView(): setting currentFragmentMode to false (PickedFragmentMode)\")\r\n  }\r\n\r\n  handleCloseHistoric() {\r\n    this.setState({showHistoric: false, opacity: this.opacityShow, hiddenFromIdle: false, inReadingMenu: true});\r\n  }\r\n\r\n  handleShowHistoric() {\r\n    this.props.setCurrentFragmentMode(true);\r\n    this.setState({showHistoric: true, inReadingMenu: false});\r\n  }\r\n\r\n  handleCloseLanding() {\r\n    this.setState({showLanding: false, hiddenFromIdle: false, inReadingMenu: true, opacity: this.opacityShow});\r\n    console.log(\"calling handlecloselanding()\");\r\n\r\n  }\r\n\r\n  handleShowLandingActivitySquareEditionOrder() {\r\n    console.log(\"app.js: handleShowLandingActivitySquareEditionOrder()\");\r\n    this.props.setCurrentFragmentMode(true);\r\n    this.props.setPotentialVisualizationTechnique(VIS_SQUARE_GRID);\r\n    this.props.setPotentialSemanticCriteria(CRIT_EDITION_ORDER);\r\n    this.setState({showLandingActivity: true});\r\n  }\r\n\r\n  handleShowLandingActivitySquareDateOrder() {\r\n    console.log(\"app.js: handleShowLandingActivitySquareDateOrder()\");\r\n    if (this.props.datesExist) {\r\n      this.props.setCurrentFragmentMode(true);\r\n      this.props.setPotentialVisualizationTechnique(VIS_SQUARE_GRID);\r\n      this.props.setPotentialSemanticCriteria(CRIT_CHRONOLOGICAL_ORDER);\r\n      this.setState({showLandingActivity: true});\r\n    }\r\n  }\r\n\r\n  handleShowLandingActivityWordCloudCategory() {\r\n    console.log(\"app.js: handleShowLandingActivityWordCloudCategory()\");\r\n    this.props.setCurrentFragmentMode(true);\r\n    this.props.setPotentialVisualizationTechnique(VIS_SQUARE_GRID);\r\n    this.props.setPotentialSemanticCriteria(CRIT_CATEGORY);\r\n    this.setState({showLandingActivity: true});\r\n  }\r\n\r\n  setCurrentFragmentMode() {}\r\n\r\n  setPickedFragmentMode() {}\r\n\r\n  handleToggleTextSkimming() {\r\n    this.setState({\r\n      toggleTextSkimming: !this.state.toggleTextSkimming\r\n    });\r\n  }\r\n\r\n  handleToggleFragmentsReceived() {\r\n    this.setState({\r\n      toggleUpdateFragmentsReceived: !this.state.toggleUpdateFragmentsReceived\r\n    });\r\n    console.log(\"App.js: handleToggleFragmentsReceived\");\r\n  }\r\n\r\n  handleEditionsReceived() {\r\n    this.setState({editionsReceived: true});\r\n    console.log(\"handleEditionsReceived()\");\r\n  }\r\n\r\n  handleEditionSelected(value) {\r\n    console.log(value);\r\n    this.setState({editionSelected: true, currentEdition: value});\r\n  }\r\n\r\n  addNewHistoryEntry() {\r\n    console.log(\"Adding new history entry from next/previous button\");\r\n\r\n  }\r\n\r\n  _onAction(e) {\r\n    //console.log('_onAction', e)\r\n    // console.log('mouseOverMenuButtons: ' + this.state.mouseOverMenuButtons);\r\n\r\n    if (window.scrollY < 48 & !this.state.mouseOverMenuButtons & !this.state.hiddenFromIdle) {\r\n\r\n      this.setState({opacity: this.opacityShow, hiddenFromIdle: false})\r\n    } else if (window.scrollY > 48 & !this.state.mouseOverMenuButtons & !this.state.hiddenFromIdle) {\r\n\r\n      this.setState({opacity: this.opacityOnText, hiddenFromIdle: false})\r\n    } else if (this.state.mouseOverMenuButtons) {\r\n\r\n      this.setState({opacity: this.opacityShow, hiddenFromIdle: false})\r\n    }\r\n\r\n  }\r\n\r\n  _onIdle(e) {\r\n    // console.log('user is idle', e)\r\n    // console.log('last active', this.idleTimer.getLastActiveTime())\r\n\r\n    if (this.state.inReadingMenu) {\r\n\r\n      if (this.state.mouseOverMenuButtons) {\r\n        this.setState({opacity: this.opacityShow, hiddenFromIdle: false})\r\n      } else {\r\n        this.setState({opacity: this.opacityBarelyVisible, hiddenFromIdle: true});\r\n      }\r\n\r\n    }\r\n\r\n  }\r\n\r\n  goBackToTop() {\r\n    scroll.scrollToTop({duration: 500, delay: 0, smooth: 'easeInOutQuart'});\r\n  }\r\n\r\n  previousButtonAction() {\r\n\r\n    if (this.props.recommendationIndex > 0) {\r\n      scroll.scrollToTop({duration: 500, delay: 0, smooth: 'easeInOutQuart'});\r\n      //HISTORY ENTRY HISTORY ENTRY HISTORY ENTRY HISTORY ENTRY\r\n      let obj;\r\n      let historyVis = this.props.visualizationTechnique;\r\n      let historyCriteria = this.props.semanticCriteria;\r\n      obj = {\r\n        id: this.props.historyEntryCounter,\r\n        originalFragment: this.props.recommendationArray[this.props.recommendationIndex],\r\n        nextFragment: this.props.recommendationArray[this.props.recommendationIndex - 1],\r\n        vis: historyVis,\r\n        criteria: historyCriteria,\r\n        visualization: this.props.currentVisualization,\r\n        recommendationArray: this.props.recommendationArray,\r\n        recommendationIndex: this.props.recommendationIndex - 1,\r\n        fragmentIndex: this.props.fragmentIndex,\r\n        start: new Date().getTime(),\r\n        category: this.props.currentCategory\r\n      };\r\n\r\n      this.props.addHistoryEntry(obj);\r\n      this.props.setHistoryEntryCounter(this.props.historyEntryCounter + 1)\r\n      //HISTORY ENTRY HISTORY ENTRY HISTORY ENTRY HISTORY ENTRY\r\n      this.props.setRecommendationIndex(this.props.recommendationIndex - 1)\r\n\r\n    }\r\n\r\n  }\r\n\r\n  nextButtonAction() {\r\n    if (this.props.recommendationIndex < this.props.recommendationArray.length - 1) {\r\n      scroll.scrollToTop({duration: 500, delay: 0, smooth: 'easeInOutQuart'});\r\n\r\n      //HISTORY ENTRY HISTORY ENTRY HISTORY ENTRY HISTORY ENTRY\r\n      let obj;\r\n      let historyVis = this.props.visualizationTechnique;\r\n      let historyCriteria = this.props.semanticCriteria;\r\n      obj = {\r\n        id: this.props.historyEntryCounter,\r\n        originalFragment: this.props.recommendationArray[this.props.recommendationIndex],\r\n        nextFragment: this.props.recommendationArray[this.props.recommendationIndex + 1],\r\n        vis: historyVis,\r\n        criteria: historyCriteria,\r\n        visualization: this.props.currentVisualization,\r\n        recommendationArray: this.props.recommendationArray,\r\n        recommendationIndex: this.props.recommendationIndex + 1,\r\n        fragmentIndex: this.props.fragmentIndex,\r\n        start: new Date().getTime(),\r\n        category: this.props.currentCategory\r\n      };\r\n\r\n      this.props.addHistoryEntry(obj);\r\n      this.props.setHistoryEntryCounter(this.props.historyEntryCounter + 1)\r\n      //HISTORY ENTRY HISTORY ENTRY HISTORY ENTRY HISTORY ENTRY\r\n      this.props.setRecommendationIndex(this.props.recommendationIndex + 1)\r\n\r\n    }\r\n  }\r\n\r\n  _onActive(e) {\r\n    // console.log('user is active', e)\r\n    // console.log('time remaining', this.idleTimer.getRemainingTime())\r\n\r\n  }\r\n\r\n  // listenScrollEvent = e => {\r\n  //\r\n  //   if (window.scrollY > 0 && !this.state.mouseOverMenuButtons) {\r\n  //     this.setState({opacity: 0.7})\r\n  //   } else {\r\n  //     this.setState({opacity: 1})\r\n  //   }\r\n  // }\r\n\r\n  handleEditionSelectRetreat() {\r\n    // this.landingActivityToRender = <PublicEditionContainerTable onChange={this.handleEditionsReceived} sendSelectedEdition={this.handleEditionSelected}/>\r\n    this.props.addFragment([]);\r\n    this.props.setRecommendationArray([]);\r\n    this.props.setAllFragmentsLoaded(false);\r\n    this.props.setOutOfLandingPage(false);\r\n    this.setState({editionsReceived: false, editionSelected: false});\r\n  }\r\n\r\n  handleFirstActivitySelectRetreat() {\r\n\r\n    this.setState({showLandingActivity: false});\r\n  }\r\n\r\n  _handleKeyDown = (event) => {\r\n\r\n    var ESCAPE_KEY = 27;\r\n    var RIGHT_ARROW = 39;\r\n    var LEFT_ARROW = 37;\r\n    var A_KEY = 65;\r\n    var N_KEY = 78;\r\n    var H_KEY = 72;\r\n    var E_KEY = 69;\r\n    var D_KEY = 68;\r\n    var T_KEY = 84;\r\n    var C_KEY = 67;\r\n    var X_KEY = 88;\r\n    var O_KEY = 79;\r\n    var R_KEY = 82;\r\n    var I_KEY = 73;\r\n\r\n    if (this.props.outOfLandingPage && this.state.inReadingMenu) {\r\n\r\n      switch (event.keyCode) {\r\n        case RIGHT_ARROW:\r\n          this.nextButtonAction();\r\n          break;\r\n        case LEFT_ARROW:\r\n          this.previousButtonAction();\r\n          break;\r\n        case A_KEY:\r\n          this.handleShowGlobalView();\r\n          break;\r\n        case N_KEY:\r\n          this.handleShowConfig();\r\n          break;\r\n        case H_KEY:\r\n          this.handleShowHistoric();\r\n          break;\r\n        case R_KEY:\r\n          this.handleToggleTextSkimming();\r\n          break;\r\n        case I_KEY:\r\n          this.toggleShowReadingMenuInstructions();\r\n          break;\r\n        case T_KEY:\r\n          this.goBackToTop();\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n    // else if (!this.props.outOfLandingPage && this.props.allFragmentsLoaded && this.state.editionSelected) {\r\n    //   console.log(\"app.js | event.KeyCode: \" + event.keyCode)\r\n    //   switch (event.keyCode) {\r\n    //     case E_KEY:\r\n    //       console.log(\"app.js | event.KeyCode: E\")\r\n    //       this.handleShowLandingActivitySquareEditionOrder();\r\n    //       break;\r\n    //     case D_KEY:\r\n    //       console.log(\"app.js | event.KeyCode: D\")\r\n    //       this.datesButtonFunction();\r\n    //       break;\r\n    //     case T_KEY:\r\n    //       console.log(\"app.js | event.KeyCode: T\")\r\n    //       this.categoryButtonFunction();\r\n    //       break;\r\n    //     default:\r\n    //       break;\r\n    //   }\r\n    // }\r\n\r\n  }\r\n\r\n  forcePageReload() {\r\n    window.location.reload();\r\n  }\r\n\r\n  handlePreviousGoldenButton() {\r\n\r\n    scroll.scrollToTop({duration: 500, delay: 0, smooth: 'easeInOutQuart'});\r\n    //HISTORY ENTRY HISTORY ENTRY HISTORY ENTRY HISTORY ENTRY\r\n    let obj;\r\n    let historyVis = this.props.visualizationTechnique;\r\n    let historyCriteria = this.props.semanticCriteria;\r\n    obj = {\r\n      id: this.props.historyEntryCounter,\r\n      originalFragment: this.props.recommendationArray[this.props.recommendationIndex],\r\n      nextFragment: this.props.recommendationArray[this.previousGoldenSquareIndex],\r\n      vis: historyVis,\r\n      criteria: historyCriteria,\r\n      visualization: this.props.currentVisualization,\r\n      recommendationArray: this.props.recommendationArray,\r\n      recommendationIndex: this.previousGoldenSquareIndex,\r\n      fragmentIndex: this.props.fragmentIndex,\r\n      start: new Date().getTime(),\r\n      category: this.props.currentCategory\r\n    };\r\n\r\n    this.props.addHistoryEntry(obj);\r\n    this.props.setHistoryEntryCounter(this.props.historyEntryCounter + 1)\r\n    //HISTORY ENTRY HISTORY ENTRY HISTORY ENTRY HISTORY ENTRY\r\n    this.props.setRecommendationIndex(this.previousGoldenSquareIndex);\r\n\r\n    // if (this.state.previousGoldenButtonClass !== \"goldenButtonInactive\") {\r\n    //\r\n    //   let goldenIndex = -1;\r\n    //   let willBePrevious = false;\r\n    //\r\n    //   let i = this.props.recommendationIndex;\r\n    //   for (i; i !== 0; i--) {\r\n    //     console.log(\"bla1\");\r\n    //     if (this.props.recommendationArray[i].meta.categories.includes(this.props.currentCategory) && goldenIndex == -1) {\r\n    //       goldenIndex = i;\r\n    //       console.log(\"bla2\");\r\n    //     } else if (this.props.recommendationArray[i].meta.categories.includes(this.props.currentCategory) && goldenIndex !== -1) {\r\n    //       willBePrevious = true;\r\n    //       i = 0;\r\n    //       console.log(\"bla3\");\r\n    //     }\r\n    //   }\r\n    //\r\n    //   if (goldenIndex !== -1) {\r\n    //     scroll.scrollToTop({duration: 500, delay: 0, smooth: 'easeInOutQuart'});\r\n    //     HISTORY ENTRY HISTORY ENTRY HISTORY ENTRY HISTORY ENTRY\r\n    //     let obj;\r\n    //     let historyVis = this.props.visualizationTechnique;\r\n    //     let historyCriteria = this.props.semanticCriteria;\r\n    //     obj = {\r\n    //       id: this.props.historyEntryCounter,\r\n    //       originalFragment: this.props.recommendationArray[this.props.recommendationIndex],\r\n    //       nextFragment: this.props.recommendationArray[goldenIndex],\r\n    //       vis: historyVis,\r\n    //       criteria: historyCriteria,\r\n    //       visualization: this.props.currentVisualization,\r\n    //       recommendationArray: this.props.recommendationArray,\r\n    //       recommendationIndex: goldenIndex,\r\n    //       fragmentIndex: this.props.fragmentIndex,\r\n    //       start: new Date().getTime(),\r\n    //       category: this.props.currentCategory\r\n    //     };\r\n    //\r\n    //     this.props.addHistoryEntry(obj);\r\n    //     this.props.setHistoryEntryCounter(this.props.historyEntryCounter + 1)\r\n    //     HISTORY ENTRY HISTORY ENTRY HISTORY ENTRY HISTORY ENTRY\r\n    //     this.props.setRecommendationIndex(goldenIndex)\r\n    //\r\n    //   }\r\n    //\r\n    //   if (!willBePrevious) {\r\n    //     this.setState({previousGoldenButtonClass: \"goldenButtonInactive\"})\r\n    //   }\r\n    // }\r\n  }\r\n\r\n  handleNextGoldenButton() {\r\n    scroll.scrollToTop({duration: 500, delay: 0, smooth: 'easeInOutQuart'});\r\n    //HISTORY ENTRY HISTORY ENTRY HISTORY ENTRY HISTORY ENTRY\r\n    let obj;\r\n    let historyVis = this.props.visualizationTechnique;\r\n    let historyCriteria = this.props.semanticCriteria;\r\n    obj = {\r\n      id: this.props.historyEntryCounter,\r\n      originalFragment: this.props.recommendationArray[this.props.recommendationIndex],\r\n      nextFragment: this.props.recommendationArray[this.nextGoldenSquareIndex],\r\n      vis: historyVis,\r\n      criteria: historyCriteria,\r\n      visualization: this.props.currentVisualization,\r\n      recommendationArray: this.props.recommendationArray,\r\n      recommendationIndex: this.nextGoldenSquareIndex,\r\n      fragmentIndex: this.props.fragmentIndex,\r\n      start: new Date().getTime(),\r\n      category: this.props.currentCategory\r\n    };\r\n\r\n    this.props.addHistoryEntry(obj);\r\n    this.props.setHistoryEntryCounter(this.props.historyEntryCounter + 1)\r\n    //HISTORY ENTRY HISTORY ENTRY HISTORY ENTRY HISTORY ENTRY\r\n    this.props.setRecommendationIndex(this.nextGoldenSquareIndex);\r\n  }\r\n\r\n  componentDidMount() {\r\n    //window.addEventListener('scroll', this.listenScrollEvent)\r\n    document.addEventListener(\"keydown\", this._handleKeyDown);\r\n    try {\r\n      setInterval(async () => {\r\n        this.onAction()\r\n      }, 250);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    //console.log(new Date().getTime() + \" App.js: Rendering\")\r\n    let retreatButton;\r\n    const activitySelectable = \"Escolher atividade\";\r\n    const activityUnselectable = \"Atividade indisponível\";\r\n\r\n    //BUTTON LOGIC\r\n    if (this.props.outOfLandingPage) {\r\n      // console.log(\"App.js: out of landing page\")\r\n      // console.log(\"App.js: recommendationIndex: \" + this.props.recommendationIndex)\r\n      // console.log(\"App.js: fragmentIndex: \" + this.props.fragmentIndex)\r\n      if (this.props.recommendationIndex == 0) {\r\n        // console.log(\"App.js: changing previous button style to default\");\r\n        this.previousFragmentButtonStyle = this.unavailablePreviousArrowButton;\r\n        this.nextFragmentButtonStyle = this.availableNextArrowButton;\r\n      } else if (this.props.recommendationIndex === (this.props.recommendationArray.length - 1)) {\r\n        // console.log(\"App.js: changing next button style to default\");\r\n        this.previousFragmentButtonStyle = this.availablePreviousArrowButton;\r\n        this.nextFragmentButtonStyle = this.unavailableNextArrowButton;\r\n      } else {\r\n        this.previousFragmentButtonStyle = this.availablePreviousArrowButton;\r\n        this.nextFragmentButtonStyle = this.availableNextArrowButton;\r\n        // console.log(\"App.js: changing both button styles to primary\")\r\n      }\r\n    }\r\n\r\n    if (!this.state.editionsReceived) {\r\n      this.landingActivityToRender = <PublicEditionContainerTable onChange={this.handleEditionsReceived} sendSelectedEdition={this.handleEditionSelected}/>\r\n\r\n    } else if (this.state.editionsReceived && this.state.editionSelected) {\r\n\r\n      retreatButton = (<Button bsStyle=\"default\" onClick={this.forcePageReload}>\r\n        ← Selecionar outra edição\r\n      </Button>);\r\n\r\n      if (!this.props.allFragmentsLoaded) {\r\n        this.landingActivityToRender = (<div>\r\n          <img src={loadingGif} alt=\"loading...app.js\" className=\"loadingGifCentered\"/>\r\n          <p align=\"center\">A carregar todos os fragmentos da edição escolhida...</p>\r\n          <p align=\"center\">Se demorar demasiado tempo, atualize a página e volte a tentar.</p>\r\n        </div>);\r\n      } else if (this.state.showLandingActivity & (this.props.potentialSemanticCriteria == CRIT_CATEGORY) & this.props.allFragmentsLoaded) {\r\n        this.landingActivityToRender = (<MyWordCloud onChange={this.handleCloseModals}/>)\r\n        retreatButton = (<Button bsStyle=\"default\" onClick={this.handleFirstActivitySelectRetreat}>\r\n          ← Selecionar outra atividade\r\n        </Button>);\r\n      } else if (this.state.showLandingActivity & this.props.allFragmentsLoaded) {\r\n        this.landingActivityToRender = (<SquareGrid onChange={this.handleCloseModals}/>)\r\n        retreatButton = (<Button bsStyle=\"default\" onClick={this.handleFirstActivitySelectRetreat}>\r\n          ← Selecionar outra atividade\r\n        </Button>);\r\n      } else if (!this.state.showLandingActivity & this.props.allFragmentsLoaded) {\r\n        let categoryButtonStyle = \"default\"\r\n        let categoryButtonBotMessage = activitySelectable;\r\n        let categoryButtonMessage = \"Explorar os fragmentos desta edição pelas categorias a que pertencem (taxonomia)\"\r\n        this.categoryButtonFunction = this.handleShowLandingActivityWordCloudCategory;\r\n        let categoryImage = picWordCloud;\r\n        if (this.props.categories.length === 0) {\r\n          categoryButtonStyle = \"default disabled\";\r\n          categoryButtonMessage = \"Explorar os fragmentos desta edição pelas categorias a que pertencem (taxonomia) (edição sem taxonomia)\"\r\n          this.categoryButtonFunction = function() {}\r\n          categoryImage = picWordCloudGray;\r\n          categoryButtonBotMessage = activityUnselectable;\r\n        }\r\n        let datesButtonStyle = \"default\"\r\n        let datesButtonBotMessage = activitySelectable;\r\n        this.datesButtonFunction = this.handleShowLandingActivitySquareDateOrder;\r\n        let datesButtonMessage = \"Explorar os fragmentos desta edição ordenados por data\";\r\n        let datesImage = picSquareTime;\r\n        if (!this.props.datesExist) {\r\n          datesButtonStyle = \"default disabled\";\r\n          datesButtonBotMessage = activityUnselectable;\r\n          this.datesButtonFunction = function() {}\r\n          datesButtonMessage = \"Explorar os fragmentos desta edição ordenados por data (edição sem datas)\"\r\n          datesImage = picSquareTimeGray;\r\n        }\r\n        const options = {\r\n          decodeEntities: true\r\n        }\r\n\r\n        let myTitle = ReactHtmlParser(this.state.currentEdition.title, options);\r\n        this.landingActivityToRender = (<div>\r\n          <br/>\r\n          <br/>\r\n          <p align=\"center\">\r\n            Esta é a sua primeira atividade em torno da edição que selecionou - \"{myTitle}\". Escolha uma das seguintes opções.\r\n          </p>\r\n\r\n          <div className=\"cardsContainerActivity\">\r\n\r\n            <div className=\"cardActivity\">\r\n              <div className=\"containerActivity\">\r\n                <img src={picSquare} onClick={this.handleShowLandingActivitySquareEditionOrder} className=\"cardsActivityImage\" alt=\"Avatar\" style={{\r\n                    width: \"100%\"\r\n                  }}/>\r\n                <p align=\"center\">\r\n                  <b>Explorar os fragmentos por ordem desta edição</b>\r\n                </p>\r\n                <div className=\"welcomeButtonActivity\">\r\n                  <Button bsStyle=\"default\" bsSize=\"small\" onClick={this.handleShowLandingActivitySquareEditionOrder}>\r\n                    Escolher atividade\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"cardActivity\">\r\n              <div className=\"containerActivity\">\r\n                <img src={datesImage} onClick={this.datesButtonFunction} className=\"cardsActivityImage\" alt=\"Avatar\" style={{\r\n                    width: \"100%\"\r\n                  }}/>\r\n                <p align=\"center\">\r\n                  <b>{datesButtonMessage}</b>\r\n                </p>\r\n                <div className=\"welcomeButtonActivity\">\r\n                  <Button bsStyle={datesButtonStyle} bsSize=\"small\" onClick={this.datesButtonFunction}>\r\n                    {datesButtonBotMessage}\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"cardActivity\">\r\n              <div className=\"containerActivity\">\r\n                <img src={categoryImage} onClick={this.categoryButtonFunction} className=\"cardsActivityImage\" alt=\"Avatar\" style={{\r\n                    width: \"100%\"\r\n                  }}/>\r\n                <p align=\"center\">\r\n                  <b>{categoryButtonMessage}</b>\r\n                </p>\r\n                <div className=\"welcomeButtonActivity\">\r\n                  <Button bsStyle={categoryButtonStyle} bsSize=\"small\" onClick={this.categoryButtonFunction}>\r\n                    {categoryButtonBotMessage}\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </div>)\r\n      }\r\n    }\r\n\r\n    let previousNavButton = <div/>;\r\n    let previousNavButtonGold = <div/>;\r\n    let nextNavButton = <div/>;\r\n    let nextNavButtonGold = <div/>\r\n    let editionTitleToDisplay = <div/>;\r\n    let editionAcronymToDisplay = <div/>;\r\n    let changeEdButton = <div/>;\r\n    let readingMenuIntructions = <div/>;\r\n    let progressBar = <div/>;\r\n    let goBackToTopButton = <div/>;\r\n    let textSkimmingButtonJsx = <div/>;\r\n    let bannerClassName = \"\";\r\n    if (this.props.allFragmentsLoaded && this.props.outOfLandingPage) {\r\n\r\n      bannerClassName = \"buttonToolbarBanner\";\r\n\r\n      let toggleTextSkimmingButtonMessage;\r\n      if (this.state.toggleTextSkimming && this.props.outOfLandingPage) {\r\n        toggleTextSkimmingButtonMessage = \"Esconder palavras mais relevantes [R]\";\r\n      } else if (this.props.outOfLandingPage) {\r\n        toggleTextSkimmingButtonMessage = \"Destacar palavras mais relevantes [R]\";\r\n      }\r\n\r\n      textSkimmingButtonJsx = (<Button bsStyle=\"default\" bsSize=\"small\" onClick={this.handleToggleTextSkimming} onMouseOver={this.setMouseOverMenuButtons} onMouseLeave={this.setMouseOutMenuButtons}>\r\n        {toggleTextSkimmingButtonMessage}\r\n      </Button>)\r\n\r\n      editionTitleToDisplay = (\"Título da edição selecionada: \" + ReactHtmlParser(this.state.currentEdition.title));\r\n      editionAcronymToDisplay = (\"Acrónimo: \" + this.state.currentEdition.acronym);\r\n      changeEdButton = (<Button bsStyle=\"default\" bsSize=\"small\" onClick={this.forcePageReload}>\r\n        Escolher outra edição\r\n      </Button>)\r\n      readingMenuIntructions = (<Button bsStyle=\"default\" bsSize=\"small\" onClick={this.toggleShowReadingMenuInstructions}>\r\n        Instruções [i]\r\n      </Button>)\r\n      progressBar = ((<div className=\"progress-bar\" onMouseOver={this.setMouseOverMenuButtons} onMouseLeave={this.setMouseOutMenuButtons}>\r\n        <div className=\"filler\" style={{\r\n            width: `${ ((this.props.recommendationIndex + 1) / this.props.recommendationArray.length) * 100}%`\r\n          }}/>\r\n      </div>))\r\n      goBackToTopButton = <Button bsStyle=\"default \" bsSize=\"small\" onClick={this.goBackToTop}>\r\n        Voltar ao topo [T]\r\n      </Button>\r\n    }\r\n\r\n    if (this.props.allFragmentsLoaded & this.props.outOfLandingPage) {\r\n\r\n      // console.log(\"App.js: this.props.visualizationTechnique: \" + this.props.visualizationTechnique);\r\n      // console.log(\"App.js: this.props.semanticCriteria: \" + this.props.semanticCriteria);\r\n      // console.log(\"App.js: this.props.potentialVisualizationTechnique: \" + this.props.potentialVisualizationTechnique);\r\n      // console.log(\"App.js: this.props.potentialSemanticCriteria: \" + this.props.potentialSemanticCriteria);\r\n      // console.log(\"App.js: this.props.currentFragmentMode: \" + this.props.currentFragmentMode);\r\n\r\n      //http://xahlee.info/comp/unicode_arrows.html\r\n      //← ⟵ ⇦ ⬅ 🡐 🡄 🠘 ← 🠐 🠨 🠬 🠰 🡠 🢀\r\n      //→ ⟶ ⇨ ⮕ 🡒 🡆 🠚 → 🠒 🠪 🠮 🠲 🡢 🢂\r\n\r\n      //previousNavButton = <NavigationButton nextButton={false}/>;\r\n      previousNavButton = this.previousFragmentButtonStyle;\r\n\r\n      //nextNavButton = <NavigationButton nextButton={true}/>;\r\n      nextNavButton = this.nextFragmentButtonStyle;\r\n\r\n      if (this.props.visualizationTechnique == VIS_SQUARE_GRID) {\r\n\r\n        if (this.props.semanticCriteria == CRIT_CATEGORY || this.props.semanticCriteria == CRIT_HETERONYM) {\r\n\r\n          // guardar vector com obj = {id: , recommendationIndexGolden: , currentCategory: }\r\n          if (!this.goldenSquareArray[0] && this.goldenSquareArray[0].currentCategory !== this.props.currentCategory) {\r\n            this.goldenSquareArray = [];\r\n            let i;\r\n            for (i = 0; i < this.props.recommendationArray.length; i++) {\r\n\r\n              let goldenSelectionCritCondition;\r\n              if (this.props.semanticCriteria == CRIT_HETERONYM) {\r\n                goldenSelectionCritCondition = (this.props.recommendationArray[i].meta.heteronym == this.props.currentCategory);\r\n              } else if (this.props.semanticCriteria == CRIT_CATEGORY) {\r\n                goldenSelectionCritCondition = (this.props.recommendationArray[i].meta.categories.includes(this.props.currentCategory));\r\n              }\r\n\r\n              if (goldenSelectionCritCondition) {\r\n\r\n                let tempObj = {\r\n                  goldenIndex: i,\r\n                  currentCategory: this.props.currentCategory,\r\n                  goldenId: this.props.recommendationArray[i].interId\r\n                }\r\n\r\n                this.goldenSquareArray.push(tempObj);\r\n              }\r\n            }\r\n          }\r\n\r\n          let goldenPreviousLabel = \"Fragmento anterior do heterónimo selecionado (\" + this.props.currentCategory + \")\"\r\n          let goldenNextLabel = \"Próximo fragmento do heterónimo selecionado (\" + this.props.currentCategory + \")\"\r\n\r\n          if (this.props.semanticCriteria == CRIT_CATEGORY) {\r\n            goldenPreviousLabel = \"Fragmento anterior da categoria selecionada (\" + this.props.currentCategory + \")\"\r\n            goldenNextLabel = \"Próximo fragmento da categoria selecionada (\" + this.props.currentCategory + \")\"\r\n          }\r\n\r\n          let goldenPreviousButtonArrow = this.unavailablePreviousArrowButtonGolden;\r\n          let goldenNextButtonArrow = this.unavailableNextArrowButtonGolden;\r\n\r\n          let goldenPreviousButtonFun = function() {}; //this.handlePreviousGoldenButton\r\n          let goldenNextButtonFun = function() {}; //this.handleNextGoldenButton\r\n\r\n          //nextGoldenButtonStyle & availabilty verification\r\n\r\n          let j;\r\n          for (j = (this.props.recommendationIndex); j < this.props.recommendationArray.length; j++) {\r\n            if (this.props.recommendationArray[j].interId !== this.props.recommendationArray[this.props.recommendationIndex].interId && j <= this.props.recommendationArray.length) {\r\n\r\n              let goldenSelectionCritCondition;\r\n              if (this.props.semanticCriteria == CRIT_HETERONYM) {\r\n                goldenSelectionCritCondition = (this.props.recommendationArray[j].meta.heteronym == this.props.currentCategory);\r\n              } else if (this.props.semanticCriteria == CRIT_CATEGORY) {\r\n                goldenSelectionCritCondition = (this.props.recommendationArray[j].meta.categories.includes(this.props.currentCategory));\r\n              }\r\n              if (goldenSelectionCritCondition) {\r\n                goldenNextButtonArrow = this.availableNextArrowButtonGolden;\r\n                goldenNextButtonFun = this.handleNextGoldenButton;\r\n                this.nextGoldenSquareIndex = j;\r\n                break;\r\n              }\r\n            }\r\n          }\r\n\r\n          //previousGoldenButtonStyle & availabilty verification\r\n\r\n          let n;\r\n          for (n = (this.props.recommendationIndex); n !== -1; n--) {\r\n            if (this.props.recommendationArray[n].interId !== this.props.recommendationArray[this.props.recommendationIndex].interId && n >= 0) {\r\n\r\n              let goldenSelectionCritCondition;\r\n              if (this.props.semanticCriteria == CRIT_HETERONYM) {\r\n                goldenSelectionCritCondition = (this.props.recommendationArray[n].meta.heteronym == this.props.currentCategory);\r\n              } else if (this.props.semanticCriteria == CRIT_CATEGORY) {\r\n                goldenSelectionCritCondition = (this.props.recommendationArray[n].meta.categories.includes(this.props.currentCategory));\r\n              }\r\n              if (goldenSelectionCritCondition) {\r\n                goldenPreviousButtonArrow = this.availablePreviousArrowButtonGolden;\r\n                goldenPreviousButtonFun = this.handlePreviousGoldenButton;\r\n                this.previousGoldenSquareIndex = n;\r\n                break;\r\n              }\r\n            }\r\n          }\r\n\r\n          // end of golden buttons availability verification\r\n\r\n          previousNavButtonGold = (<div onMouseOver={this.setMouseOverMenuButtons} onMouseLeave={this.setMouseOutMenuButtons} className=\"navPreviousGolden\" style={{\r\n              ...styles,\r\n              opacity: this.state.opacity\r\n            }}>\r\n            <OverlayTrigger key='bottom' placement='bottom' overlay={<Tooltip id = {\r\n                `tooltip-$'bottom'`\r\n              } > {\r\n                goldenPreviousLabel\r\n              } < /Tooltip>}>\r\n              {goldenPreviousButtonArrow}\r\n            </OverlayTrigger>\r\n          </div>)\r\n\r\n          nextNavButtonGold = (<div onMouseOver={this.setMouseOverMenuButtons} onMouseLeave={this.setMouseOutMenuButtons} className=\"navNextGolden\" style={{\r\n              ...styles,\r\n              opacity: this.state.opacity\r\n            }}>\r\n            <OverlayTrigger key='bottom' placement='bottom' overlay={<Tooltip id = {\r\n                `tooltip-$'bottom'`\r\n              } > {\r\n                goldenNextLabel\r\n              } < /Tooltip>}>\r\n              {goldenNextButtonArrow}\r\n            </OverlayTrigger>\r\n          </div>)\r\n\r\n        }\r\n      }\r\n      // this.buttonToolBarToRender = (<div className=\"buttonToolbar\" style={{\r\n      //     ...styles,\r\n      //     opacity: this.state.opacity\r\n      //   }}>\r\n\r\n      this.buttonToolBarToRender = (<div className=\"buttonToolbar\">\r\n\r\n        <ButtonToolbar onMouseOver={this.setMouseOverMenuButtons} onMouseLeave={this.setMouseOutMenuButtons}>\r\n          {textSkimmingButtonJsx}\r\n        </ButtonToolbar>\r\n\r\n        <ButtonToolbar onMouseOver={this.setMouseOverMenuButtons} onMouseLeave={this.setMouseOutMenuButtons}>\r\n\r\n          <Button bsStyle=\"default\" bsSize=\"small\" onClick={this.handleShowGlobalView}>\r\n            Atividade atual [A]\r\n          </Button>\r\n\r\n          <Button bsStyle=\"default\" bsSize=\"small\" onClick={this.handleShowConfig}>\r\n            Nova atividade [N]\r\n          </Button>\r\n\r\n          <Button bsStyle=\"default\" bsSize=\"small\" onClick={this.handleShowHistoric}>\r\n            Histórico de leitura [H]\r\n          </Button>\r\n\r\n        </ButtonToolbar>\r\n\r\n        <ButtonToolbar onMouseOver={this.setMouseOverMenuButtons} onMouseLeave={this.setMouseOutMenuButtons}>\r\n          {readingMenuIntructions}\r\n          {changeEdButton}\r\n        </ButtonToolbar>\r\n\r\n      </div>)\r\n    } else {\r\n\r\n      this.buttonToolBarToRender = <div/>;\r\n    }\r\n\r\n    let fragLoader;\r\n    const options = {\r\n      decodeEntities: true\r\n    }\r\n\r\n    let myTitle;\r\n    if (this.state.editionSelected) {\r\n      fragLoader = <FragmentLoader currentEdition={this.state.currentEdition} toggleTextSkimming={this.state.toggleTextSkimming} onChange={this.handleToggleFragmentsReceived\r\n}/>\r\n\r\n      myTitle = ReactHtmlParser(this.state.currentEdition.title, options);\r\n\r\n    }\r\n\r\n    return (<div className=\"app\" onWheel={this.onAction}>\r\n\r\n      <div>\r\n        <IdleTimer ref={ref => {\r\n            this.idleTimer = ref\r\n          }} element={document} onActive={this.onActive} onIdle={this.onIdle} onAction={this.onAction} debounce={10} timeout={1000 * 3}/> {/* your app here */}\r\n        <Favicon url=\"https://raw.githubusercontent.com/socialsoftware/edition/ldod-visual/ldod-visual/public/favicon.ico\"/>\r\n        <Helmet>\r\n          <link rel=\"canonical\" href=\"https://ldod.uc.pt/ldod-visual\"/>\r\n          <meta property=\"og:image:width\" content=\"279\"/>\r\n          <meta property=\"og:image:height\" content=\"279\"/>\r\n          <meta property=\"og:description\" content=\"Explore uma das edi&ccedil;&otilde;es virtuais p&uacute;blicas do &quot;Livro do Desassossego&quot; dispon&iacute;veis no Arquivo LdoD\"/>\r\n          <meta property=\"og:title\" content=\"LdoD Visual\"/>\r\n          <meta property=\"og:url\" content=\"https://ldod.uc.pt/ldod-visual\"/>\r\n          <meta property=\"og:image\" content=\"https://raw.githubusercontent.com/socialsoftware/edition/ldod-visual/ldod-visual/public/og-image.jpg\"/>\r\n          <meta property=\"og:site_name\" content=\"https://ldod.uc.pt/ldod-visual\"/>\r\n        </Helmet>\r\n      </div>\r\n\r\n      <div className={bannerClassName} onMouseOver={this.setMouseOverMenuButtons} onMouseLeave={this.setMouseOutMenuButtons} style={{\r\n          ...styles,\r\n          opacity: this.state.opacity\r\n        }}>\r\n\r\n        {this.buttonToolBarToRender}\r\n\r\n      </div>\r\n\r\n      <div >\r\n\r\n        <div onMouseOver={this.setMouseOverMenuButtons} onMouseLeave={this.setMouseOutMenuButtons} className=\"navPrevious\" style={{\r\n            ...styles,\r\n            opacity: this.state.opacity\r\n          }}>\r\n          {previousNavButton}\r\n        </div>\r\n\r\n        {previousNavButtonGold}\r\n\r\n        <div onMouseOver={this.setMouseOverMenuButtons} onMouseLeave={this.setMouseOutMenuButtons} className=\"navNext\" style={{\r\n            ...styles,\r\n            opacity: this.state.opacity\r\n          }}>\r\n          {nextNavButton}\r\n        </div>\r\n\r\n        {nextNavButtonGold}\r\n\r\n        <div onMouseOver={this.setMouseOutMenuButtons}>\r\n          {fragLoader}\r\n        </div>\r\n\r\n        <div className=\"metaInfo\" onMouseOver={this.setMouseOverMenuButtons} onMouseLeave={this.setMouseOutMenuButtons} tyle={{\r\n            ...styles,\r\n            opacity: this.state.opacity\r\n          }}>\r\n\r\n          <p align=\"center\" style={{\r\n              ...styles,\r\n              opacity: this.state.opacity,\r\n              color: 'black',\r\n              fontSize: 15\r\n            }}>{editionTitleToDisplay}</p>\r\n\r\n          <p align=\"center\" style={{\r\n              ...styles,\r\n              opacity: this.state.opacity,\r\n              color: 'black',\r\n              fontSize: 15\r\n            }}>{editionAcronymToDisplay}</p>\r\n          <br/>\r\n          <p align=\"center\" style={{\r\n              ...styles,\r\n              opacity: this.state.opacity,\r\n              color: 'black',\r\n              fontSize: 15,\r\n              fontFamily: 'Arial'\r\n            }}>\r\n            {goBackToTopButton}</p>\r\n\r\n        </div>\r\n\r\n        {progressBar}\r\n\r\n      </div>\r\n\r\n      <Modal show={this.state.showLanding} dialogClassName=\"custom-modal\">\r\n\r\n        <Modal.Body>\r\n          <div className=\"landing-activity-style\">{this.landingActivityToRender}</div>\r\n        </Modal.Body>\r\n\r\n        <Modal.Footer>\r\n          {retreatButton}\r\n        </Modal.Footer>\r\n      </Modal>\r\n\r\n      <Modal show={this.state.showGlobalView} onHide={this.handleCloseGlobalView} dialogClassName=\"custom-modal\">\r\n\r\n        <Modal.Body>\r\n          {this.props.currentVisualization}\r\n        </Modal.Body>\r\n\r\n        <Modal.Footer>\r\n          <Button bsStyle=\"default\" onClick={this.handleCloseGlobalView}>\r\n            Fechar [ESC]\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n\r\n      <Modal show={this.state.showConfig} onHide={this.handleCloseConfig} dialogClassName=\"custom-modal\">\r\n\r\n        <Modal.Body>\r\n          <ActivityMenu onChange={this.handleCloseModals}/>\r\n        </Modal.Body>\r\n\r\n        <Modal.Footer>\r\n          <Button bsStyle=\"default\" onClick={this.forcePageReload}>\r\n            Escolher outra edição\r\n          </Button>\r\n          <Button bsStyle=\"default\" onClick={this.handleCloseConfig}>\r\n            Fechar [ESC]\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n\r\n      <Modal show={this.state.showHistoric} onHide={this.handleCloseHistoric} dialogClassName=\"custom-modal\">\r\n\r\n        <Modal.Body>\r\n          <HistoryMenu onChange={this.handleCloseModals}/>\r\n        </Modal.Body>\r\n\r\n        <Modal.Footer>\r\n          <Button bsStyle=\"default\" onClick={this.handleCloseHistoric}>\r\n            Fechar [ESC]\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n\r\n      <Modal show={this.state.showReadingMenuIntructions} onHide={this.toggleShowReadingMenuInstructions} dialogClassName=\"custom-modal-instructions\">\r\n        <Modal.Header closeButton=\"closeButton\">\r\n          <Modal.Title align=\"center\">\r\n            Instruções do menu de leitura\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n\r\n        <Modal.Body>\r\n          <div className=\"readingMoreInfo\">\r\n            <p align=\"center\">Este é o menu de leitura. Aqui poderá:</p>\r\n            <lu>\r\n              <li>\r\n                Ir para o menu da atividade atual e interagir com a mesma clicando no botão ou na tecla \"A\" do seu teclado.\r\n              </li>\r\n              <li>\r\n                Ir para o menu de nova atividade clicando no botão ou na tecla \"N\" do seu teclado.\r\n              </li>\r\n              <li>\r\n                Ir para o menu de histórico de leitura clicando no botão ou na tecla \"H\" do seu teclado.\r\n              </li>\r\n              <li>\r\n                Realçar as palavras mais relevantes do fragmento clicando no botão ou na tecla \"R\" do seu teclado. O critério do realce é dado pelo TF-IDF ou{\" \"}\r\n                <i>term frequency–inverse document frequency.</i>\r\n              </li>\r\n              <li>\r\n                Clicar nas setas pretas da esquerda e direita para ir para o fragmento anterior ou seguinte no contexto da atividade atual. Também pode usar as teclas esquerda e direita do seu teclado para o mesmo efeito.\r\n              </li>\r\n              <li>\r\n                Ao fazer uma atividade que envolva a seleção de uma certa categoria ou heterónimo, irão surgir novas setas amarelas por baixo das pretas. Poderá clicar nelas para navegar exclusivamente entre os fragmentos dessa categoria ou heterónimo selecionados.\r\n              </li>\r\n              <li>\r\n                Conferir o progresso da leitura a olhar para a barra no fundo da página. Se estiver no fragmento número 30 de uma edição com 90 fragmentos, a barra está 1/3 azul e 2/3 cinzenta.\r\n              </li>\r\n              <li>\r\n                Ao ficar inactivo durante 3 segundos com o cursor do rato fora dos botões do topo ou do fim da página, botões de navegação ou barra de progresso, todo o menu de leitura desaparecerá excepto o texto do fragmento. Para recuperar a visão dos mesmos, terá que passar o cursor do rato por cima da posição de um destes elementos.\r\n              </li>\r\n            </lu>\r\n          </div>\r\n        </Modal.Body>\r\n\r\n        <Modal.Footer>\r\n          <Button bsStyle=\"default\" bsSize=\"small\" onClick={this.toggleShowReadingMenuInstructions}>\r\n            Fechar [ESC]\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </div>);\r\n  }\r\n}\r\n\r\nconst App = connect(mapStateToProps, mapDispatchToProps)(ConnectedApp);\r\n\r\nexport default App;\r\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import {ADD_FRAGMENT} from \"../constants/action-types\";\r\nimport {SET_FRAGMENT_INDEX} from \"../constants/action-types\";\r\nimport {SET_CURRENT_VISUALIZATION} from \"../constants/action-types\";\r\nimport {ADD_HISTORY_ENTRY} from \"../constants/action-types\";\r\nimport {SET_ALL_FRAGMENTS_LOADED} from \"../constants/action-types\";\r\nimport {SET_OUT_OF_LANDING_PAGE} from \"../constants/action-types\";\r\nimport {SET_HISTORY_ENTRY_COUNTER} from \"../constants/action-types\";\r\nimport {SET_RECOMMENDATION_ARRAY} from \"../constants/action-types\";\r\nimport {SET_RECOMMENDATION_INDEX} from \"../constants/action-types\";\r\nimport {SET_FRAGMENTS_HASHMAP} from \"../constants/action-types\";\r\nimport {SET_CURRENT_FRAGMENT_MODE} from \"../constants/action-types\";\r\nimport {SET_RECOMMENDATION_LOADED} from \"../constants/action-types\";\r\nimport {SET_VISUALIZATION_TECHNIQUE} from \"../constants/action-types\";\r\nimport {SET_SEMANTIC_CRITERIA} from \"../constants/action-types\";\r\nimport {SET_SEMANTIC_CRITERIA_DATA} from \"../constants/action-types\";\r\nimport {SET_SEMANTIC_CRITERIA_DATA_LOADED} from \"../constants/action-types\";\r\nimport {SET_POTENTIAL_VISUALIZATION_TECHNIQUE} from \"../constants/action-types\";\r\nimport {SET_POTENTIAL_SEMANTIC_CRITERIA} from \"../constants/action-types\";\r\nimport {SET_POTENTIAL_SEMANTIC_CRITERIA_DATA} from \"../constants/action-types\";\r\nimport {SET_FRAGMENTS_SORTED_BY_DATE} from \"../constants/action-types\";\r\nimport {SET_DISPLAY_TEXT_SKIMMING} from \"../constants/action-types\";\r\nimport {SET_CATEGORIES} from \"../constants/action-types\";\r\nimport {SET_CURRENT_CATEGORY} from \"../constants/action-types\";\r\nimport {SET_POTENTIAL_CATEGORY} from \"../constants/action-types\";\r\nimport {SET_HISTORY} from \"../constants/action-types\";\r\nimport {SET_DATES_EXIST} from \"../constants/action-types\";\r\nimport {SET_GOLDEN_ARRAY} from \"../constants/action-types\";\r\n\r\nconst initialState = {\r\n  fragments: [],\r\n  fragmentIndex: 0,\r\n  currentVisualization: \"Configure primeiro uma atividade para poder ter uma vista global!\",\r\n  history: [],\r\n  allFragmentsLoaded: false,\r\n  outOfLandingPage: false,\r\n  historyEntryCounter: 0,\r\n  recommendationArray: [],\r\n  recommendationIndex: 0,\r\n  fragmentsHashMap: [],\r\n  currentFragmentMode: true,\r\n  recommendationLoaded: true,\r\n  visualizationTechnique: 0,\r\n  semanticCriteria: 0,\r\n  semanticCriteriaData: [],\r\n  semanticCriteriaDataLoaded: true,\r\n  potentialVisualizationTechnique: 0,\r\n  potentialSemanticCriteria: 0,\r\n  potentialSemanticCriteriaData: [],\r\n  fragmentsSortedByDate: [],\r\n  displayTextSkimming: false,\r\n  categories: [],\r\n  currentCategory: [],\r\n  potentialCategory: [],\r\n  datesExist: false,\r\n  goldenArray: []\r\n};\r\n\r\nconst rootReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_FRAGMENT:\r\n      return {\r\n        ...state,\r\n        fragments: action.payload\r\n      };\r\n    case SET_FRAGMENT_INDEX:\r\n      return {\r\n        ...state,\r\n        fragmentIndex: action.payload\r\n      };\r\n    case SET_CURRENT_VISUALIZATION:\r\n      return {\r\n        ...state,\r\n        currentVisualization: action.payload\r\n      };\r\n    case ADD_HISTORY_ENTRY:\r\n      return {\r\n        ...state,\r\n        history: [\r\n          ...state.history,\r\n          action.payload\r\n        ]\r\n      };\r\n    case SET_ALL_FRAGMENTS_LOADED:\r\n      return {\r\n        ...state,\r\n        allFragmentsLoaded: action.payload\r\n      };\r\n    case SET_OUT_OF_LANDING_PAGE:\r\n      return {\r\n        ...state,\r\n        outOfLandingPage: action.payload\r\n      };\r\n    case SET_HISTORY_ENTRY_COUNTER:\r\n      return {\r\n        ...state,\r\n        historyEntryCounter: action.payload\r\n      };\r\n    case SET_RECOMMENDATION_ARRAY:\r\n      return {\r\n        ...state,\r\n        recommendationArray: action.payload\r\n      };\r\n    case SET_RECOMMENDATION_INDEX:\r\n      return {\r\n        ...state,\r\n        recommendationIndex: action.payload\r\n      };\r\n    case SET_FRAGMENTS_HASHMAP:\r\n      return {\r\n        ...state,\r\n        fragmentsHashMap: action.payload\r\n      };\r\n    case SET_CURRENT_FRAGMENT_MODE:\r\n      return {\r\n        ...state,\r\n        currentFragmentMode: action.payload\r\n      };\r\n    case SET_RECOMMENDATION_LOADED:\r\n      return {\r\n        ...state,\r\n        recommendationLoaded: action.payload\r\n      };\r\n    case SET_VISUALIZATION_TECHNIQUE:\r\n      return {\r\n        ...state,\r\n        visualizationTechnique: action.payload\r\n      };\r\n    case SET_SEMANTIC_CRITERIA:\r\n      return {\r\n        ...state,\r\n        semanticCriteria: action.payload\r\n      };\r\n    case SET_SEMANTIC_CRITERIA_DATA:\r\n      return {\r\n        ...state,\r\n        semanticCriteriaData: action.payload\r\n      };\r\n    case SET_SEMANTIC_CRITERIA_DATA_LOADED:\r\n      return {\r\n        ...state,\r\n        semanticCriteriaDataLoaded: action.payload\r\n      };\r\n    case SET_POTENTIAL_VISUALIZATION_TECHNIQUE:\r\n      return {\r\n        ...state,\r\n        potentialVisualizationTechnique: action.payload\r\n      };\r\n    case SET_POTENTIAL_SEMANTIC_CRITERIA:\r\n      return {\r\n        ...state,\r\n        potentialSemanticCriteria: action.payload\r\n      };\r\n    case SET_POTENTIAL_SEMANTIC_CRITERIA_DATA:\r\n      return {\r\n        ...state,\r\n        potentialSemanticCriteriaData: action.payload\r\n      };\r\n    case SET_FRAGMENTS_SORTED_BY_DATE:\r\n      return {\r\n        ...state,\r\n        fragmentsSortedByDate: action.payload\r\n      };\r\n    case SET_DISPLAY_TEXT_SKIMMING:\r\n      return {\r\n        ...state,\r\n        setDisplayTextSkimming: action.payload\r\n      };\r\n    case SET_CATEGORIES:\r\n      return {\r\n        ...state,\r\n        categories: action.payload\r\n      };\r\n    case SET_CURRENT_CATEGORY:\r\n      return {\r\n        ...state,\r\n        currentCategory: action.payload\r\n      };\r\n    case SET_POTENTIAL_CATEGORY:\r\n      return {\r\n        ...state,\r\n        potentialCategory: action.payload\r\n      };\r\n    case SET_HISTORY:\r\n      return {\r\n        ...state,\r\n        history: action.payload\r\n      };\r\n    case SET_DATES_EXIST:\r\n      return {\r\n        ...state,\r\n        datesExist: action.payload\r\n      };\r\n    case SET_GOLDEN_ARRAY:\r\n      return {\r\n        ...state,\r\n        goldenArray: action.payload\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default rootReducer;\r\n","// src/js/store/index.js\r\nimport { createStore } from \"redux\";\r\nimport rootReducer from \"../reducers/index\";\r\n\r\nconst store = createStore(rootReducer);\r\n\r\nexport default store;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport registerServiceWorker from './registerServiceWorker';\nimport store from \"./store/index\";\nimport { Provider } from \"react-redux\";\n\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'));\nregisterServiceWorker();\n","module.exports = __webpack_public_path__ + \"static/media/netgraph.878e9b9e.png\";","module.exports = __webpack_public_path__ + \"static/media/square.38b70f47.png\";","module.exports = __webpack_public_path__ + \"static/media/square-time.2934cdfe.png\";","module.exports = __webpack_public_path__ + \"static/media/word-cloud.7a964000.png\";","module.exports = __webpack_public_path__ + \"static/media/square-time-gray.2a6c4993.png\";","module.exports = __webpack_public_path__ + \"static/media/word-cloud-gray.2a0eb5d2.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/netgraph-gray.6c6e195c.png\";"],"sourceRoot":""}