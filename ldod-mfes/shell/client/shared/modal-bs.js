import t from"@shared/bootstrap/modal-css.js";import s from"@shared/bootstrap/buttons-css.js";const e=new CSSStyleSheet;e.replaceSync(t+s+"div.modal.fade{display:none}\n");class o extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.adoptedStyleSheets=[e],this.self.innerHTML='\n        <div\n            class="modal fade"\n            id="new-ldod-modal"\n            tabindex="-1">\n            <div class="modal-dialog">\n               <div class="modal-content">\n                    <div class="modal-header">\n                        <slot name="header-slot"></slot>\n                        <button\n                            id="modal-btn-close"\n                            type="button"\n                            class="btn-close">\n                        </button>\n                    </div>\n                    <div class="modal-body">\n                        <slot name="body-slot"></slot>\n                    </div>\n                    <div class="modal-footer">\n                        <slot name="footer-slot"></slot>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div id="modal-backdrop"></div>\n',this.modalBackdrop=this.self.querySelector("#modal-backdrop")}get self(){return this.shadowRoot||this}get modal(){return this.self.firstElementChild}get dialog(){return this.modal.firstElementChild}get static(){return this.hasAttribute("static")}get closeBtn(){return this.modal.querySelector("#modal-btn-close")}get dialogClass(){return this.getAttribute("dialog-class")}get show(){return this.hasAttribute("show")}static get observedAttributes(){return["show","dialog-class"]}attributeChangedCallback(t){this.handleAttributeChange[t]()}handleAttributeChange={"dialog-class":()=>this.setDialogClass(),show:()=>this.show?this.showModal():this.hideModal()};connectedCallback(){this.dialog.addEventListener("click",(t=>t.stopPropagation())),this.self.querySelectorAll("slot").forEach((t=>{t.assignedNodes().length||(t.parentElement.hidden=!0)}))}addEventListeners(){this.closeBtn.addEventListener("click",this.toggle),this.addEventListener("click",this.onClickOutsiteContent),document.addEventListener("keydown",this.onEscape)}removeEventListeners(){this.closeBtn.addEventListener("click",this.toggle),this.removeEventListener("click",this.toggle),document.removeEventListener("keydown",this.onEscape)}onEscape=t=>"Escape"===t.key&&this.onClickOutsiteContent();onClickOutsiteContent=()=>{if(!this.static)return this.toggle();this.show&&(this.modal.classList.toggle("modal-static"),setTimeout((()=>this.modal.classList.toggle("modal-static")),500))};toggle=()=>this.toggleAttribute("show");showModal=()=>{this.addEventListeners(),this.modal.style.display="block",this.ariaModal="true",this.removeAttribute("aria-hidden"),setTimeout((()=>{document.body.classList.add("modal-open"),this.modalBackdrop.className="modal-backdrop show",this.modal.classList.add("show")}),100)};hideModal=()=>{this.removeEventListeners(),this.modalBackdrop.className="",this.ariaHidden="true",this.removeAttribute("aria-modal"),this.modal.classList.remove("show"),this.onHide(),setTimeout((()=>{this.modal.style.display="none",document.body.classList.remove("modal-open")}),100)};onHide=()=>this.dispatchEvent(new CustomEvent("ldod-modal-close",{detail:{id:this.id},bubbles:!0,composed:!0}));setDialogClass(){this.dialog.classList.add(...this.dialogClass.split(" "))}}!customElements.get("ldod-bs-modal")&&customElements.define("ldod-bs-modal",o);export{o as LdodBsModal};
